/*
 * Copyright (C) 2014-2018  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.10.11
*/
(function(){var m;function ca(a){this.f=a;this.X=this.b=null;this.xa=0;this.Vb=x.Vb;this.xk=this.pg=this.gf=this.ve=this.we=0;this.Fg={};this.Yb=null;this.Kh=!1;this.c={M:0,I:0,hn:0,Ol:0,Tb:0,wb:0,Ql:2,ka:null,Pl:null,ma:null,Gi:null,eg:[],mn:Array(361),wl:null,nn:null,th:null,gk:null,hk:null,Om:null,Qm:null,Pm:null,Em:null,Fm:null,Hm:null,Jm:null,Im:null,Km:null,fm:null,Yi:null,Zi:null,rm:null,Ll:null,sl:null,ml:null};this.Hp=new A(255,0,0,128);this.a={d:null,ma:{d:null},ka:{d:null},ke:{d:null},ah:{d:null},jb:{d:null},Ah:{d:null},fe:{d:null},ge:{d:null},bf:{d:null},Event:{d:null},To:[]};this.Kb=new da(this.c,this);this.ob={};this.eb={};this.ai=-1;this.lo={};this.q={aa:0,ba:0,fa:18,ga:18};this.ia={$e:!1,ie:-1,je:-1,Rc:-1,Sc:-1};this.Ee=this.sf=null;this.lg=!1;var b=this;this.xi=function(a){fa(a);a=b.If(E.h,E.g);a=ha(b,a.h,a.g);var d=a.h,e=a.g,f=E,g=!1;if(!1===ia(b,d-1,e-1))b.Kb.be();else if(null===b.Yb&&null!==b.c.ka){void 0===g&&(g=!1);var h;h=b.Kb;d==h.ug&&e==h.vg&&1!=g?h=!0:(h.ug=d,h.vg=e,h.Ca(),h=!1);!1===h&&(10===b.xa&&b.lg&&!g&&ja(b,d,e,f),f=(b.c.Tb-1)/2,g=b.c.ka,d=g[d-1].h-f,e=g[e-1].g-f,b.Kb.Ca(),b.Kb.Bm(d,e),la(b))}11===b.xa&&(e=a.g,!0===b.ia.$e&&(b.ia.Rc=a.h,b.ia.Sc=e));ma(b)};this.Tg=function(a){fa(a);!0===b.lg&&(b.lg=!1,b.yi(a));b.Kb.be()};this.Sg=function(a){oa(a);b.lg=!0;b.a.Event.d.a.focus();var d=b.If(E.h,E.g),d=ha(b,d.h,d.g);b.da(d.h,d.g,E);a.preventDefault();return!1};this.yi=function(a){fa(a);b.lg=!1;var d=b.If(E.h,E.g),d=ha(b,d.h,d.g);11===b.xa&&(a=d.h,d=d.g,!0===b.ia.$e&&(b.ia.$e=!1,b.ia.Rc=a,b.ia.Sc=d));ma(b)};this.Ug=function(a){if(b.ad)return!1;var d=0;void 0!=a.wheelDelta?d=a.wheelDelta:d=-a.detail;0>d?pa(b.b,1):qa(b.b,1);a.preventDefault&&a.preventDefault();return!1};this.aq=function(a){sa(a);var d=!1;16===ta.K&&2===b.xa?(E.B=!0,la(b),d=!0):16!==ta.K&&17!==ta.K||10!==b.xa?(d=ua(b,ta),!0===d&&112<=ta.K&&121>=ta.K?la(b):!0===d&&b.Kb.be()):(16===ta.K?E.B=!0:17===ta.K&&(E.A=!0),la(b),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.cq=function(a){sa(a);16===ta.K&&2===b.xa?(E.B=!1,la(b)):16!==ta.K&&17!==ta.K||10!==b.xa||(16===ta.K?E.B=!1:17===ta.K&&(E.A=!1),la(b))};this.bq=function(){};this.kl=function(){return setTimeout(function(){b.dl();b.Mg();b.Og();b.Ng();if(b.c.ka){var a=b.vi(),d=b.Pc(),e=b.c.Tb;b.c.gk=va(e,e,.05*e,new A(0,0,0,255));b.c.hk=va(e,e,.05*e,new A(255,255,255,255));b.c.Om=b.dc(e,e,.05*e,new A(0,0,0,255));b.c.Qm=b.dc(e,e,.05*e,new A(255,255,255,255));b.c.Pm=b.dc(e,e,.05*e,new A(255,0,0,255));b.c.Em=wa(e,e,.05*e,new A(0,0,0,255));b.c.Fm=wa(e,e,.05*e,new A(255,255,255,255));b.c.Hm=xa(e,e,!1,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Jm=xa(e,e,!1,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Im=xa(e,e,!0,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Km=xa(e,e,!0,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.fm=ya(e,e,.05*e,new A(255,0,0,255));b.c.Yi=ya(e,e,.05*e,new A(0,0,0,255));b.c.Zi=ya(e,e,.05*e,new A(255,255,255,255));b.c.rm=wa(e,e,.05*e,new A(200,0,0,255));b.c.Ll=wa(e,e,.05*e,new A(0,128,0,255));b.c.sl=wa(e,e,.05*e,new A(0,0,200,255));b.c.ml=wa(e,e,.05*e,new A(128,128,128,255))}b.tc();b.c.th=za(b,!0)},20)};this.Zp=function(a){a.preventDefault();return!1};this.$p=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),e=new FileReader;e.onload=function(a){b.b.Xc(a.target.result,null,null,d)};e.readAsText(a);b.Ia()}};this.Mp=function(a){a.preventDefault();return!1}}m=ca.prototype;m.p=function(a,b){this.f&&this.f.sm(this);this.Ej(b);this.a.d=H(a);var c=this.a.d.a,d=a+"_BoardCanvas",e=a+"_LinesCanvas",f=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",l=a+"_MarksCanvas",n=a+"_TargetCanvas",p=a+"_SelectCanvas",q=a+"_CursorCanvas",r=a+"_EventDiv";this.Wa(c,d);this.Wa(c,e);this.Wa(c,f);this.Wa(c,g);this.Wa(c,h);this.Wa(c,k);this.Wa(c,l);this.Wa(c,p);this.Wa(c,n);this.Aa(c,q);c=this.Aa(c,r);this.Kb.p(q);q=this.a.d;this.Da(this.a.ma,q,d);this.Da(this.a.ka,q,e);this.Da(this.a.ah,q,f);this.Da(this.a.jb,q,g);this.Da(this.a.ke,q,h);this.Da(this.a.Ah,q,k);this.Da(this.a.fe,q,l);this.Da(this.a.ge,q,p);this.Da(this.a.bf,q,n);this.Da(this.a.Event,q,r);c.onmousemove=this.xi;c.onmouseout=this.Tg;c.onmousedown=this.Sg;c.onmouseup=this.yi;c.onkeydown=this.aq;c.onkeyup=this.cq;c.onkeypress=this.bq;c.tabIndex=-1;c.style.lp=!0;c.style.outline=0;c.ondragover=this.Zp;c.ondrop=this.$p;c.onmousewheel=this.Ug;c.addEventListener&&(c.addEventListener("contextmenu",this.Mp,!1),c.addEventListener("DOMMouseScroll",this.Ug,!1));return q};m.ol=function(a){this.a.To.push(a)};m.Ia=function(){this.a.Event.d.a.focus()};m.wh=function(a){a!==this.Vb&&(x.wh(a),this.Vb=a,this.f.r(!0))};function za(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.ma.d.a.width;c.height=a.a.ma.d.a.height;d.drawImage(a.a.ma.d.a,0,0);d.drawImage(a.a.ka.d.a,0,0);!0===b&&d.drawImage(a.a.ah.d.a,0,0);d.drawImage(a.a.jb.d.a,0,0);d.drawImage(a.a.ke.d.a,0,0);d.drawImage(a.a.fe.d.a,0,0);return c}m.r=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight,d=Aa(this),e=c*d;e<=b?b=e:c=b/d;if(b!==this.c.hn||c!==this.c.Ol||!0===a)this.c.hn=b,this.c.Ol=c,this.a.d.ub(b,c),Ba(this),this.tc(a)};function Da(a,b,c,d,e){var f=a.X.na(),g=f.h,f=f.g;a.q.aa=Math.max(0,Math.min(g-1,b));a.q.ba=Math.max(0,Math.min(f-1,c));a.q.fa=Math.max(0,Math.min(g-1,d));a.q.ga=Math.max(0,Math.min(f-1,e));a.q.fa<=a.q.aa&&(a.q.aa=0,a.q.fa=g-1);a.q.ga<=a.q.ba&&(a.q.ba=0,a.q.ga=f-1)}function Ea(a){var b=a.X.na(),c=b.h,b=b.g;a.q.aa=0;a.q.ba=0;a.q.fa=c-1;a.q.ga=b-1}function Fa(a,b,c,d){if(a.c.ka&&d!==a.Fg[(c<<8)+b]){var e=a.a.ke.d.a.getContext("2d"),f=a.a.jb.d.a.getContext("2d"),g=a.c.Tb,h=(g-1)/2,k=a.c.ka,l=a.c.wb,n=a.ui();if(!0===ia(a,b-1,c-1)){var p=k[b-1].h-h,h=k[c-1].g-h;e.clearRect(p,h,g,g);!0===n&&f.clearRect(p+l,h+l,g,g);switch(d){case I:e.drawImage(a.c.Gi,p,h);!0===n&&f.drawImage(a.c.jb,p+l,h+l);break;case J:e.drawImage(a.c.eg[a.c.mn[b-1+(c-1)*a.X.na().h]],p,h),!0===n&&f.drawImage(a.c.jb,p+l,h+l)}}a.Fg[(c<<8)+b]=d;d=a.Kb;!0===(b==d.ug&&c==d.vg?!0:!1)&&la(a)}}m.hc=function(a,b){var c=(b<<8)+a;delete this.eb[""+c];c===this.ai&&(this.eb[""+c]=new Ga(a,b,Ha,""))};function La(a,b,c){return(a=a.eb[""+((c<<8)+b)])?a:null}m.Oa=function(a){Ma(this,a.Zd(),a.$d(),a)};m.Ej=function(a){this.b=a;this.X=a.pa;a.m=this;Ea(this)};m.fh=function(){for(var a=this.X,b=1;b<=a.J;b++)for(var c=1;c<=a.v;c++)Na(a,c,b,a.N(c,b));a=this.X.fh(this);this.sf&&Oa(this.sf,a.Zg,a.Bh,a.ul,a.kn,a.Zg+this.b.cd-a.Bh-this.b.gd-this.b.dd);this.b.jc()};function Qa(a,b){(a.b.G&Ra||9===b||11===b)&&a.xa!==b&&(1===a.xa&&a.b.Vi(),a.xa=b,la(a),1===b?(Sa(a.X),a.b.Of()):9===b&&a.fh(),a.b.jc())}function Aa(a){var b=a.X.na(),c=b.h,b=b.g,d=(a.q.fa-a.q.aa)*Ta+2*Ua,e=(a.q.ga-a.q.ba)*Ta+2*Ua;!0===a.Vb&&(d+=Ta,e+=Ta);0<a.q.aa&&(d+=Va/2);a.q.fa<c-1&&(d+=Va/2);0<a.q.ba&&(e+=Va/2);a.q.ga<b-1&&(e+=Va/2);return d/e}m.Wa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.Aa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.Da=function(a,b,c){a.d=H(c);a=a.d;a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.o=L|M|O|Q;b.l(a)};m.If=function(a,b){var c=Wa(this.a.ma.d.a);return{h:a-c.h,g:b-c.g}};function Ba(a){var b=a.X.na(),c=b.h,b=b.g;a.q.aa=Math.max(0,Math.min(c-1,a.q.aa));a.q.ba=Math.max(0,Math.min(b-1,a.q.ba));a.q.fa=Math.max(0,Math.min(c-1,a.q.fa));a.q.ga=Math.max(0,Math.min(b-1,a.q.ga));a.q.fa<=a.q.aa&&(a.q.aa=0,a.q.fa=c-1);a.q.ga<=a.q.ba&&(a.q.ba=0,a.q.ga=b-1);var d=(a.q.fa-a.q.aa)*Ta+2*Ua,e=(a.q.ga-a.q.ba)*Ta+2*Ua,f=Ua,g=Ua;!0===a.Vb&&(d+=Ta,e+=Ta,f+=Va,g+=Va);0<a.q.aa&&(d+=Va/2,f+=Va/2);a.q.fa<c-1&&(d+=Va/2);0<a.q.ba&&(e+=Va/2,g+=Va/2);a.q.ga<b-1&&(e+=Va/2);a.pg=Ta/e;a.gf=Ta/d;a.ve=f/d;a.we=g/e;a.xk=4/d}m.tc=function(a){var b=this.a.ma.d.a.width,c=this.a.ma.d.a.height;if(b!=this.c.M||c!=this.c.I||null===this.c.ma||null!==this.Yb||!0===a){if(null!==this.Yb&&clearTimeout(this.Yb),this.Yb=this.kl(),this.Mg(),0!==b&&0!==c)if(null!==this.c.th)this.a.ma.d.a.getContext("2d").drawImage(this.c.th,0,0,b,c);else{a=this.a.ma.d.a.getContext("2d");a.fillStyle=R(this.Rg());a.fillRect(0,0,b,c);var d=this.a.ka.d.a.getContext("2d");a=this.gf*b;var e=this.pg*c,f=this.ve*b-this.q.aa*a,g=this.we*c-this.q.ba*e,h=this.X.na();d.clearRect(0,0,b,c);d.strokeStyle=R(this.Oe());for(var k=f+(h.h-1)*a,l=0;l<h.g;l++){var n=g+l*e;d.beginPath();d.moveTo(f,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.g-1)*e,p=0;p<h.h;p++)n=f+p*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();d.fillStyle=R(this.Oe());for(var l=Math.max(2,this.xk*b/2),p=Xa(this.X),q=0,r=p.length;q<r;q++)k=f+p[q][0]*a,n=g+p[q][1]*a,d.beginPath(),d.arc(k,n,l,0,2*Math.PI,!1),d.fill();d=this.a.ke.d.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=R(this.Oe());d.lineWidth=1;q=R(new A(0,0,0,255));r=R(new A(255,255,255,255));for(l=1;l<=h.g;l++)for(p=1;p<=h.h;p++){k=this.X.N(p,l);if(I===k)d.fillStyle=q;else if(J===k)d.fillStyle=r;else continue;k=f+(p-1)*a;n=g+(l-1)*e;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.jb.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Ah.d.a.getContext("2d").clearRect(0,0,b,c);this.a.fe.d.a.getContext("2d").clearRect(0,0,b,c);this.a.bf.d.a.getContext("2d").clearRect(0,0,b,c);this.a.ge.d.a.getContext("2d").clearRect(0,0,b,c)}}else{Ya(this);if(!0===this.Vb&&this.c.ka){b=this.a.ma.d.a.getContext("2d");c=this.c.M;l=this.c.I;a=this.X.na();e=2*this.c.Tb/3;f=(e-1)/2;g=this.c.ka;h=2*e/3;b.fillStyle=this.Pc()?"rgb(255,255,255)":"rgb(0,0,0)";for(p=this.q.aa;p<=this.q.fa;p++)d=g[p].h-f,k=this.we*l/3-f,n=Za(p+1,a.h),q=$a(n)?"Arial":"Helvetica, Arial, Verdana",q=h+"px "+q,b.font=q,q=e/2+h/3,r=(e-b.measureText(n).width)/2,b.fillText(n,d+r,k+q),k=l-this.we*l/3-f,b.fillText(n,d+r,k+q);for(l=this.q.ba;l<=this.q.ga;l++)d=this.ve*c/3-f,k=g[l].g-f,n=a.g-l+"",q=$a(n)?"Arial":"Helvetica, Arial, Verdana",q=h+"px "+q,b.font=q,q=e/2+h/3,r=(e-b.measureText(n).width)/2,b.fillText(n,d+r,k+q),d=c-this.ve*c/3-f,b.fillText(n,d+r,k+q)}ab(this);b=this.c.M;c=this.c.I;this.a.ke.d.a.getContext("2d").clearRect(0,0,b,c);this.a.jb.d.a.getContext("2d").clearRect(0,0,b,c);this.Fg={};bb(this);eb(this);fb(this);this.b&&this.b.ag()}11===this.xa&&ma(this)};m.dl=function(){var a=this.a.ma.d.a.width,b=this.a.ma.d.a.height,c=this.a.ma.d.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,e=this.Rg(),f=e.C,g=e.F,e=e.D,h=100/a,k=1.6,l=2.72,d=2432/150,n=Array(a),p=0,q=0;p<a;p++,q+=h)n[p]=.6+k*q+l*q*q*q+d*q*q*q*q*q;for(var h=Array(b),p=1/b,k=.02,l=.004,d=.04/15,r=0,q=0;r<b;r++,q+=p)h[r]=k*q+l*q*q*q+d*q*q*q*q*q;if(!0===this.vi())for(r=0;r<b;r++)for(p=0;p<a;p++){d=40*(n[p]+h[r])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(r==b-1||r==b-2&&p<a-2||p>=a-1||p==a-2&&r<b-1)d/=2;0==r||1==r&&1<p||0==p||1==p&&1<r?(k=128+f*d/2,l=128+g*d/2,d=128+e*d/2):(k=f*d,l=g*d,d*=e);q=4*(p+r*a);c.data[q+0]=k;c.data[q+1]=l;c.data[q+2]=d;c.data[q+3]=255}else for(r=0;r<b;r++)for(p=0;p<a;p++)0==r||1==r&&1<p||0==p||1==p&&1<r?(k=128+f/2,l=128+g/2,d=128+e/2):(k=f,l=g,d=e),q=4*(p+r*a),c.data[q+0]=k,c.data[q+1]=l,c.data[q+2]=d,c.data[q+3]=255;this.c.ma=this.$(a,b,c);this.c.M=a;this.c.I=b;this.Yb=null}};function Ya(a){a.a.ma.d.a.getContext("2d").drawImage(a.c.ma,0,0)}m.Mg=function(){var a=this.c.M,b=this.c.I;if(0!==a&&0!==b){for(var c=this.ve*a,d=this.we*b,b=this.pg*b,e=this.gf*a,f=this.X.na(),g=Math.max(f.h,f.g),f=Array(f.h),c=c-e*this.q.aa,d=d-b*this.q.ba,h,k,l,n,p,q,r,u,t,z,B=0;B<g;B++)h=c+B*e,l=c+B*e+.6*e,p=c+B*e-.6*e,r=c+B*e+.5*e,t=c+B*e-.5*e,k=d+B*b,n=d+B*b+.6*b,q=d+B*b-.6*b,u=d+B*b+.5*b,z=d+B*b-.5*b,f[B]={h:Math.floor(h+.5),gp:Math.floor(l+.5),hp:Math.floor(p+.5),fg:Math.floor(r+.5),Hd:Math.floor(t+.5),g:Math.floor(k+.5),ip:Math.floor(n+.5),jp:Math.floor(q+.5),gg:Math.floor(u+.5),Id:Math.floor(z+.5)};this.c.ka=f;a=Math.max(2,Math.ceil(this.xk*a/2));g=2*a+1;b=this.c;e=g+2;g=g+2;f=this.Oe();c=document.createElement("canvas").getContext("2d").createImageData(e,g);d=c.data;Math.max(e/2,2);h=e/2-.5;k=h-.2;for(l=0;l<e;l++)for(n=0;n<e;n++)p=l-h,q=n-h,p=k-Math.sqrt(p*p+q*q),q=4*(l*e+e-n-1),0<=p?(r=255,.8>=p&&(r=parseInt(255*(1-(.8-p)/.8))),d[q+0]=f.C,d[q+1]=f.F,d[q+2]=f.D,d[q+3]=r):(d[q+0]=0,d[q+1]=0,d[q+2]=0,d[q+3]=0);e=this.$(e,g,c);b.Pl=e;this.c.Ql=a+1}};function ab(a,b){if(a.c.ka){var c=a.c.M,d=a.c.I,e=a.a.ka.d.a.getContext("2d"),f=a.X.na(),g=a.c.ka;e.clearRect(0,0,c,d);for(var h=a.c.Pl,k=a.c.Ql,l=Xa(a.X),n=0,p=l.length;n<p;n++)!0===ia(a,l[n][0],l[n][1])&&e.drawImage(h,g[l[n][0]].h-k,g[l[n][1]].g-k);for(var l=0===a.q.aa?g[a.q.aa].h:g[a.q.aa].hp,n=f.h-1===a.q.fa?g[a.q.fa].h:g[a.q.fa].gp,q=0===a.q.ba?g[a.q.ba].g:g[a.q.ba].jp,r=f.g-1===a.q.ga?g[a.q.ga].g:g[a.q.ga].ip,k=e.createImageData(1,d),p=e.createImageData(c,1),u=a.Oe(),t=0;t<d;t++)h=4*t,t>=q&&t<=r&&(k.data[h+0]=u.C,k.data[h+1]=u.F,k.data[h+2]=u.D,k.data[h+3]=u.Sa);for(t=0;t<c;t++)h=4*t,l<=t&&t<=n&&(p.data[h+0]=u.C,p.data[h+1]=u.F,p.data[h+2]=u.D,p.data[h+3]=u.Sa);for(c=0;c<f.h;c++)!0===(c>=a.q.aa&&c<=a.q.fa?!0:!1)&&e.putImageData(k,g[c].h,0);for(c=0;c<f.g;c++)!0===(c>=a.q.ba&&c<=a.q.ga?!0:!1)&&e.putImageData(p,0,g[c].g);if(void 0!==b)for(f=g[1].h-g[0].h+2,c=g[1].g-g[0].g+2,h=0,p=b.length;h<p;h++)d=b[h].h,k=b[h].g,!0===ia(a,d-1,k-1)&&S===a.X.N(d,k)&&e.clearRect(g[d-1].Hd,g[k-1].Id,f,c)}}m.$=function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;d.getContext("2d").putImageData(c,0,0);return d};m.Og=function(a){if(this.c.ka){var b=this.a.ma.d.a.width,c=this.a.ke.d.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.gf*b))/2)+1;this.c.Tb=a;this.Kb.r(a);var d=c.createImageData(a,a),e=c.createImageData(a,a),f=c.createImageData(a,a),g=c.createImageData(a,a),h=d.data,b=e.data,k=f.data,l=g.data,n=this.gl(),p=this.el(),q=this.Pc();if(!0===this.fl())for(var r=a/2-.5,u=r-.2,n=Math.sqrt(3),t=0;t<a;t++)for(var z=0;z<a;z++){var B=t-r,w=z-r,C=u-Math.sqrt(B*B+w*w),v=4*(t*a+a-z-1);if(0<=C){var G=u*u-B*B-w*w,G=0<G?Math.sqrt(G)*n:0,q=B,ba=w,p=Math.sqrt(6*(q*q+ba*ba+G*G)),p=(2*G-q+ba)/p,q=0;.9<p&&(q=10*(p-.9));G=255;.8>=C&&(C=(.8-C)/.8,G=.7,B-w<u/3&&(G=1),G=parseInt(255*(1-C*G)));B=parseInt(10+10*p+140*q);h[v+0]=B;h[v+1]=B;h[v+2]=B;h[v+3]=G;k[v+0]=B;k[v+1]=B;k[v+2]=B;k[v+3]=parseInt(G/2);B=parseInt(200+10*p+45*q);b[v+0]=B;b[v+1]=B;b[v+2]=B;b[v+3]=G;l[v+0]=B;l[v+1]=B;l[v+2]=B;l[v+3]=parseInt(G/2)}else h[v+0]=0,h[v+1]=0,h[v+2]=0,h[v+3]=0,k[v+0]=0,k[v+1]=0,k[v+2]=0,k[v+3]=0,b[v+0]=0,b[v+1]=0,b[v+2]=0,b[v+3]=0,l[v+0]=0,l[v+1]=0,l[v+2]=0,l[v+3]=0}else for(r=a/2-.5,u=r-.2,t=0;t<a;t++)for(z=0;z<a;z++)if(B=t-r,w=z-r,C=u-Math.sqrt(B*B+w*w),v=4*(t*a+a-z-1),0<=C){G=255;if(.8>=C){var V=(.8-C)/.8,G=.7;B-w<u/3&&(G=1);G=parseInt(255*(1-V*G))}else 1.6>=C&&.8<=C&&!0===q&&(V=(1.6-C)/.8,G=.7,B-w<u/3&&(G=1),G=parseInt(V*G*255));ba=!1;1.6>=C&&(ba=!0);!1===ba||!1===q?(h[v+0]=p.C,h[v+1]=p.F,h[v+2]=p.D,h[v+3]=G,k[v+0]=p.C,k[v+1]=p.F,k[v+2]=p.D,k[v+3]=parseInt(G/2)):(h[v+0]=n.C,h[v+1]=n.F,h[v+2]=n.D,h[v+3]=G,k[v+0]=n.C,k[v+1]=n.F,k[v+2]=n.D,k[v+3]=G);G=255;.8>=C?(V=(.8-C)/.8,G=.7,B-w<u/3&&(G=1),G=parseInt(255*(1-V*G))):1.6>=C&&.8<=C&&!1===q&&(V=(1.6-C)/.8,G=.7,B-w<u/3&&(G=1),G=parseInt(V*G*255));!1===ba||!0===q?(b[v+0]=n.C,b[v+1]=n.F,b[v+2]=n.D,b[v+3]=G,l[v+0]=n.C,l[v+1]=n.F,l[v+2]=n.D,l[v+3]=parseInt(G/2)):(b[v+0]=p.C,b[v+1]=p.F,b[v+2]=p.D,b[v+3]=G,l[v+0]=p.C,l[v+1]=p.F,l[v+2]=p.D,l[v+3]=G)}else h[v+0]=0,h[v+1]=0,h[v+2]=0,h[v+3]=0,k[v+0]=0,k[v+1]=0,k[v+2]=0,k[v+3]=0,b[v+0]=0,b[v+1]=0,b[v+2]=0,b[v+3]=0,l[v+0]=0,l[v+1]=0,l[v+2]=0,l[v+3]=0;this.c.Gi=this.$(a,a,d);this.c.yq=this.$(a,a,e);this.c.wl=this.$(a,a,f);this.c.nn=this.$(a,a,g);d=[];e=[];for(v=0;28>v;v++)for(d[v]=c.createImageData(a,a),e[v]=d[v].data,t=0;t<a;t++)for(z=0;z<a;z++)f=4*(t*a+z),e[v][f+0]=b[f+0],e[v][f+1]=b[f+1],e[v][f+2]=b[f+2],e[v][f+3]=b[f+3];e.push(l);e.push(b);c=this.b.ya;if(!0===(null===c.O.me?x.O.me:c.O.me)){c=a/51*978|0;b=.9;v=Array(c);for(l=0;l<c;l++)v[l]=(Math.sin(18*l/c)+1)/20+(Math.sin(3*l/c)+1)/10;f=Array(c);for(t=0;t<c;t++)f[t]=.2*Math.cos(5*t/c)+.1*Math.sin(11*t/c);z=Array(c*c);for(t=0;t<c;t++)for(l=0;l<c;l++)b=90*(v[l]+f[t])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,z[l+t*c]=b;v=e.length;for(f=0;f<v;f++){var g=e[f],D,K;switch(f){case 0:D=12*c/978|0;K=163*c/978|0;break;case 1:D=12*c/978|0;K=213*c/978|0;break;case 2:D=12*c/978|0;K=263*c/978|0;break;case 3:D=12*c/978|0;K=313*c/978|0;break;case 4:D=62*c/978|0;K=163*c/978|0;break;case 5:D=62*c/978|0;K=213*c/978|0;break;case 6:D=62*c/978|0;K=263*c/978|0;break;case 7:D=62*c/978|0;K=313*c/978|0;break;case 8:D=113*c/978|0;K=163*c/978|0;break;case 9:D=113*c/978|0;K=213*c/978|0;break;case 10:D=113*c/978|0;K=263*c/978|0;break;case 11:D=113*c/978|0;K=313*c/978|0;break;case 12:D=163*c/978|0;K=163*c/978|0;break;case 13:D=163*c/978|0;K=213*c/978|0;break;case 14:D=163*c/978|0;K=263*c/978|0;break;case 15:D=163*c/978|0;K=313*c/978|0;break;case 16:D=213*c/978|0;K=163*c/978|0;break;case 17:D=213*c/978|0;K=213*c/978|0;break;case 18:D=213*c/978|0;K=263*c/978|0;break;case 19:D=213*c/978|0;K=313*c/978|0;break;case 20:D=263*c/978|0;K=163*c/978|0;break;case 21:D=263*c/978|0;K=213*c/978|0;break;case 22:D=263*c/978|0;K=263*c/978|0;break;case 23:D=263*c/978|0;K=313*c/978|0;break;case 24:D=313*c/978|0;K=163*c/978|0;break;case 25:D=313*c/978|0;K=213*c/978|0;break;case 26:D=313*c/978|0;K=263*c/978|0;break;case 27:D=313*c/978|0;K=313*c/978|0;break;case 28:D=12*c/978|0;K=12*c/978|0;break;case 29:D=12*c/978|0,K=12*c/978|0}for(t=0;t<a;t++)for(l=0;l<a;l++)b=z[D+l+(K+t)*c],h=4*(l+t*a),g[h+0]*=Math.pow(b,.8),g[h+1]*=Math.pow(b,.8),g[h+2]*=Math.pow(b,.8)}}D=0;for(K=d.length;D<K;++D)this.c.eg[D]=this.$(a,a,d[D]);a=this.X.na();for(D=0;D<a.g;D++)for(K=0;K<a.h;K++)this.c.mn[K+D*a.h]=Math.floor(Math.random()*(this.c.eg.length-1))}};function bb(a){for(var b=a.X.na(),c=1;c<=b.g;c++)for(var d=1;d<=b.h;d++)Fa(a,d,c,a.X.N(d,c))}m.Ng=function(){if(this.c.ka){var a=this.a.jb.d.a.getContext("2d"),b=this.c.Tb,a=a.createImageData(b,b),c=a.data;this.c.wb=Math.max(parseInt(.15*b),3);for(var d=(b-5)/2+1,e=0;e<b;e++)for(var f=0;f<b;f++){var g=Math.abs(e-d),h=Math.abs(f-d),g=Math.sqrt(h*h+g*g)/d,g=1>g?.15+.75*(1-g):0,h=4*(b*e+f);c[h+0]=0;c[h+1]=0;c[h+2]=0;c[h+3]=parseInt(255*g)}this.c.jb=this.$(b,b,a)}};function la(a){var b,c=a.Kb;b=c.ug;var d=c.vg;if(!1===ia(a,b-1,d-1))a.Kb.be();else{var c=gb,e=a.X.N(b,d);switch(a.xa){case 0:S===e&&(c=I===a.b.lb?hb:ib);break;case 1:I===e?c=jb:J===e&&(c=kb);break;case 2:c=I===e?jb:J===e?kb:E.B?ib:hb;break;case 9:b=lb(a.X,b,d);I===b?c=jb:J===b&&(c=kb);break;case 10:c=E.A&&!E.B?mb:!E.A&&E.B?nb:E.A&&E.B?rb:sb;break;default:c=I===e||S===e&&!0===a.Pc()?jb:kb}gb!=c&&a.b.ya.ee()?a.Kb.Za(c):a.Kb.be()}}function ha(a,b,c){for(var d=a.c.M,e=a.c.I,f=a.pg*e,g=a.gf*d,d=a.ve*d-f*a.q.aa,h=a.we*e-g*a.q.ba,e=0,k=a.X.na(),e=0;e<k.g-1&&c>h+f*e+f/2;e++);for(c=c=0;c<k.h-1&&b>d+g*c+g/2;c++);c=Math.max(a.q.aa,Math.min(a.q.fa,c));e=Math.max(a.q.ba,Math.min(a.q.ga,e));return{h:c+1,g:e+1}}function tb(a,b,c){var d=a.c.M,e=a.c.I;return{h:a.ve*d+(b-1)*a.gf*d,g:a.we*e+(c-1)*a.pg*e}}function va(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=c;f.beginPath();f.moveTo(1*a/4,1*b/4);f.lineTo(3*a/4,3*b/4);f.moveTo(3*a/4,1*b/4);f.lineTo(1*a/4,3*b/4);f.stroke();return e}m.dc=function(a,b,c,d,e){void 0===e&&(e=1);var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d");g.clearRect(0,0,a,b);g.globalAlpha=e;g.strokeStyle=R(d);g.fillStyle=R(d);g.lineWidth=c;c=a/2;b=3*b/4;d=.1*a;e=Math.sqrt(c*c-(b-c)*(b-c))+c;c=-Math.sqrt(c*c-(b-c)*(b-c))+c;g.beginPath();g.moveTo(a/2,d);g.lineTo(e-d,b);g.lineTo(c+d,b);g.closePath();g.stroke();return f};function wa(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=Math.floor(c+.5);var g=a/2,h=-b/2*Math.sqrt(2)/2+b/2,k=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g),g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),l=Math.floor(b/2*Math.sqrt(2)/2+b/2);c=Math.floor(c);for(var n=f.createImageData(a,b),p=0;p<b;p++)for(var q=0;q<a;q++){var r=4*(p*a+q);(k<=q&&q<=k+c||g-c<=q&&q<=g)&&h<=p&&p<=l||(h<=p&&p<=h+c||l-c<=p&&p<=l)&&k<=q&&q<=g?(n.data[r+0]=d.C,n.data[r+1]=d.F,n.data[r+2]=d.D,n.data[r+3]=255):(n.data[r+0]=0,n.data[r+1]=0,n.data[r+2]=0,n.data[r+3]=0)}f.putImageData(n,0,0);return e}function xa(a,b,c,d,e){var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d"),h=g.createImageData(a,b),k=c?b/4|0:b/3|0,l=c?3*b/4|0:2*b/3|0,n=c?a/4|0:a/3|0;c=c?3*a/4|0:2*a/3|0;for(var p=0;p<b;p++)for(var q=0;q<a;q++){var r=4*(p*a+q);(p===k||p===l)&&q>=n&&q<=c||(q===n||q===c)&&p>=k&&p<=l?(h.data[r+0]=e.C,h.data[r+1]=e.F,h.data[r+2]=e.D,h.data[r+3]=255):p>k&&p<l&&q>n&&q<c?(h.data[r+0]=d.C,h.data[r+1]=d.F,h.data[r+2]=d.D,h.data[r+3]=255):h.data[r+3]=0}g.putImageData(h,0,0);return f}function ya(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);var g=a/2,h=4*c;f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=c;f.beginPath();f.arc(a/2,b/2,g-h,0,2*Math.PI,!1);f.stroke();return e}function ub(a,b,c){a=a.eb[""+((c<<8)+b)];return void 0!==a?a:null}function Ma(a,b,c,d){Ha===d.T?vb(a,b,c):a.eb[""+((c<<8)+b)]=d}function vb(a,b,c){if(0>=b||0>=c)a.ai=0;else{var d=(c<<8)+b;void 0===a.eb[""+d]&&(a.eb[""+d]=new Ga(b,c,Ha,""));a.ai=d}}function fb(a){a.a.fe.d.a.getContext("2d").clearRect(0,0,a.c.M,a.c.I);var b=[],c;for(c in a.eb){var d=a.eb[c];void 0===a.lo[c]&&(wb(a,d),xb===d.T&&b.push({h:d.Zd(),g:d.$d()}))}for(c in a.lo){var d=yb(c),e=a,f=d.h,g=d.g;if(e.c.ka){var h=e.a.fe.d.a.getContext("2d");if(!0===ia(e,f-1,g-1)){var k=(e.c.Tb-1)/2,l=e.c.ka;h.drawImage(e.c.Pm,l[f-1].h-k,l[g-1].g-k)}}b.push({h:d.h,g:d.g})}ab(a,b)}function wb(a,b){if(a.c.ka){var c=b.Zd(),d=b.$d(),e=b.T,f=a.a.fe.d.a.getContext("2d"),g=a.Pc();if(!0===ia(a,c-1,d-1)){var h=a.c.Tb,k=(h-1)/2,l=a.c.ka,n=l[c-1].h-k,k=l[d-1].g-k,c=a.X.N(c,d);f.clearRect(n,k,h,h);switch(e){case zb:f.drawImage(a.c.Hm,n,k);break;case Ab:f.drawImage(a.c.Jm,n,k);break;case Bb:f.drawImage(a.c.Im,n,k);break;case Cb:f.drawImage(a.c.Km,n,k);break;case Ha:!0===a.Kh?I===c?f.drawImage(a.c.Zi,n,k):f.drawImage(a.c.Yi,n,k):f.drawImage(a.c.fm,n,k);break;case Db:f.drawImage(c===I||c==S&&1==g?a.c.Zi:a.c.Yi,n,k);break;case Eb:f.drawImage(c===I||c==S&&1==g?a.c.Fm:a.c.Em,n,k);break;case Fb:f.drawImage(c===I||c==S&&1==g?a.c.Qm:a.c.Om,n,k);break;case Gb:f.drawImage(c===I||c==S&&1==g?a.c.hk:a.c.gk,n,k);break;case xb:e=b.Oc,d=2>=e.length?2*h/3:h/2,l=d+"px "+($a(e)?"Arial":"Helvetica, Arial, Verdana"),f.fillStyle=c===I||c==S&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",f.font=l,f.fillText(e,n+(h-f.measureText(e).width)/2,k+(h/2+d/3))}}}}function eb(a){for(var b in a.ob){var c=yb(b);Hb(a,c.h,c.g)}}function Ib(a){for(var b in a.ob){var c=yb(b);Jb(a,c.h,c.g)}a.ob={}}function ja(a,b,c,d){var e=(c<<8)+b;if(Kb===d.Ti)void 0!==a.ob[e]&&(delete a.ob[e],Jb(a,b,c),a.b.zj(b,c));else{d=d.A&&!d.B?new A(200,0,0,50):d.B&&!d.A?new A(0,100,0,50):d.B&&d.A?new A(80,80,80,50):new A(0,0,200,50);if(void 0!==a.ob[e]){var f=a.ob[e];d.C===f.C&&d.F===f.F&&d.D===f.D?(d=f.Sa,a.ob[e].Sa=50>d?50:100>d?100:150>d?150:200):a.ob[e]=d}else a.ob[e]=d;Hb(a,b,c);a.b.Ai(b,c,a.ob[e])}}function Hb(a,b,c){Jb(a,b,c);var d=a.a.ah.d.a.getContext("2d"),e=a.c.ka,f=b-1,g=c-1;d.fillStyle=R(a.ob[(c<<8)+b]);d.beginPath();d.moveTo(e[f].Hd,e[g].Id);d.lineTo(e[f].fg,e[g].Id);d.lineTo(e[f].fg,e[g].gg);d.lineTo(e[f].Hd,e[g].gg);d.closePath();d.fill()}function Jb(a,b,c){var d=a.a.ah.d.a.getContext("2d");a=a.c.ka;b=b-1;c=c-1;d.clearRect(a[b].Hd,a[c].Id,a[b].fg-a[b].Hd,a[c].gg-a[c].Id)}m.da=function(a,b,c){switch(this.xa){case 0:var d=this.b.W;if(Kb==c.Ti)if(d&&d.AddNewNodeWithMove){var e=this.b.k;if(c=e.qa){this.b.W=null;this.b.ea(c);var f=this.b.lb;if(!1===Lb(this,a,b))this.b.ea(e),this.b.W=d;else{var g=Mb(this.b.k,a,b,f);-1===g||d.CheckExistNodeOnMove&&!0!==d.CheckExistNodeOnMove()?(this.b.ea(e),this.b.W=d,d.AddNewNodeWithMove(c,a,b,f)):(b=this.b.k.U(g),this.b.ea(e),this.b.W=d,d.GoToNode&&d.GoToNode(b))}}}else 1<=this.b.Jc&&(qa(this.b,1),Nb(this,a,b));else if(c.B&&c.A)this.b.Zf(I===this.b.lb?J:I),la(this);else if(!0===c.A)e=this.X.na(),d=e.g,a=Za(a,e.h),b=a+(d+1-b),this.b.Xg(b),(a=this.b.f)&&a.Co&&a.Co(b);else if(c.B){d=this.b;d.qb&&(d.qb.ef=!1);e=d.k;c=d.W;d.W=null;Ob(d);for(f=0;1E3>f&&S===d.pa.N(a,b);)pa(d,1),f++;c&&c.GoToNode?(c.GoToNode(d.k),d.ea(e),d.W=c):(S===d.pa.N(a,b)&&d.ea(e),d.qb&&(d.qb.ef=!0))}else d&&d.AddNewNodeWithMove?!1!==Lb(this,a,b)&&(f=this.b.lb,g=Mb(this.b.k,a,b,f),-1===g||d.CheckExistNodeOnMove&&!0!==d.CheckExistNodeOnMove()?d.AddNewNodeWithMove(this.b.k,a,b,f):(b=this.b.k.U(g),d.GoToNode&&d.GoToNode(b))):(Nb(this,a,b),null!==this.Ee&&Pb(this.b.k)>=Qb(this.Ee)&&Rb(this.Ee));break;case 1:if(e=this.b.W)e.MarkLife&&S!==this.X.N(a,b)&&(d=Sb(this.X,a,b),e.MarkLife(a,b,I!==d&&J!==d?!1:!0));else if(!0===c.A)Qa(this,0);else{e=this.X;c=e.N(a,b);if(S!==c)if(e.Vh.Pa(),f=Sb(e,a,b),I!==f&&J!==f){e.Na.Pa();Tb(e,a,b,c);for(d in e.Vh.ab)f=yb(d|0),e.Na.Pa(),Ub(e,f.h,f.g,3-c),Yb(e.Na,e,3);Zb(e,!0);e.Na.Pa();Tb(e,a,b,c);Yb(e.Na,e,3-c)}else e.Na.Pa(),Tb(e,a,b,c),Yb(e.Na,e,3),Zb(e,!0);this.b.Of()}break;case 2:d=I;S!==this.X.N(a,b)?d=S:c.B&&(d=J);(e=this.b.W)?(c=this.b.k,c=!0===c.Vc()||c===this.b.Cb(),e.AddOrRemoveStone&&e.AddOrRemoveStone(c,a,b,d)):(!0===this.b.k.Vc()&&!0===$b(this.b,!0,!0)&&ac(this.b),Fa(this,a,b,d),this.X.Set(a,b,d,-1),this.b.Pe(d,[(b<<8)+a]));break;case 3:bc(this,Fb,a,b);break;case 4:bc(this,Eb,a,b);break;case 5:bc(this,Db,a,b);break;case 6:bc(this,Gb,a,b);break;case 7:cc(this,a,b,c);break;case 8:a:{f=ub(this,a,b);d=this.b.W;if(null!==f&&xb===f.T){if(d){d.AddOrRemoveMark&&d.AddOrRemoveMark(!1,a,b,xb,f.Oc);break a}this.b.hc([(b<<8)+a]);this.hc(a,b)}else{f="";if(c.B){c=this.X.Yd(a,b);if(-1==c){b=this.b;(a=b.f)&&dc(a.Y.id,ec,{Q:b,S:a,vc:"Sorry, no move has been made at that location, so you can't mark it with the move number.",M:305,I:115});break a}f=""+c}if(void 0===f||""===f||null===f){c=[];f=0;for(e in this.eb)g=this.eb[e],xb===g.T&&$a(g.Oc)&&(c[f]=parseInt(g.Oc),f++);if(0>=f)f="1";else{c.sort(fc);for(var g=e=0,h=!1,k=0;k<f;k++){if(c[k]>e+1){g=e+1;h=!0;break}e=c[k]}h||(g=e+1);f=""+g}}if(d){d.AddOrRemoveMark&&d.AddOrRemoveMark(!0,a,b,xb,f);break a}d=new Ga(a,b,xb,f);this.b.Qe(f,(b<<8)+a);Ma(this,a,b,d)}fb(this)}break;case 9:d=this.X;c=d.N(a,b);if(S!==c){g=new gc;hc(d,a,b,g);e=[];for(f in g.hi)e.push(f);b=lb(d,a,b)!==c?c:I===c?J:I;a=0;for(c=e.length;a<c;a++)f=yb(e[a]),Na(d,f.h,f.g,b)}b=this.X.fh(this);this.sf&&Oa(this.sf,b.Zg,b.Bh,b.ul,b.kn,b.Zg+this.b.cd-b.Bh-this.b.gd-this.b.dd);fb(this);la(this);break;case 10:ja(this,a,b,c);break;case 11:this.ia.$e=!0,this.ia.ie=a,this.ia.je=b,this.ia.Rc=a,this.ia.Sc=b,ma(this)}};function ma(a){if(11===a.xa&&!(!a.c.ka||0>=a.ia.ie||0>=a.ia.je||0>=a.ia.Rc||0>=a.ia.Sc)){var b=a.c.M,c=a.c.I,d=a.c.ka,e=a.a.ge.d.a.getContext("2d");e.clearRect(0,0,b,c);var b=a.ia.ie-1,c=a.ia.je-1,f=a.ia.Rc-1;a=a.ia.Sc-1;if(b>f)var g=f,f=b,b=g;c>a&&(g=a,a=c,c=g);e.fillStyle=R(new A(107,112,122,128));e.beginPath();e.moveTo(d[b].Hd,d[c].Id);e.lineTo(d[f].fg,d[c].Id);e.lineTo(d[f].fg,d[a].gg);e.lineTo(d[b].Hd,d[a].gg);e.closePath();e.fill()}}function bc(a,b,c,d){var e=ub(a,c,d),f=a.b.W;f?f.AddOrRemoveMark&&f.AddOrRemoveMark(null===e||b!==e.T,c,d,b):null!==e&&b===e.T?(a.b.hc([(d<<8)+c]),a.hc(c,d),a.c.ka&&!0===ia(a,c-1,d-1)&&(b=(a.c.Tb-1)/2,f=a.c.ka,e=f[c-1].h-b,f=f[d-1].g-b,a.a.fe.d.a.getContext("2d").clearRect(e,f,2*b,2*b),b=yb(a.ai),c===b.h&&d===b.g&&(vb(a,c,d),wb(a,ub(a,c,d))))):(e=new Ga(c,d,b,""),a.b.Oa(b,[(d<<8)+c]),Ma(a,c,d,e),wb(a,e))}function cc(a,b,c,d){var e=ub(a,b,c),f=a.b.W;if(null!==e&&xb===e.T){if(f){f.AddOrRemoveMark&&f.AddOrRemoveMark(!1,b,c,xb,e.Oc);return}a.b.hc([(c<<8)+b]);a.hc(b,c)}else{var g="";if(d.B){if(!a.f||!a.a.d||!a.a.d.a)return;d=a.f.Y;if(!d)return;var e=tb(a,b,c),h=ic(a.f,a.a.d.a),k=window.i?window.i.u.nr:"Label...",l=50;window.P&&(window.P.Ze("16px 'Times New Roman', Times, serif"),l=window.P.oa(k)+6+2+2);var n=document.createElement("input");n.style.position="absolute";n.style.top=h.g+e.g-10+"px";n.style.left=h.h+e.h-l/2+"px";n.style.width=l+"px";n.style.height="20px";n.style.fontFamily='"Times New Roman", Times, serif';n.style.fontSize="16px";n.type="text";n.placeholder=k;n.style.outline=0;n.style.border="1px solid rgb(166, 166, 166)";n.style.boxShadow="rgba(0, 0, 0, 0.8) 0px 1px 15px";n.style.padding="3px";d.appendChild(n);n.focus();n.onblur=function(){jc(a.f)};n.onkeydown=function(d){27===d.keyCode?jc(a.f):13===d.keyCode&&(g=this.value,f?f.AddOrRemoveMark&&f.AddOrRemoveMark(!0,b,c,xb,g):(d=new Ga(b,c,xb,g),a.b.Qe(g,(c<<8)+b),Ma(a,b,c,d),fb(a)),jc(a.f))};kc(a.f,n);return}if(void 0==g||""===g||null===g)if(g=lc(a),null===g){d=a.b;(e=d.f)&&dc(e.Y.id,ec,{Q:d,S:e,vc:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",M:305,I:115});return}if(f){f.AddOrRemoveMark&&f.AddOrRemoveMark(!0,b,c,xb,g);return}d=new Ga(b,c,xb,g);a.b.Qe(g,(c<<8)+b);Ma(a,b,c,d)}fb(a)}function lc(a){var b=[],c=-1,d;for(d in a.eb){var e=a.eb[d];if(xb==e.T){var e=e.Oc,f=e.charCodeAt(0);1==e.length&&65<=f&&90>=f&&(b[f]=1)}}for(a=65;90>=a;a++)if(void 0===b[a]||""==b[a]){c=a;break}return-1==c?null:String.fromCharCode(c)}function Nb(a,b,c){1==Lb(a,b,c)&&!0===oc(a.b,b,c,I===a.b.lb?I:J)&&ac(a.b)}function Lb(a,b,c){var d=!1;if(S===a.X.N(b,c)){var d=I===a.b.lb?I:J,e=a.X.md.ud();a.X.Set(b,c,d,-1);d=null!==pc(a.X,b,c,d,!0)?!0:null!==qc(a.X,b,c,d)?!1:!0;a.X.Set(b,c,S,-1);a.X.md.Vd(e)}return d}function ua(a,b){if(9!==a.xa&&11!==a.xa){var c=a.b.W,d=b.K,e=!1;if(8===d||46===d){if(c&&c.RemoveNode){c.RemoveNode(a.b.k);return}c=a.b;if(c.G&64)if(d=c.k.qa,null===d)c.k.Pa(),c.R&&(c.R.fc(),c.R.Qa()),c.ea(c.k);else for(var e=0,f=rc(d);e<f;e++)if(c.k===d.U(e)){f=d;f.va.splice(e,1);f.ra>=e&&f.ra--; -1===f.ra&&0<f.va.length&&(f.ra=0);f.b&&T(f.b,!0);c.k=d;c.R&&(c.R.fc(),c.R.Qa());c.ea(d);break}e=!0}else if(36===d)!0===b.A&&!0===b.B&&(c=a.b,c.ea(c.gi),e=!0);else if(37===d)b.A&&b.B?Ob(a.b):b.A?qa(a.b,5):qa(a.b,1),e=!0;else if(38===d)b.A?a.b.hh():sc(a.b),e=!0;else if(39===d)b.A&&b.B?tc(a.b):b.A?pa(a.b,5):pa(a.b,1),e=!0;else if(40===d)uc(a.b),e=!0;else if(45===d&&!0===b.A){if(c&&c.AddNewNode){c.AddNewNode(a.b.k);return}$b(a.b,!0,!0);e=!0}else if(65===d&&!0===b.A&&!0===b.B){Ya(a);var g=a.c.M,h=a.c.I,k=a.a.ka.d.a.getContext("2d");k.clearRect(0,0,g,h);for(var c=g/406,d=h/348,l=[207,193,1],f=[{h:0,g:49},{h:0,g:198},{h:71,g:348},{h:178,g:348},{h:318,g:348},{h:406,g:238},{h:406,g:41},{h:247,g:0}],e=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],n=0,p=f.length;n<p;n++)k.beginPath(),k.moveTo(l[0]*c,l[1]*d),k.lineTo(f[n].h*c,f[n].g*d),k.stroke();f=0;for(n=e.length;f<n;f++){p=e[f];k.beginPath();for(var q=0,r=p.length;q<r;q++){var u=p[q];0===q?k.moveTo(u[0]*c,u[1]*d):k.lineTo(u[0]*c,u[1]*d)}k.closePath();k.stroke()}e.push([l]);a.Og(30*c);a.Ng();k=a.a.ke.d.a.getContext("2d");l=a.a.jb.d.a.getContext("2d");k.clearRect(0,0,g,h);l.clearRect(0,0,g,h);g=(a.c.Tb-1)/2;h=a.c.wb;f=0;for(n=e.length;f<n;f++)for(p=e[f],q=0,r=p.length;q<r;q++){var u=p[q],t=(u[0]*c|0)-g,z=(u[1]*d|0)-g;I===u[2]?k.drawImage(a.c.Gi,t,z):J===u[2]&&k.drawImage(a.c.eg[Math.random()*(a.c.eg.length-1)|0],t,z);I!==u[2]&&J!==u[2]||l.drawImage(a.c.jb,t+h,z+h)}e=!0}else if(67===d&&!0===b.A)10===a.xa?a.b.Wi():dc(a.a.d.a.id,vc,{Q:a.b,S:a.f}),e=!0;else if(68===d&&!0===b.A)!0===b.B?a.b.mh(-1):dc(a.a.d.a.id,wc,{Q:a.b,S:a.f}),e=!0;else if(69===d&&!0===b.A)a.b&&a.b.G&xc&&dc(a.a.d.a.id,yc,{Q:a.b,S:a.f}),e=!0;else if(72===d&&!0===b.A)!0===b.B?(c=a.b,zc(c,[c.k])):Ac(a.b),e=!0;else if(73===d&&!0===b.A){if(!0===b.B){c=a.b;d=[];e=[];Bc(c.Ja,e);f=0;for(n=e.length;f<n;f++)for(p=e[f],Cc(p),q=c.Ja,d.push(q);q!==p&&0<rc(q);)q=q.U(q.ra),d.push(q);zc(c,d)}else Dc(a.b);e=!0}else 75===d&&!0===b.A?(dc(a.a.d.a.id,Ec,{Q:a.b,S:a.f}),e=!0):77===d&&!0===b.A&&!0===b.B?(a.b.kh(),e=!0):79===d&&!0===b.A?(10===a.xa?dc(a.a.d.a.id,Fc,{cj:a,S:a.f}):a.b&&a.b.G&Gc&&(!0===b.B?dc(a.a.d.a.id,Hc,{Q:a.b,S:a.f}):Ic(a.b)),e=!0):82===d&&!0===b.A?(10===a.xa?(Ib(a),a.b.yj()):a.wh(!0===a.Vb?!1:!0),e=!0):83===d&&!0===b.A?(c=a.b.Wf(),FileReader&&Blob&&(d=a.b.pd,""===d&&(d=a.b.qd+" vs. "+a.b.od),""===d&&(d="download"),Jc(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),e=!0):85===d&&!0===b.A?!0===b.B&&(a.b.mh(1),e=!0):86===d&&!0===b.A?(!0===b.B?a.b&&a.b.G&Kc&&dc(a.a.d.a.id,Lc,{Q:a.b,S:a.f}):(c=a.b.xe,c++,c>Mc&&(c=Nc),Oc(a.b,c)),e=!0):112===d?(Qa(a,0),e=!0):113===d?(Qa(a,1),e=!0):114===d?(Qa(a,2),e=!0):115===d?(Qa(a,3),e=!0):116===d?(Qa(a,4),e=!0):117===d?(Qa(a,5),e=!0):118===d?(Qa(a,6),e=!0):119===d?(Qa(a,7),e=!0):120===d?(Qa(a,8),e=!0):121===d&&(Qa(a,10),e=!0);return e}}function ia(a,b,c){return b>=a.q.aa&&b<=a.q.fa&&c>=a.q.ba&&c<=a.q.ga?!0:!1}m.vi=function(){var a=this.b.ya;return null===a.O.yb?x.O.yb:a.O.yb};m.fl=function(){var a=this.b.ya;return null===a.O.Hb?x.O.Hb:a.O.Hb};m.ui=function(){var a=this.b.ya;return null===a.O.Gb?x.O.Gb:a.O.Gb};m.gl=function(){var a=this.b.ya;return null===a.O.Nb?x.O.Nb:a.O.Nb};m.el=function(){var a=this.b.ya;return null===a.O.Lb?x.O.Lb:a.O.Lb};m.Rg=function(){var a=this.b.ya;return null===a.O.Bb?x.O.Bb:a.O.Bb};m.Oe=function(){var a=this.b.ya;return null===a.O.Mb?x.O.Mb:a.O.Mb};m.Pc=function(){var a=this.b.ya;return null===a.O.Fb?x.O.Fb:a.O.Fb};var gb=-1,hb=0,ib=1,kb=2,jb=3,mb=4,nb=5,sb=6,rb=7;function da(a,b){this.m=b;this.vg=this.ug=-1;this.oc=null;this.Bk=gb;this.Ua=-1;this.c=a}m=da.prototype;m.p=function(a){this.oc=document.getElementById(a);this.oc.style.position="absolute";this.be()};m.r=function(a){this.oc.width=a;this.oc.height=a;this.oc.style.width=a+"px";this.oc.style.height=a+"px";this.Ua=a;this.Bk=gb};m.be=function(){this.oc.style.display="none";this.vg=this.ug=-1};m.Ca=function(){var a=this.m.b;a&&!0===a.ya.ee()&&(this.oc.style.display="block")};m.Bm=function(a,b){this.oc.style.left=a+"px";this.oc.style.top=b+"px"};m.Za=function(a){if(a!=this.Bk&&(this.Bk=a,gb!==a)){var b=document.createElement("canvas");b.width=this.Ua;b.height=this.Ua;var c=b.getContext("2d");switch(a){case hb:c.drawImage(this.c.wl,0,0);break;case ib:c.drawImage(this.c.nn,0,0);break;case kb:c.drawImage(this.c.gk,0,0);break;case jb:c.drawImage(this.c.hk,0,0);break;case mb:c.drawImage(this.c.rm,0,0);break;case nb:c.drawImage(this.c.Ll,0,0);break;case sb:c.drawImage(this.c.sl,0,0);break;case rb:c.drawImage(this.c.ml,0,0)}a=b.toDataURL("image/png");this.oc.style.backgroundImage="url('"+a+"')"}};function Pc(a){this.b=(this.f=a)?a.b:null;this.Va=0;this.yg=16;this.uk=!1;this.c={Hl:null,km:null,dm:null,nl:null,ym:null};this.a={d:null,td:{d:null}};this.ei=new A(0,0,0,51);this.Hg=new A(255,255,255,255);this.$h=new A(0,0,0,102);this.uf=new A(255,255,255,255);this.zg=new A(0,0,0,153);this.Ag=new A(255,255,255,255);this.Yh=new A(0,0,0,0);this.Zh=new A(140,140,140,255);this.Dp=new A(0,0,0,77);this.Sh=this.J=this.v=0;var b=this;this.Sg=function(a){4!==b.Va&&(oa(a),b.Va=1,Qc(b),a.stopImmediatePropagation(),b.Gf())};this.yi=function(a){if(4!==b.Va){if(E.ib!==a.target)return;b.Va=2;Qc(b);b.da();a.stopImmediatePropagation()}b.Hf();b.Ne()};this.kq=function(){4!==b.Va&&(1!==b.Va&&(b.Va=2),Qc(b))};this.Tg=function(){4!==b.Va&&(b.Va=b.uk?8:0,Qc(b),b.Ne())};this.Hf=function(){!b.b||b instanceof Rc||b.b.Ia()};this.hl=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}m=Pc.prototype;m.p=function(a,b){this.b=b;this.Ga();this.a.d=H(a);var c=this.a.d.a;c.setAttribute("title",this.ja());c.style.backgroundColor="rgba(217,217,217,1)";var d=document.createElement("canvas");d.setAttribute("id",a+"_canvas");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style["-webkit-transition"]="background 2s";d.style.transition="background 2s";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.a.td.d=H(a+"_canvas");d=this.a.td.d;d.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);d.o=L|M|O|Q;this.a.d.l(d);c.onmousedown=this.Sg;c.onmouseup=this.yi;c.onmouseover=this.kq;c.onmouseout=this.Tg;c.onfocus=this.Hf;c.tabIndex=-1;c.style.outline="none";c.draggable="true";c.ur=this.hl;this.r()};m.r=function(a){if(!0===(0>this.Sh?!1:!0)){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.J||!0===a)this.v=b,this.J=c,this.a.d.ub(this.v,this.J),this.tc()}};function Sc(a,b){!0===b&&4===a.Va?(a.Va=0,Qc(a)):!1===b&&4!==a.Va&&(a.Va=4,Qc(a))}function Tc(a,b){a.yg!==b&&(a.yg=b,a.tc(),a.a.d.a.setAttribute("title",a.ja()))}function Uc(a,b){a.uk!==b&&(a.uk=b,!0===b&&0===a.Va?(a.Va=8,Qc(a)):!1===b&&8===a.Va&&(a.Va=0,Qc(a)))}m.be=function(){this.a.d&&this.a.d.a&&(this.a.d.a.style.display="none")};m.Ca=function(){this.a.d&&this.a.d.a&&(this.a.d.a.style.display="block")};m.tc=function(){var a=this.J,b=this.v;0!==b&&0!==a&&(this.c.nl=Vc(this,this.zg,this.Ag,b,a),this.c.dm=Vc(this,this.$h,this.uf,b,a,!1,!0),this.c.km=Vc(this,this.ei,this.Hg,b,a),this.c.Hl=Vc(this,this.Yh,this.Zh,b,a,!0),this.c.ym=Vc(this,this.Dp,this.uf,b,a,!1,!0),Qc(this))};function Vc(a,b,c,d,e,f,g){var h=a.a.td.d.a.getContext("2d");h.clearRect(0,0,d,e);h.fillStyle=R(b);h.fillRect(0,0,d,e);h.fillStyle=R(c);h.strokeStyle=R(c);var k=.8*Math.min(d,e)|0;a.la(h,k,(d-k)/2,(e-k)/2,f,d,e,b,c);!0===g&&a.Pg(h,d,e);return h.getImageData(0,0,d,e)}m.la=function(){};m.dc=function(a,b,c,d,e){var f=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>e?(d.beginPath(),d.moveTo(f,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(f,g),d.lineTo(b,h),d.lineTo(f,a));d.closePath();d.fill()};function Qc(a){var b=a.a.td.d.a.getContext("2d"),c=null;switch(a.Va){case 2:c=a.c.dm;break;case 1:c=a.c.nl;break;case 4:c=a.c.Hl;break;case 8:c=a.c.ym;break;default:case 0:c=a.c.km}c&&b.putImageData(c,0,0)}m.da=function(){};m.ja=function(){return""};m.Ga=function(){};function Wc(a,b){a.Sh--;var c=new Image;c.onload=function(){a.Sh++;0<=a.Sh&&a.r(!0)};c.src=b;return c}m.Gf=function(){this.a.d.a.style.transition="transform 0.1s ease-out";this.a.d.a.style.transform="scale(0.9)"};m.Ne=function(){this.a.d.a.style.transition="transform 0.2s ease-out";this.a.d.a.style.transform="scale(1)"};m.Pg=function(a,b,c){a.beginPath();a.lineWidth=1;a.strokeStyle=R(new A(0,0,0,255));a.moveTo(0,0);a.lineTo(b,0);a.lineTo(b,c);a.lineTo(0,c);a.lineTo(0,0);a.stroke();a.beginPath()};function Xc(a){Xc.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRIczM2u5QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XMYqFMBQF0JshlYgg8hqXIELERrfgAmaVA65DYQrTuASbIIKIVSBTDQy/m59A/od3+8AhvNxHBACM44hXyQdeLAxiEIMY9HYgIvoehsG1beve4oaklOi6ztV17aKDpJTo+96VZYk8z5GmaTzQL4aIsO87tNbiuq44oEfMsiziPM84MxQS4w0KjfEGKaUcEeG+b6zr+uWL8QZprYUxBkmSoKqqzyzL4oKstZimSRhjUBQFmqZxvijvoQ6NCvLsQ6KCFeMjSinlojb1X9S2bTiOA880tQy9XK21mOdZPHte8EeRQQxiEIMY9L/8AMSPglq/uMNKAAAAAElFTkSuQmCC");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRcMrA1KxAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA6UlEQVRYw+3XPQqEMBAF4Jdgr52VYBpvIlZWoodUUll5Ae+gjYKVnb1gttrFakGdJYGd1Al8+XvDAI4NAQDDMDgDkq6dEIMYxKC/A3lXF+z7bvq+h1IKaZqKb3PvBK73i122bWt83/9UAqtXprU24zhiXVccx2H3DWmtzTzPiKIIZVkKKaU90BlTVZWw+suoMCQgSsxjUNd1ZpomBEFAgnkMyrJMKKWwbRvqujZOJHVRFCKOYyzLQoIiedSUKLJvT4UiDcYzqmkaYz2p36gkSRCGIe4k9U+Ka57nt9sr7ssYxCAGMYhBF8cLoc5sGgK/ZxQAAAAASUVORK5CYII=")}Yc(Xc,Pc);Xc.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};Xc.prototype.da=function(){Ob(this.b)};Xc.prototype.ja=function(){return(window.i?window.i.u.button.hint.Dq:"Back to the start")+" (Ctrl+Shift+Left)"};Xc.prototype.Ga=function(){this.f.w.Ei.push(this)};function $c(a){$c.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRwVK5I7zwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcUlEQVRYw+3VwQnAIAyFYVu6UJbqDB0vh9xFcA7xHALpCAptpbXvO77TDwENAQAAfkBECjPvvfujYoyuql5r9Z59SIyqekrJW/uwmJyzt3bETBuzfv7NedXJEDVV1F1fx3Y1iIgWESlmdvTsAAAAszsB2vBQahKN40YAAAAASUVORK5CYII=");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSMBaZbFjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XvQqDMBQF4HNtcBOsc0fBB9DB53dScHB1cepWcMkWxNulFilU1Cb9457xLPlIokkIt7Rti08mSRIAgIcvi4AEJCAB/QXIGMPDMPCsOj7pn+VkDaS15qIo0DQNmO9jH+b9ipytgLTWXFUVmBlxHIOIpv4y79+yZBNmHEekaYowDGmpXxu1F1OWJZgZWZYhiiJa6p3OkEvMZpBrzO//h4IgoDzPQUSo6xp93/NS/5YZco3atWQuUbv3kCvUS5t6PnjXdfej47HfErLxDDLGsOd5UErRmn7pGaRsfKq+79OWXi5oAhKQgAQkIIu5AvJV2EqdOHDMAAAAAElFTkSuQmCC")}Yc($c,Pc);$c.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};$c.prototype.da=function(){qa(this.b,5)};$c.prototype.ja=function(){return(window.i?window.i.u.button.hint.Cq:"Back 5 moves")+" (Ctrl+Left)"};$c.prototype.Ga=function(){this.f.w.Fi.push(this)};function ad(a){ad.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSUz9xsziAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3VIQ7DMAwF0J+ppHABQSEhISVBPdLOsKvsEr1NSKQoKi0oq0IqdbQabN0lquwTPNnfthiGATXVA5UVgxjEIAbdDqSUmqWUrypAxpit7/unc+7Ttm1ZkDFm67oOADCOI3LO5UB7TAgBMUZRbGS/mBCCKBZqaswp0BWYe92hlJLw3gMArLWw1m7FO3QF6vTIqFEkGaJEkYV6j9Ja4+jraCg3JKUklmWZ13V9H30dDfXaTtMk+Q4xiEEMYhCD/lhfy3RcBznfWwkAAAAASUVORK5CYII=");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgeB2oRsAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAx0lEQVRYw+3XMQqEMBAF0D8h2AniGbyBFp7fSiGFrY1HsEkXxL/VwtY6bkTmHyA8kskPEQBYlgVPicPDYiADGchArwOllLjvOx8BijFyGAbM8wySeUExRk7TBJJomgYikg/0xRzHgbZtUVWVnF3La2DGcQRJdF2Huq4l21BrYy6B7sC8q4fKspS+7yEiCCFg2zZm36E7UJePTBulMkOaKLWh/kWt63r66RDtb1BKic45eO9P1YDXvrZFUYj1kIEMZCADGeiP+QAy+XDf76BlKwAAAABJRU5ErkJggg==")}Yc(ad,Pc);ad.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};ad.prototype.da=function(){qa(this.b,1)};ad.prototype.ja=function(){return(window.i?window.i.u.button.hint.Bq:"Back")+" (Left)"};ad.prototype.Ga=function(){this.f.w.sd.push(this)};function bd(a){bd.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSkJnaKlNgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3WIQ7DIBQG4L8NBiQCVVODqeFU21V6he0QPUsNhqQh2AossrsDvKVseb8n+QL8D4Zt29BTRnQWBjGIQQz6WZDW+mGMydQgUbNISgnn3EspBe/9FWMcbt2hUgpSSgCAZVkwz/N1+5EdxzGEEMhRTZc6hECOam4ZNYqk9pSo/xyM1trLWgsA8N6jZQyMPWGaQdSYJtA3MNUgKSWmaSLHVL9lpRTs+/4UQqzneeouWpZzflNj+IPGIAYxiEEMqsgHyjhf9O2e3l4AAAAASUVORK5CYII=");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgxrLss6QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAyUlEQVRYw+3VsQqDUAwF0JvycBPEbxBcBR38ficFB1cXP8HFTSS3U3/Al9LXNtkDB5KbyLquSKXqusYDiZWDHOQgB30t6LounufJJEAksSwLhmHAcRz8OEhEUFUVSGKaJlPU7ZEVRSFt20JVTVFRS12WpXRdB1XFOI4mqOiUvVAkTVAmsbdE/eZh3Ped8zxDRND3PfI8l4+BLDHRIGtMFOgdmKjXsW2bOQYAwt3X0TQNVBVZlollysLtxhAk2dg7yEEOcpCD/gn0BPdVbmFsgto0AAAAAElFTkSuQmCC")}Yc(bd,Pc);bd.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};bd.prototype.da=function(){pa(this.b,1)};bd.prototype.ja=function(){return(window.i?window.i.u.button.hint.cr:"Forward")+" (Right)"};bd.prototype.Ga=function(){this.f.w.wd.push(this)};function cd(a){cd.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQ2nmr2RgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAZUlEQVRYw+3VMQrAIAyFYelhe84M7kHwHMU5S3qAVnCxpOH/xrfkQdCUAgBIRETOWuu1mm83xnAzc1X1lXy71pqb2WP4LP9E7/11+CynVPpSR5o/KdTKKPOblxXudIQ7rgAABHQDS2dNsnKXx6sAAAAASUVORK5CYII=");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQYQrz7iQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxElEQVRYw+2VPQuDMBCG30j/QIduHQP5AQr6/5cQyBAQBxenbl0C2b0uOhQSxI8ULfdM4eXgHnJHAjAMwzAXoe/751JN13XUti1N9fdYvpfbfFBKvZaKnXPw3sNaSwAesbyqKrFHqFhTLKUEEcEYgxDCO5ZPsr8RqutalGWJcRy/mqfyLWy6Xq01WWshhEDTNJjHlMqzC+WU2rWAOaSKsz0//zGyUy11TpnVQrllVi/1MAzRpqk8O6lP9MjPlWEYhmGuzgcvy8ThfV4IDQAAAABJRU5ErkJggg==")}Yc(cd,Pc);cd.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};cd.prototype.da=function(){pa(this.b,5)};cd.prototype.ja=function(){return(window.i?window.i.u.button.hint.dr:"Forward 5 moves")+" (Ctrl+Right)"};cd.prototype.Ga=function(){this.f.w.fj.push(this)};function dd(a){dd.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRAjSJ3hWgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABBElEQVRYw+3WwYmFMBAG4D8PvUgIiKYJERQv2oJXYatcsA4Pqxh42EQQIQQPImRr2DyzesgUMHyZyUwCPCxI3/ePwXRdh9fTKuRBHuRBHnRFVFVl2rY1nPOffwHleW7qujZBEFx+mD9npJQijmOkaYowDM0wDOQ8z/taprWGEIKs6wrOOZqmubRSVi1TSmGeZyco60vtCvXRlLlAfTz2Siksy/K97zs45yiKwtwKYowhy7KvKIogpYQQgtwGYoyhLEuTJAmklLhiBbyehLEGucJYgSilKIrCCcbq6dBaY9s2HMeBcRwvxViBAOD9fhM4isBF0mmayG17yP8YPciDPMiDHMcvBCGFxBHbK9gAAAAASUVORK5CYII=");this.pc=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDQ4kArhLJgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA9UlEQVRYw+3WsY6FIBAF0CtQWNjTEWw0Uf+/9x/URBsNVnQmdhqZ1+wPLMo+s2H6S85MYALwskrGcXwNpixLsLdNKIIiKIIi6IkyxlDbtnSe59+ArLU0TROFaEb8NuCcg7UWxhgcx0FN0yRfBTHGUNd1QkS0LAsAPIoSPiHOOX4Qj6OEbzAUStwJh0CJux1xzlFVVbLvO83zjCzLiDH2vT10XReGYaBt25DnObTWtybE7mK6rqN1XaG1xhN3iL0J4w0KhfECOefQ930QjPemllIiTVMURfEoxvvZSykTKWWQ74cIcahSKlFKxQ9aBEVQBEXQv6wPn1Z3S2AlDhEAAAAASUVORK5CYII=")}Yc(dd,Pc);dd.prototype.la=function(a,b,c,d,e){(b=e?this.pc:this.Ab)&&a.drawImage(b,0,0)};dd.prototype.da=function(){tc(this.b)};dd.prototype.ja=function(){return(window.i?window.i.u.button.hint.er:"Go to the end")+" (Ctrl+Shift+Right)"};dd.prototype.Ga=function(){this.f.w.ej.push(this)};function ed(a){ed.t.constructor.call(this,a)}Yc(ed,Pc);ed.prototype.la=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.2*b+.5),k=Math.ceil(d+.38*b+.5),l=Math.ceil(d+.52*b+.5),n=Math.ceil(d+.6*b+.5),p=Math.ceil(d+.68*b+.5);b=Math.ceil(d+.84*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,l);a.lineTo(g,l);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};ed.prototype.da=function(){uc(this.b)};ed.prototype.ja=function(){return(window.i?window.i.u.button.hint.tr:"Next variant")+" (Down)"};ed.prototype.Ga=function(){this.f.w.Cd.push(this)};function fd(a){fd.t.constructor.call(this,a)}Yc(fd,Pc);fd.prototype.la=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.8*b+.5),k=Math.ceil(d+.62*b+.5),l=Math.ceil(d+.48*b+.5),n=Math.ceil(d+.4*b+.5),p=Math.ceil(d+(1-.68)*b+.5);b=Math.ceil(d+(1-.84)*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,l);a.lineTo(g,l);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};fd.prototype.da=function(){sc(this.b)};fd.prototype.ja=function(){return(window.i?window.i.u.button.hint.wr:"Previous variant")+" (Up)"};fd.prototype.Ga=function(){this.f.w.Dd.push(this)};function gd(a){gd.t.constructor.call(this,a)}Yc(gd,Pc);gd.prototype.la=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.25*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};gd.prototype.da=function(){Qa(this.b.m,0)};gd.prototype.ja=function(){return(window.i?window.i.u.button.hint.Tq:"Moves")+" (F1)"};gd.prototype.Ga=function(){this.f.w.Li.push(this)};function hd(a){hd.t.constructor.call(this,a)}Yc(hd,Pc);hd.prototype.la=function(a,b,c,d,e,f,g,h){e=a.createImageData(b,b);f=b/5|0;g=4*b/5|0;for(var k=0;k<b;k++)for(var l=0;l<b;l++){var n=4*(k*b+l);k>=f&&k<=g&&l>=f&&l<=g?(b-k>=l||k===f||k===g||l===f||l===g?(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0):(e.data[n+0]=255,e.data[n+1]=255,e.data[n+2]=255),e.data[n+3]=255):(e.data[n+0]=h.C,e.data[n+1]=h.F,e.data[n+2]=h.D,e.data[n+3]=h.Sa)}a.putImageData(e,c,d)};hd.prototype.da=function(){Qa(this.b.m,1)};hd.prototype.ja=function(){return(window.i?window.i.u.button.hint.Vq:"Count Scores")+" (F2)"};hd.prototype.Ga=function(){this.f.w.Ni.push(this)};function id(a){id.t.constructor.call(this,a)}Yc(id,Pc);id.prototype.la=function(a,b,c,d){var e=Math.ceil(c+.75*b+.5),f=Math.ceil(d+.125*b+.5),g=Math.ceil(.25*b+.5),h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.875*b+.5);f=Math.ceil(d+.5);g=Math.ceil(.02*b+.5);h=Math.ceil(.25*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5);f=Math.ceil(d+.875*b+.5);g=Math.ceil(.25*b+.5);h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5*b-b/10+.5);f=Math.ceil(d+.5*b-b/10+.5);g=Math.ceil(.25*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};id.prototype.da=function(){Qa(this.b.m,2)};id.prototype.ja=function(){return(window.i?window.i.u.button.hint.Sq:"Editor")+" (F3)"};id.prototype.Ga=function(){this.f.w.Ki.push(this)};function jd(a){jd.t.constructor.call(this,a)}Yc(jd,Pc);jd.prototype.la=function(a,b,c,d){var e=b/2,f=3*b/4,g=.1*b,h=Math.sqrt(e*e-(f-e)*(f-e))+e,e=-Math.sqrt(e*e-(f-e)*(f-e))+e;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(c+b/2,d+2*g);a.lineTo(c+h-g,d+f+g);a.lineTo(c+e+g,d+f+g);a.closePath();a.stroke()};jd.prototype.da=function(){Qa(this.b.m,3)};jd.prototype.ja=function(){return(window.i?window.i.u.button.hint.Yq:"Triangles")+" (F4)"};jd.prototype.Ga=function(){this.f.w.Qi.push(this)};function kd(a){kd.t.constructor.call(this,a)}Yc(kd,Pc);kd.prototype.la=function(a,b,c,d){var e=b/2,f=.05*b,g=-b/2*Math.sqrt(2)/2+b/2,h=Math.floor(c+(Math.sqrt(e*e-(g-e)*(g-e))+e)-f);c=Math.ceil(c+(-Math.sqrt(e*e-(g-e)*(g-e))+e)+f);g=Math.ceil(d+g+f);d=Math.floor(d+(b/2*Math.sqrt(2)/2+b/2)-f);a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(h,g);a.lineTo(c,g);a.lineTo(c,d);a.lineTo(h,d);a.closePath();a.stroke()};kd.prototype.da=function(){Qa(this.b.m,4)};kd.prototype.ja=function(){return(window.i?window.i.u.button.hint.Wq:"Squares")+" (F5)"};kd.prototype.Ga=function(){this.f.w.Oi.push(this)};function ld(a){ld.t.constructor.call(this,a)}Yc(ld,Pc);ld.prototype.la=function(a,b,c,d){var e=.05*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke()};ld.prototype.da=function(){Qa(this.b.m,5)};ld.prototype.ja=function(){return(window.i?window.i.u.button.hint.Qq:"Circles")+" (F6)"};ld.prototype.Ga=function(){this.f.w.Ji.push(this)};function md(a){md.t.constructor.call(this,a)}Yc(md,Pc);md.prototype.la=function(a,b,c,d){var e=c+.25*b;c+=.75*b;var f=d+.25*b;d+=.75*b;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(e,f);a.lineTo(c,d);a.moveTo(c,f);a.lineTo(e,d);a.stroke()};md.prototype.da=function(){Qa(this.b.m,6)};md.prototype.ja=function(){return(window.i?window.i.u.button.hint.Zq:"X marks")+" (F7)"};md.prototype.Ga=function(){this.f.w.Ri.push(this)};function nd(a){nd.t.constructor.call(this,a)}Yc(nd,Pc);nd.prototype.la=function(a,b,c,d){var e=.8*b;a.font=e+"px Arial";a.fillText("A",c+(b-a.measureText("A").width)/2,d+b/2+e/3)};nd.prototype.da=function(){Qa(this.b.m,7)};nd.prototype.ja=function(){return(window.i?window.i.u.button.hint.Xq:"Text labels")+" (F8)"};nd.prototype.Ga=function(){this.f.w.Pi.push(this)};function od(a){od.t.constructor.call(this,a)}Yc(od,Pc);od.prototype.la=function(a,b,c,d){var e=.8*b;a.font=e+"px Helvetica, Arial, Verdana";a.fillText("1",c+(b-a.measureText("1").width)/2,d+b/2+e/3)};od.prototype.da=function(){Qa(this.b.m,8)};od.prototype.ja=function(){return(window.i?window.i.u.button.hint.Uq:"Numeric labels")+" (F9)"};od.prototype.Ga=function(){this.f.w.Mi.push(this)};function pd(a){pd.t.constructor.call(this,a)}Yc(pd,Pc);pd.prototype.la=function(a,b,c,d){if(16===this.yg)this.dc(b,c,d,a,1);else{var e=Math.floor(c+b/5+b/20+.5);c=Math.ceil(c+4*b/5-b/20+.5);var f=Math.ceil(d+b/5+.5);d=Math.ceil(d+4*b/5+.5);var g=Math.ceil(e+b/5);b=Math.floor(c-b/5);a.beginPath();a.moveTo(e,f);a.lineTo(g,f);a.lineTo(g,d);a.lineTo(e,d);a.closePath();a.fill();a.beginPath();a.moveTo(c,f);a.lineTo(b,f);a.lineTo(b,d);a.lineTo(c,d);a.closePath();a.fill()}};pd.prototype.da=function(){16===this.yg?this.b.bg():this.b.af()};pd.prototype.ja=function(){return 16===this.yg?window.i?window.i.u.button.hint.Ar:"Start autoplay":window.i?window.i.u.button.hint.Br:"Stop autoplay"};pd.prototype.Ga=function(){this.f.Bg=this};function qd(a){qd.t.constructor.call(this,a)}Yc(qd,Pc);m=qd.prototype;m.la=function(a,b,c,d,e,f,g,h,k){b=a.createImageData(f,g);e=b.data;c=(f-8)/2|0;d=(g-8)/2|0;for(h=0;h<g;h++)for(var l=0;l<f;l++){var n=4*(l+h*f),p=k.C,q=k.F,r=k.D,u=h-d,t=l-c;if(0===u&&(0===t||1===t||6===t||7===t)||1===u&&(1===t||2===t||5===t||6===t)||2===u&&(2===t||3===t||4===t||5===t)||3===u&&(3===t||4===t)||4===u&&(3===t||4===t)||5===u&&(2===t||3===t||4===t||5===t)||6===u&&(1===t||2===t||5===t||6===t)||7===u&&(0===t||1===t||6===t||7===t))r=q=p=255;e[n+0]=p;e[n+1]=q;e[n+2]=r;e[n+3]=255}a.putImageData(b,0,0)};m.da=function(){this.b.hb()};m.ja=function(){return window.i?window.i.$c.button.close:"Close"};m.Gf=function(){};m.Ne=function(){};m.Pg=function(){};function Rc(a){Rc.t.constructor.call(this,a)}Yc(Rc,Pc);Rc.prototype.la=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("i",c+(b-a.measureText("i").width)/2,d+b/2+e/3)};Rc.prototype.da=function(){dc(this.a.d.a.id,rd,{Q:this.b,S:this.f})};Rc.prototype.ja=function(){return window.i?window.i.u.button.hint.Fa:"Game info"};function sd(a){sd.t.constructor.call(this,a)}Yc(sd,Pc);m=sd.prototype;m.la=function(a,b,c,d,e,f,g){e="OK";window.i&&(e=window.i.$c.button.Kp);a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();f=e;g=.8*b;a.fillStyle=R(new A(0,0,0,255));a.font=g+"px Tahoma, Sans serif";a.fillText(f,c+(b-a.measureText(f).width)/2,d+b/2+g/3)};m.da=function(){this.b.Ue()};m.ja=function(){var a="OK";window.i&&(a=window.i.$c.button.Kp);return a};m.Gf=function(){};m.Ne=function(){};m.Pg=function(){};function td(a){td.t.constructor.call(this,a)}Yc(td,Pc);m=td.prototype;m.la=function(a,b,c,d,e,f,g){e="Cancel";window.i&&(e=window.i.$c.button.cancel);a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();f=e;g=.8*b;a.fillStyle=R(new A(0,0,0,255));a.font=g+"px Tahoma, Sans serif";a.fillText(f,c+(b-a.measureText(f).width)/2,d+b/2+g/3)};m.da=function(){this.b.Rl()};m.ja=function(){var a="Cancel";window.i&&(a=window.i.$c.button.cancel);return a};m.Gf=function(){};m.Ne=function(){};m.Pg=function(){};function ud(a){ud.t.constructor.call(this,a);this.fb=null}Yc(ud,Pc);ud.prototype.p=function(a,b){vd.t.p.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.width=36;d.height=36;d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);c=H(a+"_canvas");c.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.o=L|M|O|Q;this.a.d.l(c);this.fb=d};ud.prototype.la=function(a,b,c,d){var e=this.fb.getContext("2d");e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;var f=.02*b;a=b/2-b/30;var g=b/4;e.lineWidth=Math.ceil(7*f+.5);e.beginPath();e.arc(c+b/2,d+b/2,g,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*f+.5);for(f=0;9>f;f++){e.beginPath();var h=40*f*Math.PI/180;e.lineTo(c+g*Math.cos(h)+b/2,d-g*Math.sin(h)+b/2);e.lineTo(c+a*Math.cos(h)+b/2,d-a*Math.sin(h)+b/2);e.stroke()}};ud.prototype.da=function(){dc(this.a.d.a.id,wd,{Q:this.b,S:this.f});"rotate(90deg)"!==this.fb.style.transform?(this.fb.style.transition="transform 0.5s linear",this.fb.style.transform="rotate(90deg)"):(this.fb.style.transition="transform 0.5s linear",this.fb.style.transform="rotate(0deg)")};ud.prototype.ja=function(){return"Settings"};function xd(a){xd.t.constructor.call(this,a)}Yc(xd,Pc);xd.prototype.la=function(a,b,c,d){var e=window.i?window.i.u.button.Lp:"Pass",f=.9*b;a.font=f+"px Times New Roman, Sans serif";a.fillText(e,c+(b-a.measureText(e).width)/2,d+b/2+f/3)};xd.prototype.da=function(){this.b.nm()};xd.prototype.ja=function(){return window.i?window.i.u.button.Lp:"Pass"};function yd(a){yd.t.constructor.call(this,a)}Yc(yd,Pc);yd.prototype.la=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("?",c+(b-a.measureText("?").width)/2,d+b/2+e/3)};yd.prototype.da=function(){dc(this.a.d.a.id,zd,{Q:this.b,S:this.f})};yd.prototype.ja=function(){return"About"};function Ad(a){Ad.t.constructor.call(this,a)}Yc(Ad,Pc);Ad.prototype.la=function(a,b,c,d){var e=Math.ceil(c+3*b/20+.5),f=Math.ceil(c+16*b/20+.5),g=Math.ceil(c+14*b/20+.5);c=Math.ceil(c+11*b/20+.5);var h=Math.ceil(d+5*b/20+.5),k=Math.ceil(d+14*b/20+.5);b=Math.ceil(d+18*b/20+.5);a.lineWidth=2;a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,k);a.lineTo(g,k);a.lineTo(g,b);a.lineTo(c,k);a.lineTo(e,k);a.closePath();a.stroke()};Ad.prototype.da=function(){this.Rk.ge(this)};Ad.prototype.ja=function(){return"Comments"};function Bd(a){Bd.t.constructor.call(this,a)}Yc(Bd,Pc);Bd.prototype.la=function(a,b,c,d){var e=c+0,f=c+5*b/20,g=c+15*b/20;c+=b;var h=d+6*b/20;d+=16*b/20;b=b/6+1|0;a.lineWidth=2;a.lineJoin="miter";a.strokeStyle="rgba(0,0,0, 1)";a.beginPath();a.moveTo(e-2|0,h|0);a.lineTo(c+2|0,h|0);a.stroke();a.beginPath();a.moveTo(f|0,h|0);a.lineTo(f|0,d|0);a.lineTo(c+2|0,d|0);a.stroke();a.lineWidth=1;a.strokeStyle=R(new A(0,0,0));a.fillStyle=R(new A(255,255,255));a.beginPath();a.arc(g,h,b,0,2*Math.PI,!1);a.fill();a.stroke();a.beginPath();a.arc(g,d,b,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));a.beginPath();a.arc(f,h,b,0,2*Math.PI,!1);a.fill()};Bd.prototype.da=function(){this.Rk.ge(this)};Bd.prototype.ja=function(){return"Navigator"};function Cd(a){Cd.t.constructor.call(this,a);var b=a.Y,c=this;this.mb=373;this.zb=40;var d=document.createElement("div");d.id=b.id+"ButtonBoardModeToolbarWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.mb+"px";d.style.height=this.zb+"px";d.style.background="rgb(217, 217, 217)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.opacity=0;d.style.overflowY="hidden";d.style.boxSizing="border-box";d.onclick=function(){Dd(c)};b.appendChild(d);var e=document.createElement("div");e.id=b.id+"ButtonBoardModeToolbar";e.style.position="absolute";e.style.top="1px";e.style.left="1px";e.style.right="1px";e.style.bottom="1px";d.appendChild(e);this.co=new gd(a);this.fo=new hd(a);this.$n=new id(a);this.jo=new jd(a);this.ho=new kd(a);this.bo=new ld(a);this.ko=new md(a);this.io=new nd(a);this.eo=new od(a);this.ao=new Ed(a);b=new Fd(a);U(b,this.co,36,W);U(b,this.fo,36,W);U(b,this.$n,36,W);U(b,this.jo,36,W);U(b,this.ho,36,W);U(b,this.bo,36,W);U(b,this.ko,36,W);U(b,this.io,36,W);U(b,this.eo,36,W);U(b,this.ao,36,W);b.p(e.id,a.b);b.r();d.style.display="none";this.rb=d;this.sa=null;this.pf=0;d.style.transitionProperty="opacity,top,height";d.style.transitionDuration="1s";d.style.transitionTimingFunction="cubic-bezier(0,0,0,1)";d.style.transitionDelay="0s";this.Jk=this.xa=null}Yc(Cd,Pc);m=Cd.prototype;m.r=function(){Cd.t.r.apply(this,arguments);var a=ic(this.f,this.a.d.a),b=a.h-this.mb/2+18,a=a.g-50,c=this.f.Sb(),d=this.f.Ka();b+this.mb>c-5&&(b=c-5-this.mb);5>b&&(b=5);a+this.zb>d-5&&(a=d-5-this.zb);5>a&&(a=5);this.pf=a;this.rb.style.left=b+"px";this.rb.style.top=a+"px"};m.la=function(){};m.da=function(){if("none"===this.rb.style.display){if(null===this.Jk){var a=this;this.Jk=setTimeout(function(){null!==a.sa&&(clearTimeout(a.sa),a.sa=null);a.rb.style.display="block";a.rb.style.opacity=0;a.rb.style.top=a.pf+50+"px";a.rb.style.height="0px";a.sa=setTimeout(function(){a.rb.style.opacity=1;a.rb.style.top=a.pf+"px";a.rb.style.height=a.zb+"px";a.sa=null;a.Jk=null},20)},20)}}else Dd(this)};m.ja=function(){return(window.i?window.i.u.button.hint.Pq:"Select Edit mode")+" (F1-F10)"};m.Ga=function(){this.f.Ig=this};m.tc=function(){Qc(this)};function Dd(a){"none"!==a.rb.style.display&&(null!==a.sa&&(clearTimeout(a.sa),a.sa=null),a.rb.style.opacity=0,a.rb.style.top=a.pf+50+"px",a.rb.style.height="0px",a.sa=setTimeout(function(){a.rb.style.display="none";a.sa=null},500))}function Ed(a){nd.t.constructor.call(this,a)}Yc(Ed,Pc);Ed.prototype.la=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};Ed.prototype.da=function(){Qa(this.b.m,10)};Ed.prototype.ja=function(){return(window.i?window.i.u.button.hint.Rq:"Color marks")+" (F10)"};Ed.prototype.Ga=function(){this.f.w.Ii.push(this)};function vd(a,b){nd.t.constructor.call(this,a);this.Ab=Wc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwVDQAZ4Th1ZQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkUlEQVQY033PsRHDIAwF0A+nitILUHCnhoapklW8QrZhBBo1NDRULEEak3OwsSpO0pOEijG+QgifWityzgoP4Zzr1lqklN5ERLsxBswMAH2FmbkfPSCiXbfWNhEZRTBzf0IigtbapgGglKJWeEalFAUANBqORPfe/84eg2b0Bxf4FgGAnv9zPnuFLhvnzaf3Jb5oPFaLEyr1tgAAAABJRU5ErkJggg==");this.fb=null;this.bc=b;var c=a.Y,d=window.i?window.i.u.Wg.sr:"Main navigation",e=window.i?window.i.u.Wg.Ir:"Tree navigation",f=window.i?window.i.u.Wg.ir:"General toolbar",g=window.i?window.i.u.Wg.autoplay:"Autoplay toolbar",h=window.i?window.i.u.Wg.Er:"Timeline panel",k=window.i?window.i.u.Wg.lr:"Kifu mode";this.mb=160;this.zb=134;window.P&&(window.P.Ze('16px "Times New Roman", Times, serif'),this.mb=33+Math.max(window.P.oa(d),window.P.oa(e),window.P.oa(f),window.P.oa(g),window.P.oa(h),window.P.oa(k))+7);var l=document.createElement("div");l.id=c.id+"ToolbarCustomizeWrapper";l.style.position="absolute";l.style.top="100px";l.style.left="100px";l.style.width=this.mb+"px";l.style.height=this.zb+"px";l.style.background="rgb(255, 255, 255)";l.style.display="block";l.style.border="1px solid rgb(166, 166, 166)";l.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";l.style.overflowY="hidden";c.appendChild(l);l.style.transitionProperty="height";l.style.transitionDuration="0.2s";l.style.transitionDelay="0s";l.style.display="none";this.nc=l;this.Be=this.sa=null;c=document.createElement("ul");c.style.padding="5px 0";c.style.margin="2px 0 0";c.style.listStyle="none";c.style.fontSize="16px";c.style.i="padding-box";c.style.lineHeight="20px";this.Ap=Gd(this,c,d,function(){a.Xj()},x.re);this.Gp=Gd(this,c,e,function(){a.Zj()},x.te);this.vp=Gd(this,c,f,function(){a.Vj()},x.pe);this.tp=Gd(this,c,g,function(){a.Uj()},x.oe);this.Fp=Gd(this,c,h,function(){a.Yj()},x.se);this.yp=Gd(this,c,k,function(){a.Wj()},x.qe);l.appendChild(c)}Yc(vd,Pc);m=vd.prototype;m.p=function(a,b){vd.t.p.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;top:14px;left:11px;width:14px;height:8px;");d.width=14;d.height=8;d.setAttribute("oncontextmenu","return false;");d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.fb=d};m.r=function(){vd.t.r.apply(this,arguments);var a=ic(this.f,this.a.d.a),b=a.h+36-this.mb,a=a.g+36+5,c=this.f.Sb(),d=this.f.Ka();b+this.mb>c-5&&(b=c-5-this.mb);5>b&&(b=5);a+this.zb>d-5&&(a=d-5-this.zb);5>a&&(a=5);this.pf=a;this.nc.style.left=b+"px";this.nc.style.top=a+"px"};m.la=function(){this.fb&&this.fb.getContext("2d").drawImage(this.Ab,0,0)};m.da=function(){if("none"===this.nc.style.display){if(null===this.Be){var a=this;this.Be=setTimeout(function(){null!==a.sa&&(clearTimeout(a.sa),a.sa=null);a.nc.style.display="block";a.nc.style.height="0px";a.sa=setTimeout(function(){a.nc.style.height=a.zb+"px";a.sa=null;a.Be=null;a.fb.style.transition="transform 0.2s ease";a.fb.style.transform="rotate(180deg)";Uc(a,!0)},20)},20)}}else Hd(this)};m.ja=function(){return""};m.Ga=function(){this.f.w.kb=this};function Hd(a,b){"none"!==a.nc.style.display&&(!0===b?(a.nc.style.height="0px",a.nc.style.display="none",a.fb.style.transition="transform 0.2s ease",a.fb.style.transform="rotate(0deg)",Uc(a,!1)):(null!==a.sa&&(clearTimeout(a.sa),a.sa=null),a.nc.style.height="0px",a.sa=setTimeout(function(){a.nc.style.display="none";a.sa=null;a.fb.style.transition="transform 0.2s ease";a.fb.style.transform="rotate(0deg)";Uc(a,!1)},200)))}function Gd(a,b,c,d,e){var f=document.createElement("li");f.style.fontFamily='"Times New Roman", Times, serif';f.style.width=a.mb-10+"px";f.style.height="20px";f.style.color="#444444";f.style.margin="0px 5px 0px 5px";f.style.cursor="pointer";var g=document.createElement("div");g.style.paddingLeft="3px";g.style.width="20px";g.style.height="20px";g.style["float"]="left";Kd(g,e?"\u2714":"");f.appendChild(g);e=document.createElement("div");e.style.paddingLeft="5px";e.style.height="20px";e.style.width=a.mb-10-20-10+"px";e.style["float"]="left";e.style.overflow="hidden";Kd(e,c);f.appendChild(e);f.onmouseover=function(){f.style.background="#d8dadc";f.style.color="#373737"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#444444"};f.onclick=function(){d&&d();Hd(a,!0)};b.appendChild(f);return g}m.Jj=function(a){this.bc&&this.bc.Jj(a);Ld(this.Ap,a)};m.Nj=function(a){this.bc&&this.bc.Nj(a);Ld(this.Gp,a)};m.Fj=function(a){this.bc&&this.bc.Fj(a);Ld(this.vp,a)};m.Aj=function(a){this.bc&&this.bc.Aj(a);Ld(this.tp,a)};m.Mj=function(a){this.bc&&this.bc.Mj(a);Ld(this.Fp,a)};m.Gj=function(a){this.bc&&this.bc.Gj(a);Ld(this.yp,a)};function Ld(a,b){a&&(!0===b?Kd(a,"\u2714"):Kd(a,""))}function Md(a){Md.t.constructor.call(this,a);var b=a.Y;a=a.b;var c=document.createElement("div");c.style.position="absolute";c.style.top="40px";c.style.width="200px";c.style.backgroundColor="white";c.style.borderWidth="1px";c.style.borderColor="#b3b3b3";c.style.borderStyle="solid";c.style.padding="0px";c.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.3)";c.style.opacity="1";c.style.zIndex="10";c.style.overflowX="hidden";c.style.overflowY="hidden";c.style.maxHeight="calc(100vh - 90px)";c.style.transitionProperty="height";c.style.transitionDuration="0.2s";c.style.transitionDelay="0s";this.Y=b;this.$b=c;this.zb=c.clientHeight;this.mb=c.clientWidth;this.Be=this.sa=null;this.b=a;b.appendChild(c);Nd(this);c.style.display="none"}Yc(Md,Pc);m=Md.prototype;m.la=function(a,b,c,d,e,f,g,h){f=2;e=c+3;g=c+b-3;var k=d+9,l=d+6+9;d=d+12+9;a.fillStyle=!0===Od(this.zg,h)?"rgb(167, 167, 167)":"rgb(217, 217, 217)";a.fillRect(0,0,b+2*c,b+2*c);a.lineWidth=f;a.strokeStyle="rgb(100, 100, 100)";a.beginPath();a.moveTo(e,k);a.lineTo(g,k);a.stroke();a.beginPath();a.moveTo(e,l);a.lineTo(g,l);a.stroke();a.beginPath();a.moveTo(e,d);a.lineTo(g,d);a.stroke()};function Pd(a,b,c,d){var e=document.createElement("div");e.style.padding="0px";e.style.P="0px";b.appendChild(e);var f=document.createElement("div");f.style.display="flex";f.style.kp="center";f.style.padding="0px";f.style.position="relative";f.style.cursor="pointer";f.style.transition="background-color 0.25s ease";f.style.backgroundColor="#fff";f.style.color="#424242";f.style.border="1px solid transparent";f.style.outline="none";e.appendChild(f);b=document.createElement("div");b.style.padding="10px 20px";b.style.position="relative";b.style.cursor="pointer";b.style.borderBottom="1px solid #e6e7e8";b.style.transition="background-color 0.25s ease";b.style.outline="none";b.style.width="100%";f.appendChild(b);e=document.createElement("span");e.style.color="#4d4d4d";e.style.fontFamily='"Segoe UI Light","Segoe UI Semilight","Segoe UI",Helvetica,Tahoma,Geneva,Verdana,sans-serif';e.style.fontWeight="lighter";e.style.fontSize="15px";e.style.ik="none";e.style.verticalAlign="middle";e.style.cursor="pointer";Kd(e,c);b.appendChild(e);f.onmouseover=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#424242";f.style.border="1px solid transparent"};f.onmousedown=function(){f.style.backgroundColor="#969696";f.style.border="1px solid #737373";f.style.color="#424242"};f.onmouseup=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242";f.style.border="1px solid transparent"};f.onclick=function(){d&&d();Qd(a,!0)}}m.da=function(){Rd(this)};m.ja=function(){return window.i?window.i.u.sc.hint:"Menu"};function Rd(a){"none"===a.$b.style.display?null===a.Be&&(a.Be=setTimeout(function(){null!==a.sa&&(clearTimeout(a.sa),a.sa=null);a.$b.style.display="block";a.$b.style.height="0px";a.sa=setTimeout(function(){a.$b.style.height=a.zb+"px";a.sa=null;a.Be=null;Uc(a,!0)},20)},20)):Qd(a)}function Qd(a,b){"none"!==a.$b.style.display&&(!0===b?(a.$b.style.height="0px",a.$b.style.display="none",Uc(a,!1)):(null!==a.sa&&(clearTimeout(a.sa),a.sa=null),a.$b.style.height="0px",a.sa=setTimeout(function(){a.$b.style.display="none";a.sa=null;Uc(a,!1)},200)))}m.r=function(){Md.t.r.apply(this,arguments);var a=ic(this.f,this.a.d.a),b=a.h,a=a.g+36+5,c=this.f.Sb(),d=this.f.Ka();b+this.mb>c-5&&(b=c-5-this.mb);5>b&&(b=5);a+this.zb>d-5&&(a=d-5-this.zb);5>a&&(a=5);this.pf=a;this.$b.style.left=b+"px";this.$b.style.top=a+"px"};m.Gf=function(){};m.Ne=function(){};function Nd(a){var b=window.i?window.i.u.sc.Jq:"Create New",c=window.i?window.i.u.sc.or:"Load from disk",d=window.i?window.i.u.sc.pr:"Load from clipboard",e=window.i?window.i.u.sc.Oq:"Download as SGF",f=window.i?window.i.u.sc.Kq:"Create snapshot",g=window.i?window.i.u.sc.br:"Export to GIF",h=window.i?window.i.u.sc.Hq:"Convert to ASCII diagram",k=window.i?window.i.u.sc.yr:"Score estimator",l=window.i?window.i.u.sc.Fr:"Toggle coordinates",n=window.i?window.i.u.sc.Fa:"Game info",p=window.i?window.i.u.sc.Mq:"Crop the board",q=a.$b,r=a.b,u=a.Y;q.style.display="block";q.style.opacity=null;q.style.height=null;Sd(q);Pd(a,q,b,function(){dc(u.id,vc,{Q:r,S:a.f})});Pd(a,q,c,function(){Ic(r)});Pd(a,q,d,function(){dc(u.id,Hc,{Q:r,S:a.f})});Pd(a,q,n,function(){dc(u.id,rd,{Q:r,S:a.f})});Pd(a,q,e,function(){if(FileReader&&Blob){var a=r.Wf(),b=r.Se();""===b&&(b="download");Jc(new Blob([a],{type:"text/plain;charset=utf-8"}),b+".sgf","application/x-go-sgf")}});Pd(a,q,f,function(){Ac(r)});Pd(a,q,g,function(){Dc(r)});Pd(a,q,h,function(){dc(u.id,wc,{Q:r,S:a.f})});Pd(a,q,k,function(){dc(u.id,yc,{Q:r,S:a.f})});Pd(a,q,l,function(){r.zh()});Pd(a,q,p,function(){dc(u.id,Lc,{Q:r,S:a.f})});a.zb=q.clientHeight;q.style.display="none"}function Td(a){Td.t.constructor.call(this,a)}Yc(Td,Pc);Td.prototype.la=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.35*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();var h="\u767d",k=.4*b*1.4;a.font=k+"px Times New Roman, Sans serif";a.fillStyle="rgb(0, 0, 0)";e+=-a.measureText(h).width/2;a.fillText(h,e,f+k/3);a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();h="\u9ed2";a.fillStyle="rgb(255, 255, 255)";f+=k/3;e+=-a.measureText(h).width/2;a.fillText(h,e,f)};Td.prototype.da=function(){dc(this.a.d.a.id,Ec,{Q:this.b,S:this.f})};Td.prototype.ja=function(){return window.i?window.i.u.button.hint.zr:"Show kifu"};function Ud(a){Td.t.constructor.call(this,a)}Yc(Ud,Pc);Ud.prototype.la=function(a,b,c,d){d=c=0;b=36;var e=c+10|.5,f=c+25|.5,g=d+10|.5,h=d+25|.5;a.lineWidth=2;a.strokeStyle="rgb(0, 0, 0)";a.beginPath();a.moveTo(c+1,g);a.lineTo(b/2+1,g);a.moveTo(c+1,h);a.lineTo(b+c-1,h);a.moveTo(e,d+1);a.lineTo(e,b+d-1);a.moveTo(f,b/2);a.lineTo(f,b+d-1);a.stroke();a.fillStyle="rgb(255, 255, 255)";a.beginPath();a.arc(e,g,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.beginPath();a.arc(f,h,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.fillStyle="rgb(0, 0, 0)";a.beginPath();a.arc(e,h,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.font="22px Times New Roman, Sans serif";a.fillText("?",f-a.measureText("?").width/2,g+22/3)};Ud.prototype.da=function(){if(!0===this.b.Gc){var a=this.b;a.G=a.Nn;a.Gc=!1}else a=this.b,a.Nn=a.G,a.G=0,Vd(a,{Vf:!0}),Oc(a,2),a.hh(),a.Gc=!0;a.f&&Wd(a.f)};Ud.prototype.ja=function(){return window.i?window.i.u.button.hint.Gr:"Toggle kifu mode"};Ud.prototype.Ga=function(){this.f.w.mj=this};function Xd(a,b,c){Xd.t.constructor.call(this,null);this.ei=new A(234,234,234,255);this.Hg=new A(172,172,172,255);this.$h=new A(227,240,252,255);this.uf=new A(126,180,234,255);this.zg=new A(207,230,252,255);this.Ag=new A(86,157,229,255);this.Yh=new A(239,239,239,255);this.Zh=new A(217,217,217,255);this.Oc=a?a:"";this.Ip=c?c:"";this.Dn=b?b:null}Yc(Xd,Pc);m=Xd.prototype;m.la=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=this.Oc;a.fillStyle=R(new A(0,0,0,255));a.font="16px 'Segoe UI', Helvetica, Tahoma, Geneva, Verdana, sans-serif";a.fillText(e,c+(b-a.measureText(e).width)/2,d+b/2+16/3)};m.da=function(){if(this.Dn)return this.Dn()};m.ja=function(){return this.Ip};m.Gf=function(){};m.Ne=function(){};m.Pg=function(){};function Yd(a){this.f=a;this.b=null;this.a={d:null,yh:{d:null}};var b=this;this.zo=function(){b.b.vh(b.a.yh.d.a.value)}}Yd.prototype.p=function(a,b){this.b=b;this.a.d=H(a);var c=this.a.d.a;c.style.background=R(new A(217,217,217,255));c.style.boxSizing="content-box";var d=a+"_TextArea",e=document.createElement("textarea");e.setAttribute("id",d);e.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(e);e.onchange=this.zo;e.onblur=this.zo;e.style.outline="none";e.style.margin="0px";e.style.border="1px solid rgb(172,172,172)";e.style.overflowY="auto";c=this.a.d;this.a.yh.d=H(d);d=this.a.yh.d;d.j.n(6,0,12,6,!0,!0,!0,!0,-1,-1);d.o=L|M|O|Q;c.l(d);this.f&&this.f.kk.push(this);this.r()};Yd.prototype.Fd=function(a){this.a.yh.d.a.value=a};Yd.prototype.r=function(){this.a.d.ub(this.a.d.a.clientWidth,this.a.d.a.clientHeight)};function Zd(a){this.f=a;this.Sn=S;this.b=null;this.a={d:null,zc:null,Bc:null,Image:null};this.Ab=null;this.pi=this.oi="";this.yk=0;this.tk=!1}m=Zd.prototype;m.p=function(a,b,c){this.Sn=c;this.b=b;this.a.d=H(a);b=this.a.d.a;b.style.backgroundColor=R(new A(217,217,217,255));this.a.zc=document.createElement("div");this.a.Bc=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,e=this.a.zc,f=this.a.Bc;b.appendChild(d);b.appendChild(e);b.appendChild(f);e.style.paddingLeft="25px";f.style.paddingLeft="25px";e.style.fontSize="14pt";f.style.fontSize="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);e=Math.ceil(6.75);J===c?(a.fillStyle=R(new A(255,255,255)),a.strokeStyle=R(new A(0,0,0))):I===c&&(a.fillStyle=R(new A(0,0,0)),a.strokeStyle=R(new A(0,0,0)));a.beginPath();a.arc(b,d,e,0,2*Math.PI,!1);a.fill();a.stroke();this.f&&(I===c?this.f.hd=this:J===c&&(this.f.nd=this));this.Ba()};m.r=function(){this.Ba();var a=this.op,b=this.a.d.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.zc.style.paddingLeft=c+"px";this.a.Bc.style.paddingLeft=c+"px";this.a.zc.style.overflow="hidden";this.a.zc.style.textOverflow="ellipsis";this.a.zc.style["-o-text-overflow"]="ellipsis";this.a.zc.style.height="25px";this.a.zc.style.lineHeight="25px";this.a.zc.style.fontFamily='"Times New Roman", Times, serif';this.a.Bc.style.overflow="hidden";this.a.Bc.style.textOverflow="ellipsis";this.a.Bc.style["-o-text-overflow"]="ellipsis";this.a.Bc.style.height="25px";this.a.Bc.style.lineHeight="25px";this.a.Bc.style.fontFamily='"Times New Roman", Times, serif'};m.cg=function(a){this.tk=!1;this.yk=a;this.Ba()};m.Gd=function(a){this.tk=!0;this.yk=a;this.Ba()};m.Ba=function(){var a=this.a.Bc,b=(""===this.oi?I===this.Sn?"Black ":"White ":this.oi)+(""===this.pi?"":"["+this.pi+"]"),c=(!0===this.tk?"Scores ":"Captured ")+this.yk;Kd(this.a.zc,b);Kd(a,c);a=document.createElement("canvas").getContext("2d");a.font="14pt Times New Roman";this.op=a.measureText(b).width};function $d(a){this.f=a;this.b=null;this.a={d:null,Eb:null,ic:null,We:null,Ve:null};this.Bn=this.Cn=0}$d.prototype.p=function(a,b){this.b=b;this.a.d=H(a);var c=this.a.d.a;c.style.backgroundColor=R(new A(217,217,217,255));this.a.Eb=document.createElement("div");this.a.We=document.createElement("canvas");this.a.ic=document.createElement("div");this.a.Ve=document.createElement("canvas");c.appendChild(this.a.Eb);c.appendChild(this.a.We);c.appendChild(this.a.ic);c.appendChild(this.a.Ve);this.a.We.style.position="absolute";this.a.We.style.left="0px";this.a.We.style.top="0px";this.a.Eb.style.position="absolute";this.a.Eb.style.left="25px";this.a.Eb.style.top="0px";this.a.Eb.style.overflow="hidden";this.a.Eb.style.textOverflow="ellipsis";this.a.Eb.style.height="25px";this.a.Eb.style.fontFamily='"Times New Roman", Times, serif';this.a.Eb.style.fontSize="16px";this.a.Eb.style.lineHeight="25px";this.a.Ve.style.position="absolute";this.a.Ve.style.left="61px";this.a.Ve.style.top="0px";this.a.ic.style.position="absolute";this.a.ic.style.left="86px";this.a.Eb.style.top="0px";this.a.ic.style.overflow="hidden";this.a.ic.style.textOverflow="ellipsis";this.a.ic.style.height="25px";this.a.ic.style.fontFamily='"Times New Roman", Times, serif';this.a.ic.style.fontSize="16px";this.a.ic.style.lineHeight="25px";ae(this.a.We,!1);ae(this.a.Ve,!0);this.Ba()};function ae(a,b){a.setAttribute("oncontextmenu","return false;");a.style.padding="0px";a.style.margin="0px";a.style.width="25px";a.style.height="25px";a.width=25;a.height=25;var c=a.getContext("2d");c.clearRect(0,0,25,25);var d=Math.ceil(13),e=Math.ceil(13),f=Math.ceil(6.75);c.fillStyle=b?R(new A(0,0,0)):R(new A(255,255,255));c.strokeStyle=R(new A(0,0,0));c.beginPath();c.arc(d,e,f,0,2*Math.PI,!1);c.fill();c.stroke()}$d.prototype.r=function(){this.Ba()};$d.prototype.Gd=function(a,b){this.Cn=a;this.Bn=b;this.Ba()};$d.prototype.Ba=function(){Kd(this.a.Eb,""+this.Cn);Kd(this.a.ic,""+this.Bn)};function be(a){this.f=a;this.b=null;this.a={d:null,xb:null};this.Yk="White vs. Black"}be.prototype.p=function(a,b){this.b=b;this.a.d=H(a);var c=this.a.d.a;c.style.backgroundColor=R(new A(217,217,217,255));this.a.xb=document.createElement("div");c.appendChild(this.a.xb);this.a.xb.style.position="absolute";this.a.xb.style.left="0px";this.a.xb.style.top="0px";this.a.xb.style.overflow="hidden";this.a.xb.style.textOverflow="ellipsis";this.a.xb.style.fontFamily='"Times New Roman", Times, serif';this.a.xb.style.fontSize="16px";this.a.xb.style.height="25px";this.a.xb.style.lineHeight="25px";this.a.xb.style.width="100%";this.a.xb.style.textAlign="center";this.Ba()};be.prototype.r=function(){this.Ba()};be.prototype.Ba=function(){Kd(this.a.xb,""+this.Yk)};function ce(){this.uc=this.Ac=this.Cc=this.yc=0;this.Eh=this.Gh=this.Hh=this.Fh=!1;this.Jf=this.Td=-1}ce.prototype.n=function(a,b,c,d,e,f,g,h,k,l){this.yc=a;this.Cc=b;this.Ac=c;this.uc=d;this.Fh=e;this.Hh=f;this.Gh=g;this.Eh=h;this.Td=k;this.Jf=l};var M=1,L=2,Q=4,O=8;function de(){this.j=new ce;this.o=M|L;this.a=this.rh=this.nh=null;this.rd=new ce;this.gb=[];this.Zc=this.height=this.width=0;this.vd=null;this.Db=400}m=de.prototype;m.Za=function(a,b,c){this.Zc=a;(this.vd=b)&&b.ol&&b.ol(this);c&&void 0!==c.Db&&(this.Db=c.Db)};m.l=function(a){a.rh=this;this.gb[this.gb.length]=a};m.ub=function(a,b){this.width=a;this.height=b;if(null==this.rh)this.rd.yc=0,this.rd.Cc=0,this.rd.Ac=a,this.rd.uc=b,null!==this.a&&ee(this,a,b);else{var c=0,d=0,e=0,f=0,g=this.o&5,h=this.o&10;M==g?(this.j.Fh?c=this.j.yc:c=this.j.yc*a/1E3,-1!=this.j.Td?e=c+this.j.Td:e=this.j.Gh?a-this.j.Ac:this.j.Ac*a/1E3):Q==g?(e=this.j.Gh?a-this.j.Ac:this.j.Ac*a/1E3,-1!=this.j.Td?c=e-this.j.Td:this.j.Fh?c=this.j.yc:c=this.j.yc*a/1E3):(M|Q)==g?(this.j.Fh?c=this.j.yc:c=this.j.yc*a/1E3,e=this.j.Gh?a-this.j.Ac:this.j.Ac*a/1E3):(c=this.j.yc,e=this.j.Ac);L==h?(this.j.Hh?d=this.j.Cc:d=this.j.Cc*b/1E3,-1!=this.j.Jf?f=d+this.j.Jf:f=this.j.Eh?b-this.j.uc:this.j.uc*b/1E3):O==h?(f=this.j.Eh?b-this.j.uc:this.j.uc*b/1E3,-1!=this.j.Jf?d=f-this.j.Jf:this.j.Hh?d=this.j.Cc:d=this.j.Cc*b/1E3):(L|O)==h?(this.j.Hh?d=this.j.Cc:d=this.j.Cc*b/1E3,f=this.j.Eh?b-this.j.uc:this.j.uc*b/1E3):(d=this.j.Cc,f=this.j.uc);e<c&&(e=c);f<d&&(f=d);-2===this.j.Td?e=c+1*(f-d):-3===this.j.Td&&(c=1*(f-d));this.rd.yc=c;this.rd.Cc=d;this.rd.Ac=e;this.rd.uc=f;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(e-c+.5|0)+"px";this.a.style.height=(f-d+.5|0)+"px";this.a.width=e-c+.5|0;this.a.height=f-d+.5|0;ee(this,e-c,f-d)}};function ee(a,b,c){var d=a.gb.length;if(1===a.Zc&&2===d){var e=a.vd?Aa(a.vd):1,f=a.gb[0],g=a.gb[1],h,k=c;h=b-a.Db;var l=k*e,e=h/e;l<=h?(e=k,h=k=0):(l=h,h=0,k=(k-e)/2);f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,l,e);f.o=M|L;g.j.n(l,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.o=Q|O|L}else 2===a.Zc&&1===d?a.vd?(e=Aa(a.vd),f=a.gb[0],l=c*e,e=b/e,l<=b?(e=c,k=0,h=(b-l)/2):(l=b,h=0,k=(c-e)/2),f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,l,e),f.o=M|L):(f=a.gb[0],h=Math.min(b,c),f.j.n((b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),f.o=M|O|L):3===a.Zc&&2===d&&(e=a.vd?Aa(a.vd):1,f=a.gb[0],g=a.gb[1],k=a.Db,h=b,k=c-k,l=k*e,e=h/e,l<=h?(e=k,k=0,h=(h-l)/2):(l=h,k=h=0),f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,l,e),f.o=M|L,g.j.n(0,e,1E3,1E3,!1,!0,!1,!1,-1,-1),g.o=M|Q|O);for(h=0;h<d;h++)a.gb[h].ub(b,c)}m.Pa=function(){this.gb=[];this.Zc=0;this.vd=null;this.Db=400};m.n=function(a,b,c,d,e,f,g,h,k,l){this.j.n(a,b,c,d,e,f,g,h,k,l)};function H(a){var b=new de;b.nh=a;b.a=document.getElementById(a);return b}function fe(a){var b=new de;b.a=a;return b}function ge(){this.a=this.rh=null;this.I=0;this.gb=[]}ge.prototype.Set=function(a){this.I=a};ge.prototype.l=function(a){a.rh=this;this.gb[this.gb.length]=a};ge.prototype.ub=function(a,b){var c=b-this.I,d=a;d!==c&&(c=d=Math.min(d,c));var e=(b-this.I-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(e+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.I+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.I+.5);for(var e=this.gb.length,f=0;f<e;f++)this.gb[f].ub(d,c+this.I)};function he(){this.O={yb:!0,Hb:!0,Bb:new A(231,188,95,255),me:!0,Gb:!0,Nb:new A(255,255,255,255),Lb:new A(0,0,0,255),Mb:new A(0,0,0,255),Fb:!1};this.Z={yb:!0,Hb:!0,Bb:new A(231,188,95,255),Gb:!0,Nb:new A(255,255,255,255),Lb:new A(0,0,0,255),Mb:new A(0,0,0,255),Fb:!1}}function ie(a,b){var c=!0,d=!0,e=null,f=!0,g=!0,h=new A(255,255,255,255),k=new A(0,0,0,255),l=new A(0,0,0,255),n=!1;switch(b){default:case 1:g=f=d=c=!0;e=new A(231,188,95,255);l=new A(0,0,0,255);break;case 2:g=f=d=c=!1;e=new A(255,255,255,255);l=new A(0,0,0,255);break;case 3:g=f=d=c=!1;e=new A(231,188,95,255);l=new A(0,0,0,255);break;case 4:g=f=d=c=!1,n=!0,e=new A(30,30,30,255),h=new A(220,220,220,220),l=new A(255,255,255,255)}var p=!1,q=!1;if(a.O.yb!==c||a.O.Hb!==d||!0!==Od(a.O.Bb,e)||a.O.me!==f||a.O.Gb!==g||!0!==Od(a.O.Nb,h)||!0!==Od(a.O.Lb,k)||!0!==Od(a.O.Mb,l)||a.O.Fb!==n)a.O.yb=c,a.O.Hb=d,a.O.Bb=e,a.O.me=f,a.O.Gb=g,a.O.Nb=h,a.O.Lb=k,a.O.Mb=l,a.O.Fb=n,p=!0;if(a.Z.yb!==c||a.Z.Hb!==d||!0!==Od(a.Z.Bb,e)||a.Z.Gb!==g||!0!==Od(a.Z.Nb,h)||!0!==Od(a.Z.Lb,k)||!0!==Od(a.Z.Mb,l)||a.Z.Fb!==n)a.Z.yb=c,a.Z.Hb=d,a.Z.Bb=e,a.Z.Gb=g,a.Z.Nb=h,a.Z.Lb=k,a.Z.Mb=l,a.Z.Fb=n,q=!0;return{ma:p,Navigator:q}}function je(){je.t.constructor.call(this);this.vk=!0;this.nk=this.Vb=this.ok=!1;this.Ak=1;this.zk=3;this.qe=this.se=this.oe=this.pe=this.te=this.re=this.ue=!0}Yc(je,he);function ke(){var a=x;a.ue="0"===le("ShowTarget")?!1:!0;a.nk="1"===le("CycleThroughVariants")?!0:!1;a.vk="0"===le("Sound")?!1:!0;var b=le("NavigatorLabels");a.Ak=b&&""!==b?parseInt(b):1;var b=1,c=le("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);a.uh(b);a.ok="1"===le("LoadUnfinishedFilesOnLastNode")?!0:!1;b=le("ShowVariants");a.zk=b&&""!==b?parseInt(b):3;a.Vb="1"===le("Rulers")?!0:!1;a.re="0"==le("MultiLevelToolbarMainNavigation")?!1:!0;a.te="0"==le("MultiLevelToolbarTreeNavigation")?!1:!0;a.pe="0"==le("MultiLevelToolbarGeneral")?!1:!0;a.oe="1"==le("MultiLevelToolbarAutoPlay")?!0:!1;a.se="1"==le("MultiLevelToolbarTimeline")?!0:!1;a.qe="1"==le("MultiLevelToolbarKifuMode")?!0:!1}m=je.prototype;m.$f=function(a){this.vk=a;me("Sound",!0===a?"1":"0")};m.Tf=function(){return this.vk};m.wh=function(a){this.Vb=a;me("Rulers",!0===a?"1":"0")};m.Ij=function(a){this.ok=a;me("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};m.Rf=function(){return this.ok};m.Cj=function(a){this.nk=a;me("CycleThroughVariants",!0===a?"1":"0")};m.ce=function(){return this.nk};m.Yc=function(a){this.ue=a;me("ShowTarget",!0===a?"1":"0")};m.ee=function(){return this.ue};m.uh=function(a){switch(a){case 1:me("ColorScheme","TrueColor");break;case 2:me("ColorScheme","BookStyle");break;case 3:me("ColorScheme","SimpleColor");break;case 4:me("ColorScheme","Dark")}return ie(this,a)};m.Te=function(){return this.Ak};m.Kj=function(a){this.Ak=a;me("NavigatorLabels",a)};m.Xd=function(){return this.zk};m.Hj=function(a){this.zk=a;me("ShowVariants",a)};m.Xj=function(){this.re=!this.re;me("MultiLevelToolbarMainNavigation",!0===this.re?"1":"0");return this.re};m.Zj=function(){this.te=!this.te;me("MultiLevelToolbarTreeNavigation",!0===this.te?"1":"0");return this.te};m.Vj=function(){this.pe=!this.pe;me("MultiLevelToolbarGeneral",!0===this.pe?"1":"0");return this.pe};m.Uj=function(){this.oe=!this.oe;me("MultiLevelToolbarAutoPlay",!0===this.oe?"1":"0");return this.oe};m.Yj=function(){this.se=!this.se;me("MultiLevelToolbarTimeline",!0===this.se?"1":"0");return this.se};m.Wj=function(){this.qe=!this.qe;me("MultiLevelToolbarKifuMode",!0===this.qe?"1":"0");return this.qe};var x=new je;function ne(a){ne.t.constructor.call(this);this.O={yb:null,Hb:null,Bb:null,me:null,Gb:null,Nb:null,Lb:null,Mb:null,Fb:null};this.Z={yb:null,Hb:null,Bb:null,Gb:null,Nb:null,Lb:null,Mb:null,Fb:null};this.b=a;this.ue=null;this.Lh=!1}Yc(ne,he);ne.prototype.uh=function(a){return null!==a?ie(this,a):{ma:!0,Navigator:!0}};ne.prototype.ee=function(){return null===this.ue?x.ee():this.ue};ne.prototype.Yc=function(a){this.ue=a};function oe(a){if(this.b=a)a.f=this;this.cb=this.Xh=this.Ce=this.Y=null;this.V=[];this.w={Ei:[],Fi:[],sd:[],wd:[],fj:[],ej:[],Cd:[],Dd:[],nm:null,Li:[],Ni:[],Ki:[],Qi:[],Oi:[],Ji:[],Ri:[],Pi:[],Mi:[],Ii:[],kb:null,lh:null,mj:null,Il:null};this.Tk={lj:null};this.Fe=this.rc=this.nd=this.hd=this.Ig=this.Cg=this.Bg=this.Sk=this.bi=this.pa=this.Uh=null;this.kk=[];var b=this;this.rk=!0;this.Ld=0;this.Oh=!1;this.Fk=-1;this.Nd=400;this.ye=200;this.Lc=-1;this.Wn=this.Yn=this.Xn=this.Nk=this.Mk=0;this.sn=[];this.Rh=null;this.dq=function(){b.Ig&&Dd(b.Ig);b.w.kb&&Hd(b.w.kb,!1);b.w.lh&&Qd(b.w.lh,!1);b.w.Il&&Qd(b.w.Il,!1)};this.yo=function(){null!==b.Rh&&(pe(b.Rh),b.Rh=null);b.Rh=qe(b.yo);var a;if(a=b.bi)a=b.bi,a=a.Ph||a.Qh?!0:!1;if(a){a=b.bi;if(a.Ph&&a.b){var d=a.c.M,e=a.c.I;if(!(0>=d||0>=e)){var f=a.b.k.pb,g=10+a.ha.h+24*f.h,f=10+a.ha.g+24*f.g,h=a.a.Wd.d.a.getContext("2d");h.clearRect(0,0,d,e);-24<=g&&g<=d+24&&-24<=f&&f<=e+24&&h.drawImage(a.c.Wd,g,f);re(a);a.Ph=!1}}if(a.Qh&&(d=a.c.M,e=a.c.I,0!==d&&0!==e)){if(!(a.Zb.M===d&&a.Zb.I===e&&1>Math.abs(a.ha.h-a.Zb.h)&&1>Math.abs(a.ha.g-a.Zb.g))){a.Zb.M=d;a.Zb.I=e;a.Zb.h=a.ha.h;a.Zb.g=a.ha.g;var g=a.a.ka.d.a.getContext("2d"),f=a.a.Qj.d.a.getContext("2d"),h=a.a.vj.d.a.getContext("2d"),k=a.a.Selection.d.a.getContext("2d");h.clearRect(0,0,d,e);f.clearRect(0,0,d,e);g.clearRect(0,0,d,e);k.clearRect(0,0,d,e);for(var k=10+a.ha.h,l=10+a.ha.g,n=a.ta.Ka(),p=a.ui(),q=0;q<=n-1;q++){var r=l+24*q;if(-24<=r&&r<=e+24)for(var u=a.ta.ta[q].length-1,t=0;t<=u;t++){var z=k+24*t;if(-24<=z&&z<=d+24){var B=a.ta.N(t,q);if(!1===B.Sf()){var w=B.T,B=B.Xe();g.clearRect(z,r,24,24);switch(w){case se:B.Jd?g.drawImage(a.c.$m,z,r):g.drawImage(a.c.fn,z,r);break;case te:B.Jd?1===B.Gm?g.drawImage(a.c.an,z,r):g.drawImage(a.c.bn,z,r):g.drawImage(a.c.cn,z,r);break;case ue:B.Jd?g.drawImage(a.c.dn,z,r):g.drawImage(a.c.en,z,r)}}else{var w=B.Xe(),C=B.ac,v=C.T,G=B.sb,ba="",V=0;switch(x.Te()){case 0:ba="";break;case 1:ba=""+B.pb.qh;2>=ba.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",V=-1);break;case 2:ba=w?""+B.pb.qh:"";2>=ba.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",V=-1);break;case 3:var D=a.b.pa.na(),ba=D.h,D=D.g,K=yb(C.Ea()),C=K.g,ba=Za(K.h,ba),ba=ba+(D+1-C);h.font=2>=ba.length?"bold 10px sans-serif":"bold 8px sans-serif"}C=h.measureText(ba).width;I===v?(w&&!0===p&&(f.clearRect(z+a.c.wb,r+a.c.wb,24,24),f.drawImage(a.c.jb,z+2+a.c.wb,r+2+a.c.wb)),h.clearRect(z,r,24,24),h.drawImage(w?a.c.Kf:a.c.Hi,z+2,r+2),""===G?""!==ba&&(h.fillStyle=w?"#CCC":"rgb(192, 192, 192)",h.fillText(ba,z+12-C/2+V,r+12+3)):h.drawImage(w?a.c.Um:a.c.Vm,z+2,r+2)):J===v?(w&&!0===p&&(f.clearRect(z+a.c.wb,r+a.c.wb,24,24),f.drawImage(a.c.jb,z+2+a.c.wb,r+2+a.c.wb)),h.clearRect(z,r,24,24),h.drawImage(w?a.c.dg:a.c.fk,z+2,r+2),""===G?""!==ba&&(h.fillStyle=w?"#000":"rgb(56, 56, 56)",h.fillText(ba,z+12-C/2+V,r+12+3)):h.drawImage(w?a.c.Xm:a.c.Ym,z+2,r+2)):(h.clearRect(z,r,24,24),h.drawImage(w?a.c.Tm:a.c.Wm,z+2,r+2));G=rc(B);B=B.ra;g.clearRect(z,r,24,24);0===t?0!==G&&(1===G?w?g.drawImage(a.c.Yl,z,r):g.drawImage(a.c.bm,z,r):w?0==B?g.drawImage(a.c.Zl,z,r):g.drawImage(a.c.$l,z,r):g.drawImage(a.c.am,z,r)):0===G?w?g.drawImage(a.c.Wl,z,r):g.drawImage(a.c.Xl,z,r):1===G?w?g.drawImage(a.c.Sl,z,r):g.drawImage(a.c.cm,z,r):w?0===B?g.drawImage(a.c.Tl,z,r):g.drawImage(a.c.Ul,z,r):g.drawImage(a.c.Vl,z,r);I!==v&&J!==v||g.clearRect(z+3,r+3,18,18)}}}}}a.Qh=!1}a.qk&&re(a)}b.rk&&b.Vg(!1)};this.yo()}function ve(a){if(a.Y){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.Y.appendChild(b);a.Xh=b;if(b=we[a.Y.id][ec])b=b.a.d.a;var c;a:{if((c=a.Y)&&b)for(var d=0,e=b.parentNode;null!=e;){if(e==c){c=!0;break a}d--;if(0>d)break;e=e.parentNode}c=!1}c&&(a.Y.removeChild(b),a.Y.appendChild(b))}}function xe(a){a.Xh&&(a.Y.removeChild(a.Xh),a.Xh=null)}m=oe.prototype;m.Sb=function(){return this.Y?parseInt(this.Y.clientWidth):0};m.Ka=function(){return this.Y?parseInt(this.Y.clientHeight):0};function ic(a,b){for(var c=0,d=0,e=b;e!=a.Y&&e;)c+=e.offsetLeft-e.scrollLeft+e.clientLeft,d+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{h:c,g:d}}m.dh=function(a){this.Ld=1;ye(this,a);var b=new ca(this);b.p(a,this.b);b.Ia();this.V.push(b);this.r()};m.eh=function(a){this.Ld=2;ze(this,a);this.Lc=295;a=this.b;var b=this.Ce,c=this.Y.id;this.Mk=25;this.Nk=36;var d=c+"I";this.L(b.a,d);var e=H(d);e.j.n(0,0,1E3,0,!1,!1,!1,!1,-1,25);e.o=L|M|Q;b.l(e);var f=d+"S";this.L(e.a,f);var g=H(f);g.j.n(0,0,1E3,1E3,!1,!1,!1,!1,122,-1);g.o=L|M|O;e.l(g);this.rc=new $d(this);this.rc.p(f,a);this.V.push(this.rc);d+="T";this.L(e.a,d);f=H(d);f.j.n(122,0,1E3,1E3,!0,!1,!1,!1,-1,-1);f.o=L|Q|O;e.l(f);this.Fe=new be(this);this.Fe.p(d,a);this.V.push(this.Fe);e=c+"T";this.L(b.a,e);d=H(e);d.j.n(0,0,1E3,0,!1,!1,!1,!0,-1,36);d.o=O|M|Q;b.l(d);d=new Fd(this);U(d,new Xc(this),36,W);U(d,new $c(this),36,W);U(d,new ad(this),36,W);U(d,new bd(this),36,W);U(d,new cd(this),36,W);U(d,new dd(this),36,W);U(d,new yd(this),36,Ae);U(d,new Rc(this),36,Ae);d.p(e,a);this.V.push(d);d=c+"B";e=this.L(b.a,d);c=H(d);c.j.n(0,25,1E3,36,!1,!0,!1,!0,-1,-1);c.o=M|Q|L|O;b.l(c);b=d+"B";this.L(e,b);f=H(b);c.l(f);d+="N";this.L(e,d);e=H(d);c.l(e);e=new ca(this);e.p(b,this.b);e.Ia();this.V.push(e);c.Za(3,e,{Db:0});this.r();Be(a)};m.$i=function(a){ke();this.Lc=739;ye(this,a);var b=this.b,c=H(a);this.L(c.a,a+"div");var d=a+"div",e=new ge;e.nh=d;e.a=document.getElementById(d);e.Set(38);var f=e.a;c.l(e);var d=a+"_Board",g=a+"_ToolbarPanel";a=a+"_Toolbar";this.L(f,d);f=this.L(f,g);f.style.background="rgb(217, 217, 217)";this.L(f,a);f=H(d);f.j.n(0,0,1E3,38,!1,!1,!1,!0,-1,-1);f.o=L|M|Q;e.l(f);f=new ca(this);f.p(d,b);f.Ia();d=H(g);d.j.n(0,0,1E3,0,!1,!1,!1,!0,-1,38);d.o=M|O|Q;e.l(d);e=H(a);e.j.n(0,1,1E3,1,!1,!0,!1,!0,-1,-1);e.o=M|O|Q;d.l(e);e=new Fd(this);U(e,new Xc(this),36,W);U(e,new $c(this),36,W);U(e,new ad(this),36,W);U(e,new bd(this),36,W);U(e,new cd(this),36,W);U(e,new dd(this),36,W);U(e,new ed(this),36,W);U(e,new fd(this),36,W);U(e,new gd(this),36,W);U(e,new hd(this),36,W);U(e,new id(this),36,W);U(e,new jd(this),36,W);U(e,new kd(this),36,W);U(e,new ld(this),36,W);U(e,new md(this),36,W);U(e,new nd(this),36,W);U(e,new od(this),36,W);U(e,new Rc(this),36,W);U(e,new yd(this),36,Ae);U(e,new ud(this),36,Ae);e.p(a,b);this.cb=c;this.V.push(f);this.V.push(e);this.r()};function ze(a,b){ke();var c=H(b);a.cb=c;var d=b+"GB";a.L(c.a,d);var e=H(d);e.j.n(0,0,1,1,!1,!1,!0,!0,-1,-1);e.o=L|M|Q|O;c.l(e);ye(a,d,e)}function Ce(a){var b=a.b,c=a.Ce,d=a.Y.id,e=b.ya.Lh;a.Nd=344;var f=new ca(a);c.Za(1,f,{Db:a.Nd});var g=d+"_Board",h=d+"_Panel";a.L(c.a,g);a.L(c.a,h);var k=H(g),d=H(h);c.l(k);c.l(d);f.p(g,b);f.Ia();g=h+"_CaT";h+="_Navigator";a.L(d.a,g);a.L(d.a,h);c=H(g);c.j.n(0,0,1E3,500,!1,!1,!1,!1,-1,-1);c.o=L|M|Q|O;d.l(c);c.a.style.background="rgb(217, 217, 217)";k=H(h);k.j.n(0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);k.o=L|M|Q|O;d.l(k);d=new De(a);d.p(h,b);var l=g+"_Info",h=g+"_Comments",k=g+"_Toolbar";a.L(c.a,l);a.L(c.a,h);a.L(c.a,k);var n=H(l);n.j.n(!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);n.o=L|M|Q;c.l(n);var p=l+"_White",l=l+"_Black";a.L(n.a,p);a.L(n.a,l);var q=H(p);q.j.n(0,0,500,1E3,!1,!1,!1,!1,-1,-1);q.o=L|M|Q|O;n.l(q);q=H(l);q.j.n(500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);q.o=L|M|Q|O;n.l(q);n=new Zd(a);n.p(p,b,J);p=new Zd(a);p.p(l,b,I);!0!==e&&(e=g+"_M",a.L(c.a,e),g=H(e),g.j.n(7,7,1E3,7,!0,!0,!1,!0,36,36),g.o=L|M,c.l(g),g=new Md(a),g.p(e,b),a.w.lh=g,a.V.push(g));var r=new Ee(a);r.p(k);var u=r.Ka(),t=H(k);t.j.n(6,0,6,0,!0,!1,!0,!0,-1,u);t.o=M|Q|O;c.l(t);var z=H(h);z.j.n(0,50,1E3,u+1,!1,!0,!1,!0,-1,-1);z.o=L|M|Q|O;c.l(z);Fe(r,function(){u=r.Ka();t.j.n(6,0,6,0,!0,!1,!0,!0,-1,u);z.j.n(0,50,1E3,u+1,!1,!0,!1,!0,-1,-1);a.r(!1)});e=new Yd(a);e.p(h,b);a.V.push(f);a.V.push(d);a.V.push(e);a.V.push(r);a.V.push(p);a.V.push(n);a.r();Be(b)}function Ge(a){a.Lc=332;var b=a.b,c=a.Ce,d=a.Y.id,e=b.ya.Lh,f=d+"B";a.L(c.a,f).style.background="rgb(217, 217, 217)";f=H(f);f.j.n(0,0,1E3,0,!0,!1,!1,!1,-1,50);f.o=L|M|Q;c.l(f);f=d+"I";a.L(c.a,f);if(!0!==e){var g=d+"M";a.L(c.a,g);var h=H(g);h.j.n(7,7,1E3,7,!0,!0,!1,!0,36,36);h.o=L|M;c.l(h);h=new Md(a);h.p(g,b);a.w.lh=h;a.V.push(h)}g=H(f);g.j.n(!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);g.o=L|M|Q;c.l(g);d=d+"O";a.L(c.a,d);var k=H(d);k.j.n(0,50,1E3,1E3,!1,!0,!1,!1,-1,-1);k.o=O|M|Q;c.l(k);c=f+"W";a.L(g.a,c);e=H(c);e.j.n(0,0,500,1E3,!1,!1,!1,!1,-1,-1);e.o=L|M|Q|O;g.l(e);e=new Zd(a);e.p(c,b,J);a.V.push(e);f+="B";a.L(g.a,f);c=H(f);c.j.n(500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.o=L|M|Q|O;g.l(c);c=new Zd(a);c.p(f,b,I);a.V.push(c);var l=new ca(a);a.V.push(l);k.Za(3,l,{Db:a.ye-50});f=d+"B";a.L(k.a,f);c=H(f);k.l(c);l.p(f,b);l.Ia();d+="N";c=a.L(k.a,d);f=H(d);k.l(f);c.style.background="rgb(217, 217, 217)";c=d+"T";a.L(f.a,c);var n=new Ee(a);n.p(c);var p=n.Ka();a.V.push(n);a.ye=p+160;k.Za(3,l,{Db:a.ye-50});var q=H(c);q.j.n(0,1,1E3,0,!1,!0,!1,!1,-1,p);q.o=M|Q|L;f.l(q);d+="U";a.L(f.a,d);var r=H(d);r.j.n(0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);r.o=M|Q|O;f.l(r);Fe(n,function(){p=n.Ka();a.ye=p+160;k.Za(3,l,{Db:a.ye-50});q.j.n(0,1,1E3,0,!1,!0,!1,!1,-1,p);r.j.n(0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);a.r(!1)});f=d+"L";a.L(r.a,f);c=H(f);c.j.n(0,0,0,1E3,!1,!1,!1,!1,36,-1);c.o=M|L|O;r.l(c);c=d+"R";a.L(r.a,c);g=H(c);g.j.n(36,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.o=Q|L|O;r.l(g);d=c+"N";a.L(g.a,d);e=H(d);e.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.o=M|Q|L|O;g.l(e);c+="C";a.L(g.a,c);e=H(c);e.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.o=M|Q|L|O;g.l(e);g=new De(a);g.p(d,b);a.V.push(g);g=new Yd(a);g.p(c,b);a.V.push(g);g=new He(a);g.p(f,b,d,c);a.V.push(g);a.r();Be(b);a.Xn=50;a.Yn=36;a.Wn=160}m.bh=function(a){this.Ld=5;var b=this.b,c=new ca(this),d=H(a),e=a+"GoBoard";this.L(d.a,e);var f=H(e);f.j.n(0,0,1,1,!1,!1,!0,!0,-1,-1);f.o=L|M|Q|O;d.l(f);this.Nd=200;f.Za(1,c,{Db:this.Nd});var g=a+"_Board",h=a+"_Panel";this.L(f.a,g);this.L(f.a,h);var k=H(g);a=H(h);f.l(k);f.l(a);a.a.style.background="rgb(217, 217, 217)";c.p(g,b);c.Ia();c.b&&(c.b.ya.O.me=!1);f=h+"_Toolbar";g=h+"_Comments";this.L(a.a,g);this.L(a.a,f);h=H(g);h.j.n(0,38,1E3,1E3,!1,!0,!1,!1,-1,-1);h.o=L|M|Q|O;a.l(h);h=H(f);h.j.n(6,1,1E3,1E3,!0,!0,!1,!0,-1,36);h.o=M|Q|L;a.l(h);a=new Yd(this);a.p(g,b);g=new Fd(this);U(g,new Xc(this),36,W);U(g,new yd(this),36,W);g.p(f,b);this.V.push(c);this.V.push(a);this.V.push(g);this.cb=d;this.r();Be(b);ye(this,e)};m.r=function(a){a?this.Vg(!0):this.rk=!0};function ye(a,b,c){a.Y=document.getElementById(b);a.Ce=c;a.Y.style.background="url('"+Ie+"')";a.Y.onclick=a.dq}m.Vg=function(a){if(!0===this.Oh){var b=this.cb.a.clientWidth,c=this.cb.a.clientHeight;0<this.Lc&&b<this.Lc&&(b=this.Lc);var d=-1,d=c-(b-this.Nd)>this.ye+100?1:0;if(this.Fk!==d){this.Fk=d;for(jc(this);this.Y.firstChild;)this.Y.removeChild(this.Y.firstChild);this.Ce&&this.Ce.Pa();we={};0===this.Fk?Ce(this):Ge(this);this.b&&(this.b.ea(this.b.k,!0),this.b.jc(!0))}}this.rk=!1;this.cb&&(b=this.cb.a.clientWidth,c=this.cb.a.clientHeight,0<this.Lc&&b<this.Lc&&(b=this.Lc),this.cb.ub(b,c));b=0;for(c=this.V.length;b<c;b++)this.V[b].r(a)};m.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.sm=function(a){this.pa=a};function kc(a,b){jc(a);a.Uh=b}m.tm=function(a){this.Tk.lj=a};function jc(a){if(a.Uh){var b=a.Uh;a.Uh=null;a.Y.removeChild(b)}}m.mm=function(){this.Bg&&Tc(this.Bg,0)};m.wj=function(){this.Bg&&Tc(this.Bg,16)};function Wd(a){a.w.mj&&Uc(a.w.mj,a.b.Gc)}m.bk=function(a){if(this.hd){var b=this.hd;b.oi=a;b.Ba()}this.Fe&&(a=this.Fe,a.Yk=this.b.Se(),a.Ba())};m.ck=function(a){if(this.hd){var b=this.hd;b.pi=a;b.Ba()}};m.dk=function(a){if(this.nd){var b=this.nd;b.oi=a;b.Ba()}this.Fe&&(a=this.Fe,a.Yk=this.b.Se(),a.Ba())};m.ek=function(a){if(this.nd){var b=this.nd;b.pi=a;b.Ba()}};m.cg=function(a,b){this.hd&&this.hd.cg(a);this.nd&&this.nd.cg(b);this.rc&&this.rc.Gd(b,a)};m.Gd=function(a,b){this.hd&&this.hd.Gd(a);this.nd&&this.nd.Gd(b);this.rc&&this.rc.Gd(b,a)};m.jc=function(a){for(var b=0,c=this.w.Ei.length;b<c;b++)Sc(this.w.Ei[b],a.sd);b=0;for(c=this.w.Fi.length;b<c;b++)Sc(this.w.Fi[b],a.sd);b=0;for(c=this.w.sd.length;b<c;b++)Sc(this.w.sd[b],a.sd);b=0;for(c=this.w.wd.length;b<c;b++)Sc(this.w.wd[b],a.wd);b=0;for(c=this.w.fj.length;b<c;b++)Sc(this.w.fj[b],a.wd);b=0;for(c=this.w.ej.length;b<c;b++)Sc(this.w.ej[b],a.wd);b=0;for(c=this.w.Cd.length;b<c;b++)Sc(this.w.Cd[b],a.Cd);b=0;for(c=this.w.Dd.length;b<c;b++)Sc(this.w.Dd[b],a.Dd);b=0;for(c=this.w.Li.length;b<c;b++)Uc(this.w.Li[b],0===a.Rb);b=0;for(c=this.w.Ni.length;b<c;b++)Uc(this.w.Ni[b],1===a.Rb);b=0;for(c=this.w.Ki.length;b<c;b++)Uc(this.w.Ki[b],2===a.Rb);b=0;for(c=this.w.Qi.length;b<c;b++)Uc(this.w.Qi[b],3===a.Rb);b=0;for(c=this.w.Oi.length;b<c;b++)Uc(this.w.Oi[b],4===a.Rb);b=0;for(c=this.w.Ji.length;b<c;b++)Uc(this.w.Ji[b],5===a.Rb);b=0;for(c=this.w.Ri.length;b<c;b++)Uc(this.w.Ri[b],6===a.Rb);b=0;for(c=this.w.Pi.length;b<c;b++)Uc(this.w.Pi[b],7===a.Rb);b=0;for(c=this.w.Mi.length;b<c;b++)Uc(this.w.Mi[b],8===a.Rb);b=0;for(c=this.w.Ii.length;b<c;b++)Uc(this.w.Ii[b],10===a.Rb);this.Sk&&(b=this.Sk,!0!==b.mg&&df(b,a.Nm,!0));if(this.Ig&&(b=this.Ig,c=a.Rb,b.xa!==c)){b.xa=c;switch(c){case 0:b.c=b.co.c;break;case 1:b.c=b.fo.c;break;case 2:b.c=b.$n.c;break;case 3:b.c=b.jo.c;break;case 4:b.c=b.ho.c;break;case 5:b.c=b.bo.c;break;case 6:b.c=b.ko.c;break;case 7:b.c=b.io.c;break;case 8:b.c=b.eo.c;break;case 10:b.c=b.ao.c}Qc(b)}this.Tk.lj&&(b=this.Tk.lj,ef(b,b.a.td.getContext("2d")));ff();b=0;for(c=this.sn.length;b<c;++b){var d=this.sn[b];d&&d.Wo&&d.Wo(this.b,a)}};m.Fd=function(a){for(var b=0,c=this.kk.length;b<c;b++)this.kk[b].Fd(a)};function ff(){var a=we[Fc];a&&a.ng&&a.Qa()}m.Xj=function(){var a=x.Xj();this.w.kb&&this.w.kb.Jj(a);return a};m.Zj=function(){var a=x.Zj();this.w.kb&&this.w.kb.Nj(a);return a};m.Vj=function(){var a=x.Vj();this.w.kb&&this.w.kb.Fj(a);return a};m.Uj=function(){var a=x.Uj();this.w.kb&&this.w.kb.Aj(a);return a};m.Yj=function(){var a=x.Yj();this.w.kb&&this.w.kb.Mj(a);return a};m.Wj=function(){var a=x.Wj();this.w.kb&&this.w.kb.Gj(a);return a};m.Re=function(a){var b=this.b?this.b.m:null;if(!b||.1>Math.abs(Aa(b)))return 0;b=1/Aa(b);switch(this.Ld){case 1:return b*a;case 2:return this.Mk+this.Nk+b*a;case 3:return this.Wn+this.Xn+this.Yn+b*a;case 4:return(a-this.Nd)*b;case 5:return(a-this.Nd)*b;default:return 0}};var gf=0,hf=1,Kb=2,E=new function(){this.Ti=this.g=this.h=0;this.Zc=hf;this.B=this.A=this.Yg=!1;this.ib=null;this.Uf=-1;this.hm=this.gm=this.Mf=0;this.Bd=!1;this.Uo=function(){this.Bd||(this.Bd=!0)};this.cp=function(){this.Bd&&(this.Bd=!1)}},ta=new function(){this.B=this.A=this.Yg=!1;this.ib=null;this.K=this.Ko=0};function sa(a){ta.Yg=a.altKey;ta.A=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ta.B=a.shiftKey;ta.ib=a.srcElement?a.srcElement:a.target;ta.Ko=a.charCode;ta.K=a.keyCode;ta.xq=a.which}function fa(a){if(!E.Bd){if(a.pageX||a.pageY)E.h=a.pageX,E.g=a.pageY;else if(a.clientX||a.clientY)E.h=a.clientX,E.g=a.clientY;E.Yg=a.altKey;E.B=a.shiftKey;E.A=a.ctrlKey||a.metaKey;E.Zc=hf;E.Bd||(E.ib=a.srcElement?a.srcElement:a.target);if(3<Math.abs(E.h-E.gm)||3<Math.abs(E.g-E.hm))E.Uf=-1,E.Mf=0}}function oa(a){if(a.pageX||a.pageY)E.h=a.pageX,E.g=a.pageY;else if(a.clientX||a.clientY)E.h=a.clientX,E.g=a.clientY;E.gm=E.h;E.hm=E.g;E.Yg=a.altKey;E.B=a.shiftKey;E.A=a.ctrlKey||a.metaKey;E.Zc=gf;E.Ti=a.button;E.ib=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==E.Mf?(E.Mf=1,E.Uf=a):500>a-E.Uf?(E.Uf=a,E.Mf++):(E.Mf=1,E.Uf=a);window.ik=!1}window.onmousemove=function(a){if(E.Bd&&void 0!=E.ib&&null!=E.ib&&void 0!=E.ib.onmousemove&&null!=E.ib.onmousemove)E.ib.onmousemove(a)};window.onmouseup=function(a){if(!1===window.ik){window.ik=!0;if(E.Bd&&E.ib&&void 0!=E.ib.onmouseup&&null!=E.ib.onmouseup)E.ib.onmouseup(a,!0);E.ib=null}};function jf(){this.Dd=this.Cd=this.wd=this.sd=!0;this.Nm=this.Rb=0};var Ha=-1,Fb=0,Eb=1,Db=2,xb=3,Gb=4,zb=5,Ab=6,Bb=7,Cb=8;function Ga(a,b,c,d){this.fi={h:void 0===a?0:a,g:void 0==b?0:b};this.T=void 0===c?Fb:c;this.Oc=void 0===d?"":d}Ga.prototype.Zd=function(){return this.fi.h};Ga.prototype.$d=function(){return this.fi.g};Ga.prototype.Bm=function(a,b){this.fi.h=a;this.fi.g=b};Ga.prototype.Za=function(a){this.T=a};function De(a){function b(){if(d.ad)d.Kc=null;else{var a=parseFloat(d.a.La.style.opacity),c=parseFloat(d.a.Xa.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.La.style.opacity=a;d.a.Xa.style.opacity=c;.001<a?d.Kc=setTimeout(b,10):d.Kc=null}}function c(){if(d.ad)d.Kc=null;else{var a=parseFloat(d.a.Ha.style.opacity),b=parseFloat(d.a.Ra.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.Ha.style.opacity=a;d.a.Ra.style.opacity=b;.001<a?d.fd=setTimeout(c,10):d.fd=null}}this.f=a;this.b=null;this.ta=new kf;this.qk=this.Qh=this.Ph=!0;this.a={d:null,ma:{d:null},Selection:{d:null},Wd:{d:null},ka:{d:null},Qj:{d:null},vj:{d:null},No:{d:null},La:null,Ha:null,Xa:null,Ra:null,Yf:0,Xf:0};this.Yb=null;this.c={M:0,I:0,ma:null,Kf:null,dg:null,Hi:null,fk:null,Yl:null,So:null,Sl:null,Ro:null,Wl:null,$m:null,dp:null,dn:null,bm:null,Zl:null,$l:null,am:null,cm:null,Tl:null,Ul:null,Vl:null,Xl:null,fn:null,an:null,bn:null,cn:null,en:null,Tm:null,Wm:null,Um:null,Xm:null,Vm:null,Ym:null,bf:null,Wd:null,gj:null,jb:null,wb:0};this.ha={h:0,g:0};this.ad=!1;this.np=!0;this.Zb={M:0,I:0,h:0,g:0};this.fd=this.Kc=this.rf=this.lf=null;var d=this;this.kl=function(){return setTimeout(function(){d.dl()},20)};this.Sg=function(a){d.ad||(d.b&&d.b.Ia(),oa(a),a=d.If(E.h,E.g),a=d.ta.N(a.h,a.g),a.Sf()&&d.b&&d.b.ea(a))};this.xi=function(a){d.ad||(fa(a),a=d.If(E.h,E.g),lf(d,a.h,a.g))};this.Tg=function(){d.ad||lf(d,-1,-1)};this.Ug=function(a){if(d.ad)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.ta.Ka()+1)-d.a.ma.d.a.height;d.ha.g-=b;d.ha.g=Math.min(0,Math.max(d.ha.g,-g));mf(d);d.xi(a);nf(d);d.bl();d.a.Ra.style.opacity=.3;d.a.Ha.style.opacity=.5;d.fd=setTimeout(c,500);return!1};this.Hf=function(){d.b&&d.b.Ia()};this.ti=function(){null!==d.lf&&(clearTimeout(d.lf),d.lf=null)};this.vo=function(){null!==d.Kc&&(clearTimeout(d.Kc),d.Kc=null)};this.eq=function(a){function b(a){var c=-d.ha.h;c!==l?(c=c<l?Math.min(l,c+200):Math.max(l,c-200),d.ha.h=-c,mf(d),nf(d),c!==l?d.lf=setTimeout(b,!0===a?300:30):d.lf=null):d.lf=null}d.ti();oa(a);a=E.h-Wa(d.a.Xa).h;var c=d.ta.Sb()+1,h=d.a.Yf,k=d.c.M-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*c-k);b(!0)};this.pq=function(){d.ti()};this.mq=function(){d.vo();d.a.Xa.style.opacity=.3;d.a.La.style.opacity=.5};this.hq=function(){d.ti();d.Kc=setTimeout(b,10)};this.cl=function(){null!==d.rf&&(clearTimeout(d.rf),d.rf=null)};this.bl=function(){null!==d.fd&&(clearTimeout(d.fd),d.fd=null)};this.fq=function(a){function b(a){var c=-d.ha.g;c!==l?(c=c<l?Math.min(l,c+48):Math.max(l,c-48),d.ha.g=-c,mf(d),nf(d),c!==l?d.rf=setTimeout(b,!0===a?300:30):d.rf=null):d.rf=null}d.cl();oa(a);a=E.g-Wa(d.a.Ra).g;var c=d.ta.Ka()+1,h=d.a.Xf,k=d.c.I-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*c-k);b(!0)};this.qq=function(){d.cl()};this.oq=function(){d.bl();d.a.Ra.style.opacity=.3;d.a.Ha.style.opacity=.5};this.jq=function(){d.cl();d.fd=setTimeout(c,10)};this.lq=function(){d.vo();d.a.La.style.opacity=.7;d.a.Xa.style.opacity=.3};this.gq=function(){d.ti();d.Kc=setTimeout(b,10)};this.nq=function(){d.bl();d.a.Ha.style.opacity=.7;d.a.Ra.style.opacity=.3};this.iq=function(){d.a.Ha.style.opacity=.5;d.fd=setTimeout(c,10)};this.xo=function(){d.ad=!0};this.wo=function(){d.ad=!1;var a=E.h,f=E.g,g=Wa(d.a.Xa),h=g.h,g=g.g,k=d.a.Xa.clientWidth,l=d.a.Xa.clientHeight;if(a<h||a>h+k||f<g||f>g+l)d.Kc=setTimeout(b,10);g=Wa(d.a.Ra);h=g.h;g=g.g;k=d.a.Ra.clientWidth;l=d.a.Ra.clientHeight;if(a<h||a>h+k||f<g||f>g+l)d.fd=setTimeout(c,10)};this.Qp=function(a){a-=2;var b=d.ta.Sb()+1,c=d.c.M;d.ha.h=-(a/(c-4-d.a.Yf)*(20+24*b-c));mf(d)};this.Yp=function(a,b){b-=2;var c=d.ta.Ka()+1,h=d.c.I;d.ha.g=-(b/(h-4-d.a.Xf)*(20+24*c-h));mf(d)}}m=De.prototype;m.p=function(a,b){this.f&&(this.f.bi=this);this.b=b;this.b.R=this;this.ta.Ej(b);this.a.d=H(a);var c=this.a.d.a,d=this.a.d,e=a+"_Board",f=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",l=a+"_Nodes",n=a+"_Events";this.Wa(c,e);this.Wa(c,f);this.Wa(c,g);this.Wa(c,h);this.Wa(c,k);this.Wa(c,l);var p=this.Aa(c,n);this.a.Xa=this.Aa(c,a+"HorScroll_BG");this.a.La=this.Aa(c,a+"HorScroll");this.a.Ra=this.Aa(c,a+"VerScroll_BG");this.a.Ha=this.Aa(c,a+"VerScroll");this.a.Xa.style.background="rgb(0,0,0)";this.a.Xa.style.opacity="0";this.a.Ra.style.background="rgb(0,0,0)";this.a.Ra.style.opacity="0";this.a.Xa.onmousedown=this.eq;this.a.Xa.onmouseup=this.pq;this.a.Xa.onmouseover=this.mq;this.a.Xa.onmouseout=this.hq;this.a.Ra.onmousedown=this.fq;this.a.Ra.onmouseup=this.qq;this.a.Ra.onmouseover=this.oq;this.a.Ra.onmouseout=this.jq;this.a.La.onmouseover=this.lq;this.a.La.onmouseout=this.gq;this.a.Ha.onmouseover=this.nq;this.a.Ha.onmouseout=this.iq;c=H(a+"HorScroll_BG");c.j.n(2,0,2,4,!0,!1,!0,!0,-1,8);c.o=M|O|Q;d.l(c);c=H(a+"VerScroll_BG");c.j.n(0,2,4,2,!1,!0,!0,!0,8,-1);c.o=L|O|Q;d.l(c);this.Da(this.a.ma,d,e);this.Da(this.a.Selection,d,f);this.Da(this.a.Wd,d,g);this.Da(this.a.ka,d,h);this.Da(this.a.Qj,d,k);this.Da(this.a.vj,d,l);this.Da(this.a.No,d,n);p.onmousedown=this.Sg;p.onmousemove=this.xi;p.onmouseout=this.Tg;p.onmousewheel=this.Ug;p.addEventListener&&p.addEventListener("DOMMouseScroll",this.Ug,!1);p.onfocus=this.Hf;p.tabIndex=-1;p.style.lp=!0;p.style.outline=0;this.Og();this.Mg();of(this);this.Ng()};function pf(a){a.Og();a.Mg();of(a);a.Ng();a.r(!0)}m.r=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;this.a.d.ub(b,c);this.tc(b,c,a)};m.Qa=function(){if(!(0>=this.c.M||0>=this.c.I)){var a=this.ta.Sb()+1,b=this.ta.Ka()+1,c=this.c.M,d=this.c.I,a=20+24*a,b=20+24*b;a>c?(this.a.Yf=Math.max(50,c*c/a),this.a.La.style.width=Math.max(50,c*c/a)+"px",this.a.La.style.display="block",this.a.La.style.position="absolute",this.a.La.style.top=d-12+"px",this.a.La.style.height="8px",this.a.La.style.background=this.Pc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.La.style.opacity=0,qf(this.a.La,2,c-this.a.Yf-2,d-12,d-12),this.a.La.Ob=this.Qp,this.a.La.Qb=this.xo,this.a.La.Pb=this.wo,this.a.Xa.style.display="block"):(this.a.Xa.style.display="none",this.a.La.style.display="none");b>d?(this.a.Xf=Math.max(50,d*d/b),this.a.Ha.style.height=Math.max(50,d*d/b)+"px",this.a.Ha.style.display="block",this.a.Ha.style.position="absolute",this.a.Ha.style.left=c-12+"px",this.a.Ha.style.width="8px",this.a.Ha.style.background=this.Pc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.Ha.style.opacity=0,qf(this.a.Ha,c-12,c-12,2,d-this.a.Xf-2),this.a.Ha.Ob=this.Yp,this.a.Ha.Qb=this.xo,this.a.Ha.Pb=this.wo,this.a.Ra.style.display="block"):(this.a.Ra.style.display="none",this.a.Ha.style.display="none");this.Zb.I=-1;this.Zb.M=-1;mf(this);nf(this)}};m.fc=function(){this.ta.fc();this.Zb.I=-1;this.Zb.M=-1};function rf(a,b){a.Ph=!0;var c=a.c.M,d=a.c.I;if(!(0>=c||0>=d)){var e=a.b.k.pb,f=e.h,e=e.g,g=10+a.ha.h+24*f,h=10+a.ha.g+24*e;if(0!=b&&!0===a.np&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.ta.Ka()+1)-d,l=20+24*(a.ta.Sb()+1)-c;10>=g?a.ha.h=24*-f:g>=c-10&&(a.ha.h=c-24-10-10-24*f);10>=h?a.ha.g=24*-e:h>=d-10&&(a.ha.g=d-24-10-10-24*e);a.ha.h=Math.min(0,Math.max(a.ha.h,-l));a.ha.g=Math.min(0,Math.max(a.ha.g,-k));nf(a);mf(a)}}}m.Wa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.Aa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.Da=function(a,b,c){a.d=H(c);a=a.d;a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.o=L|M|O|Q;b.l(a)};m.tc=function(a,b,c){var d=this.a.ma.d.a.getContext("2d");a!==this.c.M||b!==this.c.I||null===this.c.ma||null!==this.Yb||!0===c?(this.c.M=a,this.c.I=b,d.fillStyle=R(this.Rg()),d.fillRect(0,0,a,b),null!==this.Yb&&clearTimeout(this.Yb),this.Yb=this.kl()):d.drawImage(this.c.ma,0,0);this.Qa();rf(this,!0);this.qk=!0};m.dl=function(){this.Yb=null;var a=this.c.M,b=this.c.I,c=this.a.ma.d.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),e=this.Rg(),f=e.C,g=e.F,e=e.D,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var l=Array(b),n=0;n<b;n++)l[n]=.02*Math.tan(n/b);var p,q,r,k=this.Oe();if(!0===this.vi())for(r=.9,n=0;n<b;n++)for(k=0;k<a;k++){r=40*(h[k]+l[n])+.5;r-=Math.floor(r);r=.2>r?1-r/2:.4>r?1-(.4-r)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)r/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(p=128+f*r/2,q=128+g*r/2,r=128+e*r/2):(p=f*r,q=g*r,r*=e);var u=4*(k+n*a);d.data[u+0]=p;d.data[u+1]=q;d.data[u+2]=r;d.data[u+3]=255}else for(h=0;h<b;h++)for(l=0;l<a;l++)0==h||0==l||h===b-1||l===a-1?(p=k.C,q=k.F,r=k.D):(p=f,q=g,r=e),u=4*(l+h*a),d.data[u+0]=p,d.data[u+1]=q,d.data[u+2]=r,d.data[u+3]=255;this.c.ma=this.$(a,b,d);c.drawImage(this.c.ma,0,0)}};m.Og=function(){var a=this.a.vj.d.a.getContext("2d"),b=a.createImageData(20,20),c=a.createImageData(20,20),d=a.createImageData(20,20),a=a.createImageData(20,20),e=b.data,f=c.data,g=d.data,h=a.data,k=this.gl(),l=this.el(),n=this.Pc();if(!0===this.fl())for(var p=9.5,q=p-.2,k=Math.sqrt(3),r=0;20>r;r++)for(var u=0;20>u;u++){var t=r-p,z=u-p,B=q-Math.sqrt(t*t+z*z),w=4*(20*r+20-u-1);if(0<=B){var C=q*q-t*t-z*z,C=0<C?Math.sqrt(C)*k:0,n=t,v=z,l=Math.sqrt(6*(n*n+v*v+C*C)),l=(2*C-n+v)/l,n=0;.9<l&&(n=10*(l-.9));C=255;.8>=B&&(B=(.8-B)/.8,C=.7,t-z<q/3&&(C=1),C=parseInt(255*(1-B*C)));t=parseInt(10+10*l+140*n);e[w+0]=t;e[w+1]=t;e[w+2]=t;e[w+3]=C;g[w+0]=t;g[w+1]=t;g[w+2]=t;g[w+3]=parseInt(.5*C);t=parseInt(200+10*l+45*n);f[w+0]=t;f[w+1]=t;f[w+2]=t;f[w+3]=C;h[w+0]=t;h[w+1]=t;h[w+2]=t;h[w+3]=parseInt(.7*C)}else e[w+0]=0,e[w+1]=0,e[w+2]=0,e[w+3]=0,h[w+0]=0,h[w+1]=0,h[w+2]=0,h[w+3]=0}else for(p=9.5,q=p-.2,r=0;20>r;r++)for(u=0;20>u;u++)if(t=r-p,z=u-p,B=q-Math.sqrt(t*t+z*z),w=4*(20*r+20-u-1),0<=B){C=255;if(.8>=B){var G=(.8-B)/.8,C=.7;t-z<q/3&&(C=1);C=parseInt(255*(1-G*C))}else 1.6>=B&&.8<=B&&!0===n&&(G=(1.6-B)/.8,C=.7,t-z<q/3&&(C=1),C=parseInt(G*C*255));v=!1;1.6>=B&&(v=!0);!1===v||!1===n?(e[w+0]=l.C,e[w+1]=l.F,e[w+2]=l.D,e[w+3]=C,g[w+0]=l.C,g[w+1]=l.F,g[w+2]=l.D):(e[w+0]=k.C,e[w+1]=k.F,e[w+2]=k.D,e[w+3]=C,g[w+0]=k.C,g[w+1]=k.F,g[w+2]=k.D);g[w+3]=parseInt(.5*C);C=255;.8>=B?(G=(.8-B)/.8,C=.7,t-z<q/3&&(C=1),C=parseInt(255*(1-G*C))):1.6>=B&&.8<=B&&!1===n&&(G=(1.6-B)/.8,C=.7,t-z<q/3&&(C=1),C=parseInt(G*C*255));!1===v||!0===n?(f[w+0]=k.C,f[w+1]=k.F,f[w+2]=k.D,f[w+3]=C,h[w+0]=k.C,h[w+1]=k.F,h[w+2]=k.D):(f[w+0]=l.C,f[w+1]=l.F,f[w+2]=l.D,f[w+3]=C,h[w+0]=l.C,h[w+1]=l.F,h[w+2]=l.D);h[w+3]=parseInt(C/2)}else e[w+0]=0,e[w+1]=0,e[w+2]=0,e[w+3]=0,g[w+0]=0,g[w+1]=0,g[w+2]=0,g[w+3]=0,f[w+0]=0,f[w+1]=0,f[w+2]=0,f[w+3]=0,h[w+0]=0,h[w+1]=0,h[w+2]=0,h[w+3]=0;this.c.Kf=this.$(20,20,b);this.c.dg=this.$(20,20,c);this.c.Hi=this.$(20,20,d);this.c.fk=this.$(20,20,a)};m.Mg=function(){for(var a=this.a.ka.d.a.getContext("2d"),b=a.createImageData(24,24),c=a.createImageData(24,24),d=a.createImageData(24,24),e=a.createImageData(24,24),f=a.createImageData(24,24),g=a.createImageData(24,24),h=a.createImageData(24,24),k=a.createImageData(24,24),l=a.createImageData(24,24),n=a.createImageData(24,24),p=a.createImageData(24,24),q=a.createImageData(24,24),r=a.createImageData(24,24),u=a.createImageData(24,24),t=a.createImageData(24,24),z=a.createImageData(24,24),B=a.createImageData(24,24),w=a.createImageData(24,24),C=a.createImageData(24,24),v=a.createImageData(24,24),G=a.createImageData(24,24),a=a.createImageData(24,24),ba=b.data,V=c.data,D=d.data,K=e.data,aa=f.data,N=g.data,ka=h.data,ob=k.data,na=l.data,Ia=n.data,cb=p.data,pb=q.data,mc=r.data,Ja=u.data,Pa=t.data,Ka=z.data,Vb=B.data,Wb=w.data,Ca=C.data,db=v.data,nc=G.data,Xb=a.data,qb=!0===this.Pc()?200:28,F=new A(qb,qb,qb,255),ea=0;24>ea;ea++)for(var ga=0;24>ga;ga++){var y=4*(24*ea+ga);12<=ga&&(11===ea||12===ea)?(ba[y+0]=F.C,ba[y+1]=F.D,ba[y+2]=F.F,ba[y+3]=255,na[y+0]=F.C,na[y+1]=F.D,na[y+2]=F.F,na[y+3]=96):(ba[y+3]=0,na[y+3]=0);11<=ga&&(11===ea||12===ea)||12<=ea&&(11===ga||12===ga)?(V[y+0]=F.C,V[y+1]=F.D,V[y+2]=F.F,V[y+3]=255,pb[y+0]=F.C,pb[y+1]=F.D,pb[y+2]=F.F,pb[y+3]=96):(V[y+3]=0,pb[y+3]=0);11<=ga&&(11===ea||12===ea)?(Ia[y+0]=F.C,Ia[y+1]=F.D,Ia[y+2]=F.F,Ia[y+3]=255):12<=ea&&(11===ga||12===ga)?(Ia[y+0]=F.C,Ia[y+1]=F.D,Ia[y+2]=F.F,Ia[y+3]=96):Ia[y+3]=0;12<=ea&&(11===ga||12===ga)?(cb[y+0]=F.C,cb[y+1]=F.D,cb[y+2]=F.F,cb[y+3]=255):11<=ga&&(11===ea||12===ea)?(cb[y+0]=F.C,cb[y+1]=F.D,cb[y+2]=F.F,cb[y+3]=96):cb[y+3]=0;11===ea||12===ea?(D[y+0]=F.C,D[y+1]=F.D,D[y+2]=F.F,D[y+3]=255,mc[y+0]=F.C,mc[y+1]=F.D,mc[y+2]=F.F,mc[y+3]=96):(D[y+3]=0,mc[y+3]=0);11===ea||12===ea||12<=ea&&(11===ga||12===ga)?(K[y+0]=F.C,K[y+1]=F.D,K[y+2]=F.F,K[y+3]=255,Ka[y+0]=F.C,Ka[y+1]=F.D,Ka[y+2]=F.F,Ka[y+3]=96):(K[y+3]=0,Ka[y+3]=0);11===ea||12===ea?(Ja[y+0]=F.C,Ja[y+1]=F.D,Ja[y+2]=F.F,Ja[y+3]=255):12<=ea&&(11===ga||12===ga)?(Ja[y+0]=F.C,Ja[y+1]=F.D,Ja[y+2]=F.F,Ja[y+3]=96):Ja[y+3]=0;(11===ea||12===ea)&&12>=ga||12<=ea&&(11===ga||12===ga)?(Pa[y+0]=F.C,Pa[y+1]=F.D,Pa[y+2]=F.F,Pa[y+3]=255):(11===ea||12===ea)&&12<ga?(Pa[y+0]=F.C,Pa[y+1]=F.D,Pa[y+2]=F.F,Pa[y+3]=96):(K[y+3]=0,Ka[y+3]=0);11>=ga&&(11===ea||12===ea)?(aa[y+0]=F.C,aa[y+1]=F.D,aa[y+2]=F.F,aa[y+3]=255,Vb[y+0]=F.C,Vb[y+1]=F.D,Vb[y+2]=F.F,Vb[y+3]=96):(aa[y+3]=0,Vb[y+3]=0);11===ga||12===ga?(N[y+0]=F.C,N[y+1]=F.D,N[y+2]=F.F,N[y+3]=255,Wb[y+0]=F.C,Wb[y+1]=F.D,Wb[y+2]=F.F,Wb[y+3]=96):(N[y+3]=0,Wb[y+3]=0);11===ga||12===ga||12<=ga&&(11===ea||12===ea)?(ka[y+0]=F.C,ka[y+1]=F.D,ka[y+2]=F.F,ka[y+3]=255,nc[y+0]=F.C,nc[y+1]=F.D,nc[y+2]=F.F,nc[y+3]=96):(ka[y+3]=0,nc[y+3]=0);(11===ga||12===ga)&&12>=ea||12<=ga&&(11===ea||12===ea)?(Ca[y+0]=F.C,Ca[y+1]=F.D,Ca[y+2]=F.F,Ca[y+3]=255):(11===ga||12===ga)&&12<ea?(Ca[y+0]=F.C,Ca[y+1]=F.D,Ca[y+2]=F.F,Ca[y+3]=96):Ca[y+3]=0;11===ga||12===ga?(db[y+0]=F.C,db[y+1]=F.D,db[y+2]=F.F,db[y+3]=255):12<ga&&(11===ea||12===ea)?(db[y+0]=F.C,db[y+1]=F.D,db[y+2]=F.F,db[y+3]=96):db[y+3]=0;11>=ea&&(11===ga||12===ga)||11<=ga&&(11===ea||12===ea)?(ob[y+0]=F.C,ob[y+1]=F.D,ob[y+2]=F.F,ob[y+3]=255,Xb[y+0]=F.C,Xb[y+1]=F.D,Xb[y+2]=F.F,Xb[y+3]=96):(ob[y+3]=0,Xb[y+3]=0)}this.c.Yl=this.$(24,24,b);this.c.So=this.$(24,24,c);this.c.Sl=this.$(24,24,d);this.c.Ro=this.$(24,24,e);this.c.Wl=this.$(24,24,f);this.c.$m=this.$(24,24,g);this.c.dp=this.$(24,24,h);this.c.dn=this.$(24,24,k);this.c.bm=this.$(24,24,l);this.c.Zl=this.$(24,24,n);this.c.$l=this.$(24,24,p);this.c.am=this.$(24,24,q);this.c.cm=this.$(24,24,r);this.c.Tl=this.$(24,24,u);this.c.Ul=this.$(24,24,t);this.c.Vl=this.$(24,24,z);this.c.Xl=this.$(24,24,B);this.c.fn=this.$(24,24,w);this.c.an=this.$(24,24,C);this.c.bn=this.$(24,24,v);this.c.cn=this.$(24,24,G);this.c.en=this.$(24,24,a);this.c.Tm=this.dc(20,20,20*.07,F,1,null);this.c.Wm=this.dc(20,20,20*.07,new A(qb,qb,qb,96),1,null);this.c.Um=this.dc(20,20,1.2,new A(255,255,255,255),1,this.c.Kf);this.c.Xm=this.dc(20,20,1.2,new A(0,0,0,255),1,this.c.dg);this.c.Vm=this.dc(20,20,1.2,new A(255,255,255,96),1,this.c.Hi);this.c.Ym=this.dc(20,20,1.2,new A(0,0,0,96),1,this.c.fk)};function of(a){for(var b=a.a.Selection.d.a.getContext("2d"),c=b.createImageData(24,24),d=b.createImageData(24,24),e=b.createImageData(24,24),f=c.data,g=d.data,h=e.data,k=0;24>k;k++)for(var l=0;24>l;l++){var n=4*(l+24*k);f[n+3]=255;g[n+3]=255;h[n+3]=255;0===l&&23===k||23===l&&0===k?(f[n+0]=135,f[n+1]=125,f[n+2]=135,g[n+0]=216,g[n+1]=0,g[n+2]=0,h[n+0]=216/255*42|0,h[n+1]=216/255*117|0,h[n+2]=216/255*243|0):23===l||23===k?(f[n+0]=89,f[n+1]=89,f[n+2]=89,g[n+0]=178,g[n+1]=0,g[n+2]=0,h[n+0]=178/255*42|0,h[n+1]=178/255*117|0,h[n+2]=178/255*243|0):(0===k||0===l?(f[n+0]=182,f[n+1]=182,f[n+2]=182):(f[n+0]=128,f[n+1]=128,f[n+2]=128),g[n+0]=255,g[n+1]=0,g[n+2]=0,h[n+0]=42,h[n+1]=117,h[n+2]=243)}a.c.bf=a.$(24,24,c);a.c.Wd=a.$(24,24,d);a.c.gj=a.$(24,24,e);b.drawImage(a.c.bf,0,0);b.drawImage(a.c.Wd,0,30);b.drawImage(a.c.gj,0,60)}m.dc=function(a,b,c,d,e,f){void 0===e&&(e=1);var g=document.createElement("canvas"),h=g.getContext("2d");h.clearRect(0,0,a,b);null!==f&&h.drawImage(f,0,0);h.globalAlpha=e;h.strokeStyle=R(d);h.fillStyle=R(d);h.lineWidth=c;d=a/2;c=3*b/4;e=.1*a;b=Math.sqrt(d*d-(c-d)*(c-d))+d-e;d=-Math.sqrt(d*d-(c-d)*(c-d))+d+e;null!==f&&(b=Math.floor(b-.5),d=Math.ceil(d+.5),e=Math.ceil(e+.5),c=Math.floor(c-.5));h.beginPath();h.moveTo(a/2,e);h.lineTo(b,c);h.lineTo(d,c);h.closePath();h.stroke();return g};m.Ng=function(){var a=this.a.Qj.d.a.getContext("2d").createImageData(20,20),b=a.data;this.c.wb=Math.max(3,3);for(var c=0;20>c;c++)for(var d=0;20>d;d++){var e=Math.abs(c-8.5),f=Math.abs(d-8.5),e=Math.sqrt(f*f+e*e)/8.5,e=1>e?.15+.75*(1-e):0,f=4*(20*c+d);b[f+0]=0;b[f+1]=0;b[f+2]=0;b[f+3]=parseInt(255*e)}this.c.jb=this.$(20,20,a)};function mf(a){a.Qh=!0;rf(a,!1)}m.If=function(a,b){var c=Wa(this.a.ma.d.a);return{h:(a-c.h-10-this.ha.h)/24|0,g:(b-c.g-10-this.ha.g)/24|0}};function lf(a,b,c){var d=a.c.M,e=a.c.I;if(!(0>=d||0>=e)){var f=a.a.Selection.d.a.getContext("2d");f.clearRect(0,0,d,e);0<=b&&0<=c&&(d=10+a.ha.h+24*b,e=10+a.ha.g+24*c,a.ta.N(b,c).Sf()&&f.drawImage(a.c.bf,d,e))}}function nf(a){var b=-a.ha.h,c=a.ta.Sb()+1,d=a.c.M,b=b/(20+24*c-d)*(d-4-a.a.Yf)+2,c=-a.ha.g,d=a.ta.Ka()+1,e=a.c.I,c=c/(20+24*d-e)*(e-4-a.a.Xf)+2;a.a.La.style.left=b+"px";a.a.Ha.style.top=c+"px"}function re(a){if(a.b){var b=a.c.M,c=a.c.I;if(!(0>=b||0>=c)){a.qk=!1;var d=a.b.k,e=a.b.up;if(null!==e&&e!==d){var e=e.pb,d=10+a.ha.h+24*e.h,e=10+a.ha.g+24*e.g,f=a.a.Wd.d.a.getContext("2d");-24<=d&&d<=b+24&&-24<=e&&e<=c+24&&f.drawImage(a.c.gj,d,e)}}}}m.vi=function(){var a=this.b.ya;return null===a.Z.yb?x.Z.yb:a.Z.yb};m.fl=function(){var a=this.b.ya;return null===a.Z.Hb?x.Z.Hb:a.Z.Hb};m.ui=function(){var a=this.b.ya;return null===a.Z.Gb?x.Z.Gb:a.Z.Gb};m.gl=function(){var a=this.b.ya;return null===a.Z.Nb?x.Z.Nb:a.Z.Nb};m.el=function(){var a=this.b.ya;return null===a.Z.Lb?x.Z.Lb:a.Z.Lb};m.Rg=function(){var a=this.b.ya;return null===a.Z.Bb?x.Z.Bb:a.Z.Bb};m.Oe=function(){var a=this.b.ya;return null===a.Z.Mb?x.Z.Mb:a.Z.Mb};m.Pc=function(){var a=this.b.ya;return null===a.Z.Fb?x.Z.Fb:a.Z.Fb};m.$=function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;d.getContext("2d").putImageData(c,0,0);return d};var se=-9,te=-8,ue=-7;function sf(a,b,c){this.T=a;this.qa=b;this.di=c}sf.prototype.Sf=function(){return!1};sf.prototype.U=function(){return this.di};sf.prototype.Xe=function(){if(-10!==this.T)if(se===this.T){if(this.qa.Xe()&&0<rc(this.qa)&&this.qa.U().pb.g>=this.di.pb.g)return{Jd:!0}}else if(te===this.T){if(!this.qa.Xe())return{Jd:!1};var a=this.di.pb.g,b=this.qa.U().pb.g;if(a<b)return{Jd:!0,Gm:0};if(a===b)return{Jd:!0,Gm:1}}else if(ue===this.T)return{Jd:this.di.Xe()};return{Jd:!1}};function kf(){this.ta=[];this.b=null;this.Jb=0}m=kf.prototype;m.Ej=function(a){this.b=a};m.Pa=function(){this.ta=[];this.Jb=0};m.fc=function(){this.b&&(this.Pa(),tf(this,this.b.Cb(),0,0))};function tf(a,b,c,d){var e,f=1;for(e=b;0<rc(e);)f++,e=e.U(0);for(e=f;!uf(a,c,d,e);)d++;var f=c,g=d,h=b;for(a.Set(f,g,b);0<rc(h);)f++,h=h.U(0),a.Set(f,g,h);f=vf(b);c+=e-1;for(e={Zm:d};;){for(var g=d,h=a.Jb,k=rc(f),l=1;l<k;l++){a.Jb=h;var n=d,p=tf(a,f.U(l),c+1,d+1);d=p.g;for(n+=1;n<=d;n++)if(n===p.Zm)if(k-1===l){a.Set(c,n,new sf(ue,f,f.U(l)));break}else a.Set(c,n,new sf(te,f,f.U(l)));else n<p.Zm?a.Set(c,n,new sf(se,f,f.U(l))):a.Set(c,n,new sf(se,f,f.U(l+1)))}a.Jb=h;if(f===b)break;f.Vc()&&a.Jb--;f=f.qa;c--;d=g}e.g=d;return e}m.N=function(a,b){return void 0===this.ta[b]||void 0===this.ta[b][a]?new sf(-10,null,null):this.ta[b][a]};m.Set=function(a,b,c){void 0===this.ta[b]&&(this.ta[b]=[]);if(c.Sf())if(c.Vc()){this.Jb++;var d=this.Jb;c.pb.h=a;c.pb.g=b;c.pb.qh=d}else c.pb.h=a,c.pb.g=b,c.pb.qh=-1;this.ta[b][a]=c};function uf(a,b,c,d){for(var e=0;e<d;e++){var f=b+e;if(!1===(void 0===a.ta[c]||void 0===a.ta[c][f]||-10===a.ta[c][f].T?!0:!1))return!1}return!0}m.Ka=function(){return this.ta.length};m.Sb=function(){for(var a=0,b=this.Ka(),c=0;c<b;c++){var d=this.ta[c].length-1;d>a&&(a=d)}return a};function wf(a){if(this.b=a)a.f=this;this.cb=null;this.V=[];this.a={tj:null,le:null,qm:null,jm:null,ph:null,sh:null,$g:null};this.ed=this.Th=this.mc=0}m=wf.prototype;m.p=function(a,b){xf(this,b);var c=this.b,d=H(a),e=a+"_Board",f=a+"_Message",g=a+"_Next";this.L(d.a,e);var h=this.L(d.a,g),k=this.L(d.a,f);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var l=H(e);l.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);l.o=L|M|Q|O;d.l(l);this.L(l.a,e+"_Centred");var n=H(e);l.Za(2);l.l(n);l=H(f);l.j.n(350,350,650,650,!1,!1,!1,!1,-1,-1);l.o=L|M|Q|O;d.l(l);n=new ca(this);n.p(e,c);n.Ee=this;var p=H(g);p.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);p.o=L|M|Q|O;d.l(p);c=g+"_Centred";this.L(p.a,c);e=H(c);p.Za(2);p.l(e);p=c+"_Next";g=yf(e.a,p);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var q=c+"_Prev",c=yf(e.a,q);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var r=this;g.addEventListener("click",function(){r.a.ph.style.display="none";r.a.sh.style.display="none";zf(r)},!1);c.addEventListener("click",function(){r.a.ph.style.display="none";r.a.sh.style.display="none";Af(r)},!1);p=H(p);p.j.n(501,0,2,2,!1,!1,!0,!0,-1,25);p.o=M|Q|O;e.l(p);p=H(q);p.j.n(2,0,499,2,!0,!1,!1,!0,-1,25);p.o=M|Q|O;e.l(p);var u=f+"_Text",q=f+"_Next",t=f+"_Prev",f=this.L(k,u);f.style.fontFamily="verdana";f.style.textAlign="justify";f.style.kp="center";f.style.overflowY="scroll";e=yf(k,q);p=yf(k,t);p.addEventListener("click",function(){Af(r)},!1);e.addEventListener("click",function(){zf(r)},!1);u=H(u);u.j.n(0,0,1E3,35,!1,!1,!1,!0,-1,-1);u.o=L|M|O|Q;l.l(u);q=H(q);q.j.n(0,0,5,5,!1,!1,!0,!0,100,25);q.o=O|Q;l.l(q);q=H(t);q.j.n(5,0,0,5,!0,!1,!1,!0,100,25);q.o=O|M;l.l(q);this.a.tj=k;this.a.le=f;this.a.qm=p;this.a.jm=e;this.a.ph=g;this.a.sh=c;this.a.$g=h;this.V.push(n);this.cb=d;this.r();Bf(this,0,0)};m.r=function(a){this.cb&&this.cb.ub(this.cb.a.clientWidth,this.cb.a.clientHeight);for(var b=0,c=this.V.length;b<c;b++)this.V[b].r(a)};function Qb(a){return null===a.wa[a.mc].vb||void 0===a.wa[a.mc].vb.Xi?0:a.wa[a.mc].vb.Xi}function Rb(a){null!==a.wa[a.mc].vb&&!0===a.wa[a.mc].vb.ep?(a.a.$g.style.display="block",a.a.ph.style.display="block",a.a.sh.style.display="block"):a.xr(a.mc,2)}m.sm=function(){};m.Fd=function(){};m.jc=function(){};m.bk=function(){};m.dk=function(){};m.ck=function(){};m.ek=function(){};m.Gd=function(){};m.cg=function(){};m.wj=function(){};m.mm=function(){};function xf(a,b){var c=b.length;a.Th=c;a.wa=[];for(var d=0;d<c;d++)a.wa[d]={},a.wa[d].Pj=b[d].Sgf,a.wa[d].uq=b[d].Before,a.wa[d].tq=b[d].After,a.wa[d].sj=b[d].Message,null===b[d].SgfPr?a.wa[d].vb=null:(a.wa[d].vb={},a.wa[d].vb.Xi=b[d].SgfPr.Count,a.wa[d].vb.ep=b[d].SgfPr.WaitOnEnd,a.wa[d].vb.Pf={},b[d].SgfPr.Flags&&(a.wa[d].vb.Pf.oh=b[d].SgfPr.Flags.NewNode,a.wa[d].vb.Pf.Vf=b[d].SgfPr.Flags.Move,a.wa[d].vb.Pf.Ui=b[d].SgfPr.Flags.ChangeBoardMode,a.wa[d].vb.Pf.pj=b[d].SgfPr.Flags.LoadFile))}function zf(a){var b=a.mc;0===a.ed?null!==a.wa[b].Pj?Bf(a,b,1):(a.ed=1,zf(a)):1!==a.ed||b>=a.Th-1||(null!==a.wa[b+1].sj?Bf(a,b+1,0):(a.mc++,a.ed=0,zf(a)))}function Af(a){var b=a.mc;0===a.ed?0>=b||(null!==a.wa[b-1].Pj?Bf(a,b-1,1):(a.mc--,a.ed=1,Af(a))):1===a.ed&&(null!==a.wa[b].sj?Bf(a,b,0):(a.ed=0,Af(a)))}function Bf(a,b,c){if(!(0>b||b>=a.Th)){a.mc=b;a.ed=c;var d=a.wa[b].Pj,e=a.wa[b].vb,f=a.wa[b].sj;if(0===c)if(a.a.$g.style.display="block",null!==f){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.Th-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.qm;e=a.a.jm;for(a.a.tj.style.display="block";a.a.le.firstChild;)a.a.le.removeChild(a.a.le.firstChild);Kd(a.a.le,"");"string"===typeof f?Kd(a.a.le,f):a.a.le.appendChild(f);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?e.style.display="none":(e.style.display="block",e.value=b)}else zf(a);else 1===c&&(a.a.$g.style.display="none",null!==d?(a.a.tj.style.display="none",a.b.G=4294967295,a.b.Xc(d),Vd(a.b,e.Pf),a.b.Ia()):zf(a))}}m.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function yf(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var Cf=0,Df=0,Ef=1;function Ff(a,b){this.f=a;this.b=null;this.T=b?b:Cf;this.a={d:null,im:null,Yo:null,he:null};this.Pk=new A(217,217,217,255);this.zp=new A(80,80,80,255);this.Cp=new A(190,190,190,255);this.po=new A(80,80,80,255);this.Ep=new A(130,130,130,255);this.Ua=this.hf=this.v=0;this.Mc=this.Ae=17;this.mg=!1;var c=this;this.Np=function(a){var b=c.v-c.Ua;0!==b&&(df(c,(a-c.Mc)/b,!1),Gf(c,!1))};this.hl=function(){c.mg=!0;Gf(c,!1)};this.Pp=function(a){c.mg=!1;var b=c.v-c.Ua;0!==b&&(df(c,(a-c.Mc)/b,!1),Gf(c,!0))}}Ff.prototype.p=function(a){this.b=this.f?this.f.b:null;switch(this.T){case Df:this.f.Cg=this;break;case Ef:this.f.Sk=this}this.a.d=H(a);var b=this.a.d.a;b.style.backgroundColor=R(this.Pk);b.style.Cr=R(new A(255,255,255,255));var c=a+"_Left",d=a+"_Right";a=a+"_Slider";this.a.Yo=this.Aa(b,d);this.a.im=this.Aa(b,c);this.a.he=this.Aa(b,a);var e=this;this.a.he.onmouseover=function(){this.style.backgroundColor=R(e.Ep)};this.a.he.onmouseout=function(){this.style.backgroundColor=R(e.po)};b=H(d);b.j.n(this.Mc,this.Ae-1,this.Mc,this.Ae-1,!0,!0,!0,!0,-1,-1);b.o=L|M|O|Q;this.a.d.l(b);b.a.style.background=R(this.Cp);c=H(c);c.j.n(this.Mc,this.Ae,500,this.Ae,!0,!0,!1,!0,-1,-1);c.o=L|M|O|Q;this.a.d.l(c);c.a.style.background=R(this.zp);this.r();df(this,0)};Ff.prototype.r=function(){var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;this.v=a-2*this.Mc;this.a.d.ub(a,b);this.tc(a,b);df(this,this.hf,!0)};Ff.prototype.tc=function(a){var b=32;switch(this.T){case Df:b=45;break;case Ef:b=32}this.Ua=b;var c=this.a.he;c.style.width=b+"px";c.style.height="12px";c.style.display="block";c.style.position="absolute";c.style.backgroundColor=R(this.po);c.style.top=this.Ae-5+"px";c.style.left=this.Mc+"px";c.style.borderRadius="5px";qf(c,this.Mc,a-this.Mc-b,this.Ae-5,this.Ae-5);c.Ob=this.Np;c.Qb=this.hl;c.Pb=this.Pp;c.style.fontSize="12px";c.style.lineHeight="12px";c.style.color="rgb(255,255,255)";c.style.textOverflow="clip";c.style.overflow="hidden";c.style.textAlign="center";c.style.cursor="default";c.style.transitionProperty="background";c.style.transitionDuration="0.25s";c.style.fontFamily='"Times New Roman", Times, serif'};Ff.prototype.Aa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function df(a,b,c){a.hf=Math.min(1,Math.max(b,0));a.a.im.style.width=a.hf*a.v+"px";!1!==c&&(a.a.he.style.left=a.hf*(a.v-a.Ua)+a.Mc+"px")}function Gf(a,b){if(a.b)switch(a.T){case Df:var c=a.b,d=a.hf;c.og=d;if(c.f){var e=c.f;e.Cg&&(e=e.Cg,!0!==e.mg&&df(e,d,!0))}null!==c.bd&&c.bg();b?Kd(a.a.he,""):Kd(a.a.he,((100+6900*(1-a.b.og))/1E3*1E3|0)/1E3+" s");break;case Ef:c=a.b;d=c.Ja;for(e=1;0<rc(d);)e++,d=d.U();d=a.hf*(e-1);for(e=c.Ja;0<rc(e)&&0<d;)d--,e=e.U();c.ea(e)}};function Hf(){this.Bl=this.Al=this.zl=this.yl=this.pm=null;this.xn=!1;this.ef=!0}Hf.prototype.p=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.ef=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.xn=!0);b=b[0];this.pm=If(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.yl=If(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.zl=If(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.Al=If(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.Bl=If(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3");If(b,"GoBoardApiSoundNewMessage",a+"/NewMessage.mp3");If(b,"GoBoardApiSoundFemale10","");If(b,"GoBoardApiSoundFemale9","");If(b,"GoBoardApiSoundFemale8","");If(b,"GoBoardApiSoundFemale7","");If(b,"GoBoardApiSoundFemale6","");If(b,"GoBoardApiSoundFemale5","");If(b,"GoBoardApiSoundFemale4","");If(b,"GoBoardApiSoundFemale3","");If(b,"GoBoardApiSoundFemale2","");If(b,"GoBoardApiSoundFemale1","");If(b,"GoBoardApiSoundTick","/Src/Files/Tick.ogg");If(b,"GoBoardApiSoundTickLast3","/Src/Files/TickLast3.ogg");If(b,"GoBoardApiSoundBeep","/Src/Files/Beep.wav");If(b,"GoBoardApiSoundBeepBeep","/Src/Files/BeepBeep.wav");If(b,"GoBoardApiSoundChallenger","/Src/Files/Challenger.wav")}};function Jf(a,b){1>=b?Kf(a,a.yl):3>=b?Kf(a,a.zl):5>=b?Kf(a,a.Al):Kf(a,a.Bl)}function If(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.i="preload",d.src=c,a.appendChild(d));return d}function Kf(a,b){if(b&&a.ef&&x.Tf())try{a.xn?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function Fd(a){this.f=a;this.b=null;this.a={d:null};this.Ok=new A(217,217,217,255);this.Ih=[];this.ig=[]}function U(a,b,c,d){a.ig.push(new Lf(b,c,d))}Fd.prototype.p=function(a,b){this.b=b;this.a.d=H(a);var c=this.a.d.a,d=this.a.d;c.style.backgroundColor=R(this.Ok);for(var e=0,f=0,g=0,h=this.ig.length;g<h;++g){var k=this.ig[g],l=k.cb;if(null!==l){var n=a+g;this.Aa(c,n);W===k.pp?(this.Da(d,n,e,k.v,!0),e+=k.v+k.Kk):(this.Da(d,n,f,k.v,!1),f+=k.v+k.Kk);l.p(n,b);this.Ih.push(l)}}this.r()};Fd.prototype.r=function(){this.a.d.ub(this.a.d.a.clientWidth,this.a.d.a.clientHeight);for(var a=0,b=this.Ih.length;a<b;a++)this.Ih[a].r()};function Mf(a){for(var b=0,c=0,d=a.ig.length;c<d;++c){var e=a.ig[c],f=e.v;-1===f&&(f=16777215);b+=f+e.Kk}return b}Fd.prototype.Aa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};Fd.prototype.Da=function(a,b,c,d,e){b=H(b);e?(b.j.n(c,0,1E3,1E3,!0,!1,!1,!1,d,-1),b.o=L|M|O):(b.j.n(0,0,c,1E3,!1,!1,!0,!1,d,-1),b.o=L|Q|O);a.l(b)};function He(a){this.f=a;this.b=null;this.a={d:null,vq:{d:null},wq:{d:null}};this.Ok=new A(217,217,217,255);this.Wh=this.ci=this.Pd=this.De=null;this.Ih=[]}m=He.prototype;m.p=function(a,b,c,d){this.b=b;this.a.d=H(a);var e=this.a.d.a,f=this.a.d;e.style.backgroundColor=R(this.Ok);var g=new Ad(this.f),h=a+"C";this.Aa(e,h);this.Da(f,h,0);g.p(h,b);this.Pd=g;g=new Bd(this.f);a=a+"N";this.Aa(e,a);this.Da(f,a,1);g.p(a,b);this.De=g;this.De.Rk=this;this.Pd.Rk=this;this.ci=document.getElementById(c);this.Wh=document.getElementById(d);this.ge(this.Pd);this.r()};m.r=function(){this.a.d.ub(this.a.d.a.clientWidth,this.a.d.a.clientHeight);this.De.r();this.Pd.r()};m.Aa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.Da=function(a,b,c){b=H(b);b.j.n(0,36*c+c,1E3,0,!1,!0,!1,!1,-1,36);b.o=L|M|Q;a.l(b)};m.ge=function(a){a===this.De?(Uc(this.De,!0),Uc(this.Pd,!1),this.ci.style.visibility="visible",this.Wh.style.visibility="hidden"):a===this.Pd?(Uc(this.De,!1),Uc(this.Pd,!0),this.ci.style.visibility="hidden",this.Wh.style.visibility="visible"):(Uc(this.De,!1),Uc(this.Pd,!1),this.ci.style.visibility="hidden",this.Wh.style.visibility="hidden")};var W=1,Ae=2;function Lf(a,b,c){this.cb=a;this.v=b;this.Kk=1;this.pp=c}function Ee(a){this.f=a;this.a={d:null,Oj:null,bp:null,hj:null,Ml:null,Di:null,rl:null,Tj:null,Mm:null,Nl:null,ij:null,$j:null,Sm:null,em:null,nj:null};this.un=x.re;this.An=x.te;this.vn=x.pe;this.tn=x.oe;this.zn=x.se;this.yn=x.qe;this.J=this.v=-1;this.tg=36;this.Qn=1;this.Tn=110;this.vf=new Fd(a);U(this.vf,new yd(a),36,W);this.f&&this.f.b&&!0!==this.f.b.ya.Lh?U(this.vf,new ud(a),36,W):this.Tn=73;U(this.vf,new vd(a,this),36,W);this.ld=new Fd(a);U(this.ld,new Xc(a),36,W);U(this.ld,new $c(a),36,W);U(this.ld,new ad(a),36,W);U(this.ld,new bd(a),36,W);U(this.ld,new cd(a),36,W);U(this.ld,new dd(a),36,W);this.Jg=new Fd(a);U(this.Jg,new ed(a),36,W);U(this.Jg,new fd(a),36,W);this.tf=new Fd(a);U(this.tf,new xd(a),73,W);U(this.tf,new Cd(a),36,W);U(this.tf,new Rc(a),36,W);this.Dg=new Fd(a);U(this.Dg,new pd(a),36,W);U(this.Dg,new Ff(a,Df),-1,W);this.ii=new Fd(a);U(this.ii,new Ff(a,Ef),-1,W);this.Gg=new Fd(a);U(this.Gg,new Td(a),36,W);U(this.Gg,new Ud(a),36,W);this.Ek=1;this.V=[];this.Uk=null}m=Ee.prototype;m.p=function(a){this.a.d=H(a);var b=this.a.d.a,c=this.a.d,d=a+"SS",e=a+"GN",f=a+"TN",g=a+"GL",h=a+"AP",k=a+"TL";a=a+"KF";this.a.bp=Nf(b,d);this.a.Nl=Nf(b,e);this.a.Sm=Nf(b,f);this.a.Ml=Nf(b,g);this.a.rl=Nf(b,h);this.a.Mm=Nf(b,k);this.a.em=Nf(b,a);this.a.Oj=H(d);c.l(this.a.Oj);this.vf.p(d,this.f.b);this.a.ij=H(e);c.l(this.a.ij);this.ld.p(e,this.f.b);this.a.$j=H(f);c.l(this.a.$j);this.Jg.p(f,this.f.b);this.a.hj=H(g);c.l(this.a.hj);this.tf.p(g,this.f.b);this.a.Di=H(h);c.l(this.a.Di);this.Dg.p(h,this.f.b);this.a.Tj=H(k);c.l(this.a.Tj);this.ii.p(k,this.f.b);this.a.nj=H(a);c.l(this.a.nj);this.Gg.p(a,this.f.b);Of(this);Pf(this)};m.Ka=function(){var a=Math.max(this.Ek,1);return a*this.tg+(a-1)*this.Qn};m.r=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.J||!0===a)for(this.v=b,this.J=c,this.Ba(),this.a.d.ub(b,c),this.vf.r(),a=0,b=this.V.length;a<b;++a)this.V[a].r()};function Fe(a,b){a.Uk=b}m.Jj=function(a){this.un=a;this.Ba();this.r(!0)};m.Nj=function(a){this.An=a;this.Ba();this.r(!0)};m.Fj=function(a){this.vn=a;this.Ba();this.r(!0)};m.Aj=function(a){this.tn=a;this.Ba();this.r(!0)};m.Mj=function(a){this.zn=a;this.Ba();this.r(!0)};m.Gj=function(a){this.yn=a;this.Ba();this.r(!0)};m.Ba=function(){Of(this);Pf(this);this.Uk&&this.Uk()};function Of(a){a.V=[];Qf(a,a.un,a.ld,a.a.Nl);Qf(a,a.An,a.Jg,a.a.Sm);Qf(a,a.vn,a.tf,a.a.Ml);Qf(a,a.tn,a.Dg,a.a.rl);Qf(a,a.zn,a.ii,a.a.Mm);Qf(a,a.yn,a.Gg,a.a.em)}function Qf(a,b,c,d){!0===b?(a.V.push(c),d.style.display="block"):d.style.display="none"}function Pf(a){var b=a.a.d.a.clientWidth;a.Ek=1;var c=a.a.Oj;c.j.n(0,0,0,1E3,!1,!0,!0,!1,a.Tn,a.tg);c.o=L|Q;for(var c=b-Mf(a.vf),d=0,e=0,f=0,g=a.V.length;f<g;++f){var h=a.V[f],k=Mf(h),l=null;h===a.ld?l=a.a.ij:h===a.Jg?l=a.a.$j:h===a.tf?l=a.a.hj:h===a.Dg?l=a.a.Di:h===a.ii?l=a.a.Tj:h===a.Gg&&(l=a.a.nj);if(h=l).1>=d||d+k<c?h.j.n(d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c),a.tg):(c=b,a.Ek++,d=0,e+=a.tg+a.Qn,h.j.n(d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c-d),a.tg)),h.o=L|M,d+=k}};function Rf(){this.Jh=[];this.kd=null;this.Ec=[]}Rf.prototype.p=function(a,b,c,d){var e=d?d:200,f=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=e-1+"px";a.style.borderRight="1px solid #cbcbcb";f.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=e+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";f.appendChild(d);e=0;for(f=b.length;e<f;e++)Sf(this,a,b[e],d);(b=this.Jh[c?c:0])&&Tf(this,b)};function Sf(a,b,c,d){var e=document.createElement("div");b.appendChild(e);e.style.color="rgb(68, 68, 68)";e.addEventListener("mouseenter",function(){a.kd!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);e.addEventListener("mouseleave",function(){a.kd!==this&&(this.style.backgroundColor="")},!1);e.addEventListener("click",function(){Tf(a,this)},!1);b=document.createElement("div");e.appendChild(b);b.style.padding="7px 2px 7px 20px";var f=document.createElement("div");b.appendChild(f);f.style["-webkit-user-select"]="none";f.style.borderCollapse="collapse";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="block";f.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";f.style.fontSize="16px";f.style.height="17px";f.style.lineHeight="17.142858505249px";f.style.width="177px";Kd(f,c);f=document.createElement("div");f.style.display="none";f.style.width="100%";f.style.height="100%";d.appendChild(f);a.Ec.push(f);a.Jh.push(e)}function Tf(a,b){if(a.kd!==b){if(null!==a.kd){a.kd.style.backgroundColor="";a.kd.style.color="rgb(68, 68, 68)";var c=Uf(a,a.kd);a.Ec[c]&&(a.Ec[c].style.display="none")}a.kd=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=Uf(a,a.kd);a.Ec[c]&&(a.Ec[c].style.display="block")}}function Uf(a,b){for(var c=0,d=a.Jh.length;c<d;c++)if(b===a.Jh[c])return c;return-1};function Vf(){this.a={d:null,Ya:null,Wc:null,Cl:null,Ud:null,xl:null,Jo:null,ae:null,zd:null,yd:null,Ad:null,Uc:null,xc:null,wc:null,gc:null};this.Bp=new A(166,166,166,255);this.wp=new A(185,185,185,255);this.Pk=new A(217,217,217,255);this.f=null;this.J=this.v=-1;this.ng=!1;this.uo=null;var a=this;this.Sp=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.ae.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.ae.style.left="0px";a.r()};this.Vp=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.zd.style.left)+6-b;60>b+c?a.a.zd.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.zd.style.left=b+c-6+"px",a.r())};this.Op=function(){var b=parseInt(a.a.d.a.style.height),c=parseInt(a.a.yd.style.top)+6-b;60>b+c?a.a.yd.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.yd.style.top=b+c-6+"px",a.r())};this.Xp=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Ad.style.top);60>c-d?a.a.Ad.style.top="0px":(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px",a.a.Ad.style.top="0px",a.r())};this.Tp=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Uc.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.Uc.style.top="0px";b=parseInt(a.a.d.a.style.left);c=parseInt(a.a.d.a.style.width);d=parseInt(a.a.Uc.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Uc.style.left="0px";a.r()};this.Wp=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.xc.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.xc.style.top="0px";b=parseInt(a.a.d.a.style.width);c=parseInt(a.a.xc.style.left)+6-b;60>b+c?a.a.xc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.xc.style.left=b+c-6+"px");a.r()};this.Rp=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.wc.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.wc.style.left="0px";b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.wc.style.top)+6-b;60>b+c?a.a.wc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.wc.style.top=b+c-6+"px");a.r()};this.Up=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.gc.style.left)+6-b;60>b+c?a.a.gc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.gc.style.left=b+c-6+"px");b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.gc.style.top)+6-b;60>b+c?a.a.gc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.gc.style.top=b+c-6+"px");a.r()}}m=Vf.prototype;m.p=function(a,b){function c(){E.Uo()}function d(){E.cp()}var e=this;this.ng=!0;this.uo=a;this.a.d=H(a);var f=this.a.d.a,g=this.a.d;f.style.border="1px solid "+R(this.Bp);f.style.backgroundColor=R(this.Pk);f.style.boxSizing="content-box";f.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";f.addEventListener("mousedown",function(){e.Hf()},!1);var h=a+"_Inner",k=Wf(f,h),h=H(h);h.j.n(6,29,8,8,!0,!0,!0,!0,-1,-1);h.o=L|M|O|Q;g.l(h);k.style.border="1px solid "+R(this.wp);k.style.backgroundColor=R(new A(255,255,255,255));k.style.overflow="hidden";this.a.Ya=k;this.a.Wc=h;h=a+"_Caption";Wf(f,h);k=H(h);k.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,30);k.o=L|M|Q;g.l(k);var l=h+"_Text",h=Wf(f,l),l=H(l);l.j.n(15,0,55,1E3,!0,!1,!0,!1,-1,30);l.o=L|M|Q|O;k.l(l);h.style.fontFamily="Tahoma, Sans serif";h.style.fontSize="13pt";h.style.textAlign="center";h.style.height="29px";h.style.lineHeight="29px";h.style.overflow="hidden";h.style.textOverflow="ellipsis";h.style["-o-text-overflow"]="ellipsis";h.style.cursor="default";Kd(h,"Caption");this.a.xl=h;this.a.Jo=l;h=a+"_Caption2";k=Wf(f,h);h=H(h);h.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,30);h.o=L|M|Q;g.l(h);this.a.Ud=k;qf(k);k.Ob=function(){var a=parseInt(e.a.d.a.style.top),b=parseInt(e.a.Ud.style.top);e.a.d.a.style.left=parseInt(e.a.d.a.style.left)+parseInt(e.a.Ud.style.left)+"px";e.a.d.a.style.top=a+b+"px";e.a.Ud.style.left="0px";e.a.Ud.style.top="0px";e.r()};k.Qb=c;k.Pb=d;!1!==b&&(h=a+"_LeftHandler",k=Wf(f,h),h=H(h),h.j.n(0,6,1E3,6,!1,!0,!1,!0,6,-1),h.o=L|M|O,g.l(h),k.style.cursor="w-resize",this.a.ae=k,h=a+"_RightHandler",k=Wf(f,h),h=H(h),h.j.n(0,6,0,6,!1,!0,!0,!0,6,-1),h.o=L|Q|O,g.l(h),k.style.cursor="w-resize",this.a.zd=k,h=a+"_BottomHandler",k=Wf(f,h),h=H(h),h.j.n(6,0,6,0,!0,!1,!0,!0,-1,6),h.o=O|Q|M,g.l(h),k.style.cursor="s-resize",this.a.yd=k,h=a+"_TopHandler",k=Wf(f,h),h=H(h),h.j.n(6,0,6,1E3,!0,!0,!0,!1,-1,6),h.o=L|Q|M,g.l(h),k.style.cursor="s-resize",this.a.Ad=k,h=a+"_LeftTopHandler",k=Wf(f,h),h=H(h),h.j.n(0,0,1E3,1E3,!1,!1,!1,!1,6,6),h.o=L|M,g.l(h),k.style.cursor="se-resize",this.a.Uc=k,h=a+"_RightTopHandler",k=Wf(f,h),h=H(h),h.j.n(0,0,0,1E3,!1,!1,!0,!1,6,6),h.o=L|Q,g.l(h),k.style.cursor="ne-resize",this.a.xc=k,h=a+"_LeftBottomHandler",k=Wf(f,h),h=H(h),h.j.n(0,0,0,1E3,!1,!1,!1,!1,6,6),h.o=O|M,g.l(h),k.style.cursor="ne-resize",this.a.wc=k,h=a+"_RightBottomHandler",k=Wf(f,h),h=H(h),h.j.n(0,0,0,1E3,!1,!1,!0,!1,6,6),h.o=O|Q,g.l(h),k.style.cursor="se-resize",this.a.gc=k,qf(this.a.ae,null,null,null,null),this.a.ae.Ob=this.Sp,this.a.ae.Qb=c,this.a.ae.Pb=d,qf(this.a.zd,null,null,null,null),this.a.zd.Ob=this.Vp,this.a.zd.Qb=c,this.a.zd.Pb=d,qf(this.a.Ad,null,null,null,null),this.a.Ad.Ob=this.Xp,this.a.Ad.Qb=c,this.a.Ad.Pb=d,qf(this.a.yd,null,null,null,null),this.a.yd.Ob=this.Op,this.a.yd.Qb=c,this.a.yd.Pb=d,qf(this.a.Uc,null,null,null,null),this.a.Uc.Ob=this.Tp,this.a.Uc.Qb=c,this.a.Uc.Pb=d,qf(this.a.xc,null,null,null,null),this.a.xc.Ob=this.Wp,this.a.xc.Qb=c,this.a.xc.Pb=d,qf(this.a.wc,null,null,null,null),this.a.wc.Ob=this.Rp,this.a.wc.Qb=c,this.a.wc.Pb=d,qf(this.a.gc,null,null,null,null),this.a.gc.Ob=this.Up,this.a.gc.Qb=c,this.a.gc.Pb=d);k=a+"_Close";f=Wf(f,k);h=H(k);h.j.n(0,0,6,1E3,!1,!0,!0,!1,45,20);h.o=L|Q;g.l(h);f.style.backgroundColor=R(new A(255,0,0,255));g=new qd(this.f);g.p(k,this);g.Hg=new A(199,80,80,255);g.uf=new A(224,67,67,255);g.Ag=new A(153,61,61,255);this.a.Cl=g;this.Vg()};m.jj=function(){return this.uo};m.r=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.J||!0===a)this.v=b,this.J=c,this.a.d.ub(b,c),this.a.Cl.r();if(b=this.a.d.a.parentNode){a=parseInt(b.clientWidth);var b=parseInt(b.clientHeight),c=parseInt(this.a.d.a.style.left),d=parseInt(this.a.d.a.style.top),e=parseInt(this.a.d.a.style.width),f=parseInt(this.a.d.a.style.height);e>a+1||f>b+1?(e>a+1&&(this.a.d.a.style.width=a+"px"),f>b+1&&(this.a.d.a.style.height=b+"px"),this.r()):(c+e>a&&(this.a.d.a.style.left=a-e+"px"),0>=c&&(this.a.d.a.style.left="0px"),d+f>b&&(this.a.d.a.style.top=b-f+"px"),0>=d&&(this.a.d.a.style.top="0px"))}};m.hb=function(){this.ng=!1;this.a.d.a.style.display="none";this.b&&this.b.Ia()};m.Ca=function(a){this.ng=!0;var b=this.a.d.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a&&a.S){var e=a.S;a=e.Sb();e=e.Ka();d>e-100&&(b.style.top=e-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};m.Ia=function(){};function Xf(a,b){Kd(a.a.xl,b)}function Wf(a,b){var c=document.createElement("div");b&&c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function Yf(a,b){if(b){a.f=b;var c=a.a.d.a,d=parseInt(c.style.width),e=parseInt(c.style.height),d=Math.max(0,(a.f.Sb()-d)/2),e=Math.max(0,(a.f.Ka()-e)/2);c.style.left=d+"px";c.style.top=e+"px"}}m.Vg=function(){var a=this.a.d.a,b=this.Tc();null!==b&&void 0!==b&&(a.style.width=b.M+"px",a.style.height=b.I+"px")};m.Tc=function(){return null};m.Qa=function(){};m.Hf=function(){};function Zf(){Zf.t.constructor.call(this);this.a.Ye=null;this.a.Lf=null;this.a.Vo=null;this.a.Io=null;this.a.lm=null;this.a.tb=null;this.a.Nf=null}Yc(Zf,Vf);Zf.prototype.p=function(a,b){Zf.t.p.call(this,a,b);var c=this.a.Ya,d=this.a.Wc,e=c.id,f=e+"Content",e=e+"Buttons",g=Wf(c,f),c=Wf(c,e),f=H(f);f.j.n(0,0,0,40,!0,!0,!0,!0,-1,-1);f.o=M|L|O|Q;d.l(f);var h=H(e);h.j.n(0,0,0,0,!0,!1,!0,!0,-1,40);h.o=M|O|Q;d.l(h);this.a.Nf=f;this.a.tb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";this.a.lm=c;g=e+"OK";Wf(c,g);f=H(g);f.j.n(0,9,85,1E3,!1,!0,!0,!1,66,21);f.o=L|Q;d.l(f);h=new sd(this.f);h.p(g,this);this.a.Ye=h;this.a.Vo=f;h.ei=new A(234,234,234,255);h.Hg=new A(172,172,172,255);h.$h=new A(227,240,252,255);h.uf=new A(126,180,234,255);h.zg=new A(207,230,252,255);h.Ag=new A(86,157,229,255);h.Yh=new A(239,239,239,255);h.Zh=new A(217,217,217,255);e+="Cancel";Wf(c,e);c=H(e);c.j.n(0,9,11,1E3,!1,!0,!0,!1,66,21);c.o=L|Q;d.l(c);d=new td(this.f);d.p(e,this);this.a.Lf=d;this.a.Io=c;d.ei=new A(234,234,234,255);d.Hg=new A(172,172,172,255);d.$h=new A(227,240,252,255);d.uf=new A(126,180,234,255);d.zg=new A(207,230,252,255);d.Ag=new A(86,157,229,255);d.Yh=new A(239,239,239,255);d.Zh=new A(217,217,217,255)};Zf.prototype.r=function(a){Zf.t.r.call(this,a);this.a.Ye&&this.a.Ye.r();this.a.Lf&&this.a.Lf.r()};Zf.prototype.Rl=function(){this.hb()};Zf.prototype.Ue=function(){this.hb()};function $f(){$f.t.constructor.call(this);this.s={};this.b=null;this.Gn=10;this.Ik=20;this.rp=5;this.mf=100}Yc($f,Zf);m=$f.prototype;m.p=function(a,b){$f.t.p.call(this,a);var c=window.i?window.i.u.window.Fa.caption:"Game info",d=window.i?window.i.u.window.Fa.gr:"Game name",e=window.i?window.i.u.window.Fa.result:"Result",f=window.i?window.i.u.window.Fa.rules:"Rules",g=window.i?window.i.u.window.Fa.mr:"Komi",h=window.i?window.i.u.window.Fa.kr:"Handicap",k=window.i?window.i.u.window.Fa.Dr:"Time settings",l=window.i?window.i.u.window.Fa.Eq:"Black",n=window.i?window.i.u.window.Fa.Fq:"Black rank",p=window.i?window.i.u.window.Fa.Jr:"White",q=window.i?window.i.u.window.Fa.Kr:"White rank",r=window.i?window.i.u.window.Fa.Iq:"Copyright",u=window.i?window.i.u.window.Fa.Nq:"Date",t=window.i?window.i.u.window.Fa.event:"Event",z=window.i?window.i.u.window.Fa.round:"Round",B=window.i?window.i.u.window.Fa.vr:"Place",w=window.i?window.i.u.window.Fa.zq:"Annotator",C=window.i?window.i.u.window.Fa.fr:"Fuseki",v=window.i?window.i.u.window.Fa.source:"Source",G=window.i?window.i.u.window.Fa.Hr:"Transcriber",ba=window.i?window.i.u.window.Fa.Fa:"Game info";window.P&&(window.P.Ze("15px Tahoma, 'Sans serif'"),this.mf=Math.max(window.P.oa(d),window.P.oa(e),window.P.oa(f),window.P.oa(g),window.P.oa(h),window.P.oa(k),window.P.oa(l),window.P.oa(n),window.P.oa(p),window.P.oa(q),window.P.oa(r),window.P.oa(u),window.P.oa(t),window.P.oa(z),window.P.oa(B),window.P.oa(w),window.P.oa(C),window.P.oa(v),window.P.oa(G),window.P.oa(ba))+12);Yf(this,b.S);var V=b.Q;this.b=V;!0!==(V.G&16?!0:!1)&&Sc(this.a.Ye,!1);Xf(this,c);var c=this.a.Nf,D=this.a.tb,K=this.a.tb.id;D.style.overflowX="hidden";D.style.overflowY="scroll";var aa=this.Ik,N=10,ka=this.rp,ob=this.Gn,na=V.G&16?!0:!1;this.s.Kl=this.ua(D,c,K,d,V.pd,N,aa,na);N+=aa+ka;this.s.vm=this.ua(D,c,K,e,V.Ke,N,aa,na);N+=aa+ka;this.s.xm=this.ua(D,c,K,f,V.Df,N,aa,na);N+=aa+ka;this.s.jh=this.ua(D,c,K,g,V.dd,N,aa,na);N+=aa+ka;this.s.ih=this.ua(D,c,K,h,V.Wb,N,aa,na);N+=aa+ka;this.s.Lm=this.ua(D,c,K,k,V.of+(""===V.Je?"":" + "+V.Je),N,aa,na);N+=aa+ka;this.s.tl=this.ua(D,c,K,l,V.od,N,aa,na);N+=aa+ka;this.s.vl=this.ua(D,c,K,n,V.wf,N,aa,na);N+=aa+ka;this.s.jn=this.ua(D,c,K,p,V.qd,N,aa,na);N+=aa+ka;this.s.ln=this.ua(D,c,K,q,V.Ef,N,aa,na);N+=aa+ka;this.s.Dl=this.ua(D,c,K,r,V.xf,N,aa,na);N+=aa+ka;this.s.Date=this.ua(D,c,K,u,V.mi,N,aa,na);N+=aa+ka;this.s.Event=this.ua(D,c,K,t,V.He,N,aa,na);N+=aa+ka;this.s.wm=this.ua(D,c,K,z,V.Af,N,aa,na);N+=aa+ka;this.s.om=this.ua(D,c,K,B,V.Ie,N,aa,na);N+=aa+ka;this.s.pl=this.ua(D,c,K,w,V.yf,N,aa,na);N+=aa+ka;this.s.Jl=this.ua(D,c,K,C,V.zf,N,aa,na);N+=aa+ka;this.s.Dm=this.ua(D,c,K,v,V.Bf,N,aa,na);N+=aa+ka;this.s.Rm=this.ua(D,c,K,G,V.Cf,N,aa,na);N+=aa+ka;this.s.xd=this.Kg(D,c,K,ba,V.ni,N,aa,na);N+=3*aa;Wf(D,K+"Bottom");d=H(K+"Bottom");d.j.n(0,N,1E3,1E3,!0,!0,!1,!1,0,ob);d.o=M|L|Q;c.l(d)};m.r=function(a){$f.t.r.call(this,a);this.a.Ye&&this.a.Ye.r();this.a.Lf&&this.a.Lf.r();a=parseInt(this.s.xd.style.top)|0;var b=(parseInt(this.a.tb.style.height)|0)-this.Gn;this.s.xd.style.height=b-a<3*this.Ik?3*this.Ik+"px":b-a+"px"};m.Rl=function(){this.hb()};m.Ue=function(){if(this.b){var a=this.b;a.pd=this.s.Kl.value;T(a,!0);ag(this.b,this.s.vm.value);a=this.b;a.Df=this.s.xm.value;T(a,!0);bg(this.b,parseFloat(this.s.jh.value));a=this.b;a.Wb=this.s.ih.value;T(a,!0);a=this.b;a.of=this.s.Lm.value;T(a,!0);cg(this.b,this.s.tl.value);dg(this.b,this.s.vl.value);eg(this.b,this.s.jn.value);fg(this.b,this.s.ln.value);a=this.b;a.xf=this.s.Dl.value;T(a,!0);gg(this.b,this.s.xd.value);hg(this.b,this.s.Date.value);a=this.b;a.He=this.s.Event.value;T(a,!0);a=this.b;a.Af=this.s.wm.value;T(a,!0);a=this.b;a.Ie=this.s.om.value;T(a,!0);a=this.b;a.yf=this.s.pl.value;T(a,!0);a=this.b;a.zf=this.s.Jl.value;T(a,!0);a=this.b;a.Bf=this.s.Dm.value;T(a,!0);a=this.b;a.Cf=this.s.Rm.value;T(a,!0)}this.hb()};m.Aa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.Lg=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};m.ua=function(a,b,c,d,e,f,g,h){var k=this.mf,l;l=30;c+=d;var n=this.Aa(a,c,g),p=H(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.o=M|L;b.l(p);Kd(n,d);d=c+"Value";a=this.Lg(a,d,h);h=H(d);h.j.n(10+k,f+1,l,1E3,!0,!0,!0,!1,-1,g-2);h.o=M|L|Q;b.l(h);a.value=e;return a};m.Kg=function(a,b,c,d,e,f,g,h){var k=this.mf,l;l=30;c+=d;var n=this.Aa(a,c,g),p=H(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.o=M|L;b.l(p);Kd(n,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.s.xd=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=H(c);a.j.n(10+k,f+1,l,1E3,!0,!0,!0,!1,-1,3*g);a.o=M|L|Q;b.l(a);d.value=e;return d};m.Ca=function(a){$f.t.Ca.call(this,a);a=this.b;this.s.Kl.value=a.pd;this.s.vm.value=a.Ke;this.s.xm.value=a.Df;this.s.jh.value=a.dd;this.s.ih.value=a.Wb;this.s.Lm.value=a.of+(""===a.Je?"":" + "+a.Je);this.s.tl.value=a.od;this.s.vl.value=a.wf;this.s.jn.value=a.qd;this.s.ln.value=a.Ef;this.s.Dl.value=a.xf;this.s.Date.value=a.mi;this.s.Event.value=a.He;this.s.wm.value=a.Af;this.s.om.value=a.Ie;this.s.pl.value=a.yf;this.s.Jl.value=a.zf;this.s.Dm.value=a.Bf;this.s.Rm.value=a.Cf;this.s.xd.value=a.ni};function ig(){ig.t.constructor.call(this);this.v=300;this.J=100;this.mo=null}Yc(ig,Vf);m=ig.prototype;m.p=function(a,b){ig.t.p.call(this,a,!1);Yf(this,b.S);var c=window.i?window.i.u.window.error.caption:"Error";Xf(this,b.Ud?b.Ud:c);this.b=b.Q;this.f=b.S;var c=this.a.Wc,d=a+"E",e=this.Aa(this.a.Ya,d,20),d=H(d);d.j.n(10,5,10,5,!0,!0,!0,!0,-1,-1);d.o=M|L|O|Q;c.l(d);this.mo=e;this.Ca(b)};m.hb=function(){this.f&&xe(this.f);$f.t.hb.call(this)};m.Ca=function(a){ig.t.Ca.call(this,a);this.v=a.M;this.J=a.I;Kd(this.mo,a.vc);window.P&&0<this.v-14&&(window.P.Ze("15px Tahoma, 'Sans serif'"),a=window.P.oa(a.vc),a=20*Math.ceil(a/(this.v-14)+.5)+47,this.J<a&&(this.J=a),this.r(!0));this.f&&(ve(this.f),Yf(this,this.f),this.r(!0))};m.Aa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.Tc=function(){return{M:this.v,I:this.J}};function jg(){jg.t.constructor.call(this);this.b=null;this.s={Ub:{ak:null,Rj:null,Si:null,bj:null},Sj:null,rj:null,uj:null,aj:null,qj:null,Cm:null}}Yc(jg,Zf);jg.prototype.p=function(a,b){jg.t.p.call(this,a,!1);Yf(this,b.S);this.b=b.Q;Xf(this,"Settings");var c=new Rf;c.p(this.a.tb.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=kg(c.Ec[0]),e=this.a.tb.id+"A";this.s.Cm=lg(d,e+"T",this.b.ee(),"Show target");this.s.aj=lg(d,e+"C",this.b.ce(),"Cycle through variants");this.s.Sj=lg(d,e+"S",this.b.Tf(),"Sound");this.s.uj=mg(d,this.b.Te(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=kg(c.Ec[1]);e=this.a.tb.id+"CS";this.s.Ub.ak=ng(d,e+"TC","TrueColor");this.s.Ub.Rj=ng(d,e+"SC","SimpleColor");this.s.Ub.Si=ng(d,e+"BS","BookStyle");this.s.Ub.bj=ng(d,e+"D","Dark");rg(this);c=kg(c.Ec[2]);this.s.rj=lg(c,this.a.tb.id+"LSU",this.b.Rf(),"Load unfinished files on the last node");this.s.qj=mg(c,this.b.Xd(),["Don't show variants","Show variations of current node   (siblings)","Show variations of successor node (children)","Load option from file"],"Show variants")};jg.prototype.Tc=function(){return{M:400,I:210}};jg.prototype.Ca=function(a){jg.t.Ca.call(this,a);this.s.aj.checked=this.b.ce();this.s.Sj.checked=this.b.Tf();this.s.uj.selectedIndex=this.b.Te();rg(this);this.s.rj.checked=this.b.Rf();this.s.qj.selectedIndex=this.b.Xd()};function kg(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}jg.prototype.Ue=function(){var a=1,a=this.s.Ub.Rj.checked?3:this.s.Ub.Si.checked?2:this.s.Ub.bj.checked?4:1,a=x.uh(a);x.$f(this.s.Sj.checked?!0:!1);this.b.Yc(this.s.Cm.checked?!0:!1);this.b.Ij(this.s.rj.checked?!0:!1);this.b.Kj(this.s.uj.selectedIndex);this.b.Cj(this.s.aj.checked?!0:!1);this.b.Hj(this.s.qj.selectedIndex);var b=this.b.m,c=this.b.R;b&&!0===a.ma&&b.r(!0);c&&!0===a.Navigator&&pf(c);this.hb()};function ng(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var e=document.createElement("input");e.type="radio";e.name="ThemeId";e.value=c;e.setAttribute("id",b);d.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";Kd(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){e.checked=!0},!1);return e}function lg(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";a.appendChild(e);var f=document.createElement("input");f.type="checkbox";f.checked=c;f.setAttribute("id",b);e.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";Kd(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";e.appendChild(a);a.addEventListener("click",function(){f.checked=!f.checked},!1);return f}function mg(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="9pt";e.style.height="12px";e.style.lineHeight="12px";a.appendChild(e);a=document.createElement("div");Kd(a,d);a.style.paddingBottom="5px";e.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var f=c.length;a<f;a++){var g=document.createElement("option");g.value=c[a];Kd(g,c[a]);d.appendChild(g)}d.selectedIndex=b;e.appendChild(d);return d}function rg(a){var b=x.O.Bb.C;231===b?x.O.yb?a.s.Ub.ak.checked=!0:a.s.Ub.Rj.checked=!0:255===b?a.s.Ub.Si.checked=!0:30===b?a.s.Ub.bj.checked=!0:a.s.Ub.ak.checked=!0}function sg(){sg.t.constructor.call(this);this.m=null}Yc(sg,Vf);sg.prototype.p=function(a,b){sg.t.p.call(this,a,!0);Yf(this,b.S);this.b=b.Q;Xf(this,"Score estimate");var c=this.a.Ya,d=this.a.Wc,e=this.a.Ya.id;c.style.background="url('"+Ie+"')";var f=new ca;d.Za(2,f);var e=e+"B",c=Wf(c,e),g=H(e);g.j.n(0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.o=L|M|O|Q;d.l(g);this.jd=c;this.Eg=g;f.p(e,tg(this.b));f.sf=this;Qa(f,9);this.m=f};sg.prototype.r=function(a){sg.t.r.call(this,a);this.m&&this.m.r(a)};function Oa(a,b,c,d,e,f){Xf(a,window.i?window.i.$c.rq+" "+b+"("+d+") "+window.i.$c.sq+" "+c+"("+e+") "+(0<f?window.i.$c.rq+"+"+f:0>f?window.i.$c.sq+"+"+Math.abs(f):window.i.$c.hr.ar):"B "+b+"("+d+") W "+c+"("+e+") "+(0<f?"B+"+f:0>f?"W+"+Math.abs(f):"Even"))}sg.prototype.Ca=function(a){for(;this.jd.firstChild;)this.jd.removeChild(this.jd.firstChild);this.Eg&&this.Eg.Pa();var b=new ca;b.p(this.jd.id,tg(a.Q));var c=b;c.sf=this;Qa(c,9);this.m=b;sg.t.Ca.apply(this,arguments);this.r(!0)};function ug(){ug.t.constructor.call(this);this.mf=100}Yc(ug,Vf);m=ug.prototype;m.p=function(a,b){ug.t.p.call(this,a,!1);var c=window.i?window.i.u.window.Dh.caption:"Counter of colors",d=window.i?window.i.u.window.Dh.red:"Red",e=window.i?window.i.u.window.Dh.blue:"Blue",f=window.i?window.i.u.window.Dh.green:"Green",g=window.i?window.i.u.window.Dh.jr:"Gray";window.P&&(window.P.Ze("15px Tahoma, 'Sans serif'"),this.mf=Math.max(window.P.oa(d),window.P.oa(e),window.P.oa(f),window.P.oa(g))+12);this.b=b.Q;this.m=b.cj;Yf(this,b.S);Xf(this,c);var h=this.a.Ya,c=this.a.Wc,k=this.a.Ya.id;h.style.overflowX="hidden";h.style.overflowY="hidden";var l=10,n=b.cj.ob,p=[0,0,0,0],q=[0,0,0,0],r=[0,0,0,0],u=[0,0,0,0],t;for(t in n){var z=n[t],B=-1;0!==z.C&&0!==z.F&&0!==z.D?B=3:0!==z.C?B=0:0!==z.F?B=1:0!==z.D&&(B=2);var w=0,w=50>=z.Sa?0:100>=z.Sa?1:150>=z.Sa?2:3;switch(B){case 0:p[w]++;break;case 1:q[w]++;break;case 2:r[w]++;break;case 3:u[w]++}}this.Xo=this.ua(h,c,k,d,"4 x "+p[3]+"+ 3 x "+p[2]+" + 2 x "+p[1]+" + 1 x "+p[0]+" ="+(4*p[3]+3*p[2]+2*p[1]+p[0]),l,20);l+=25;this.Qo=this.ua(h,c,k,f,"4 x "+q[3]+"+ 3 x "+q[2]+" + 2 x "+q[1]+" + 1 x "+q[0]+" ="+(4*q[3]+3*q[2]+2*q[1]+q[0]),l,20);l+=25;this.Fo=this.ua(h,c,k,e,"4 x "+r[3]+"+ 3 x "+r[2]+" + 2 x "+r[1]+" + 1 x "+r[0]+" ="+(4*r[3]+3*r[2]+2*r[1]+r[0]),l,20);l+=25;this.Po=this.ua(h,c,k,g,"4 x "+u[3]+"+ 3 x "+u[2]+" + 2 x "+u[1]+" + 1 x "+u[0]+" ="+(4*u[3]+3*u[2]+2*u[1]+u[0]),l,20);l+=25;Wf(h,k+"Bottom");d=H(k+"Bottom");d.j.n(0,l,1E3,1E3,!0,!0,!1,!1,0,10);d.o=M|L|Q;c.l(d)};m.Aa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.Lg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};m.ua=function(a,b,c,d,e,f,g,h){var k=this.mf,l;l=30;c+=d;var n=this.Aa(a,c,g),p=H(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.o=M|L;b.l(p);Kd(n,d);d=c+"Value";a=this.Lg(a,d,h);h=H(d);h.j.n(10+k,f+1,l,1E3,!0,!0,!0,!1,-1,g-2);h.o=M|L|Q;b.l(h);a.value=e;return a};m.Ca=function(a){ug.t.Ca.call(this,a);this.b=a.Q;this.m=a.cj;this.Qa()};m.Qa=function(){if(this.ng&&this.m){var a=this.m.ob,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],e=[0,0,0,0],f;for(f in a){var g=a[f],h=-1;0!==g.C&&0!==g.F&&0!==g.D?h=3:0!==g.C?h=0:0!==g.F?h=1:0!==g.D&&(h=2);var k=0,k=50>=g.Sa?0:100>=g.Sa?1:150>=g.Sa?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:e[k]++}}this.Xo.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.Qo.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.Fo.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.Po.value="4 x "+e[3]+"+ 3 x "+e[2]+" + 2 x "+e[1]+" + 1 x "+e[0]+" ="+(4*e[3]+3*e[2]+2*e[1]+e[0])}};m.Tc=function(){return{M:410,I:160}};function vg(){vg.t.constructor.call(this);this.b=this.f=this.oo=this.no=null}Yc(vg,Vf);vg.prototype.p=function(a,b){vg.t.p.call(this,a,!1);Yf(this,b.S);Xf(this,window.i?window.i.u.window.Lq.caption:"Creating Gif file...");b.Q&&(this.b=b.Q);var c=this.a.Ya,d=this.a.Wc,e=this.a.Ya.id,f=e+"PB",g=Wf(c,f),f=H(f);f.j.n(6,30,8,8,!0,!0,!0,!0,-1,-1);f.o=L|M|O|Q;d.l(f);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";f=e+"P";g=Wf(c,f);f=H(f);f.j.n(7,31,0,7,!0,!0,!1,!0,10,-1);f.o=L|M|O;d.l(f);g.style.backgroundColor="rgb(54, 101, 179)";this.no=g;e=e+"PV";c=Wf(c,e);e=H(e);e.j.n(0,7,1E3,32,!1,!1,!1,!0,-1,-1);e.o=L|M|O;d.l(e);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.oo=c};vg.prototype.Tc=function(){return{M:240,I:100}};function wg(a,b){a.no.style.width=b/100*214+"px";Kd(a.oo,(100*b|0)/100+"%")}function xg(a){wg(a,0);a.f&&ve(a.f)}function yg(a){wg(a,100);setTimeout(function(){a.hb(!0)},300)}vg.prototype.hb=function(a){!0!==a&&this.b&&(this.b.kf=null);this.f&&xe(this.f);vg.t.hb.apply(this)};function zg(){zg.t.constructor.call(this);this.m=null}Yc(zg,Vf);zg.prototype.p=function(a,b){vg.t.p.call(this,a,!0);Yf(this,b.S);Xf(this,"About");this.b=b.Q;var c=new Rf;c.p(this.a.Ya.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=c.Ec[0],e=document.createElement("div");d.appendChild(e);d.style.overflowX="hidden";d.style.overflowY="scroll";e.style.margin="0";e.style.padding="10px 20px";e.style.fontFamily="Tahoma, Arial, Verdana";e.style.fontSize="12px";e.style.color="#666";e.style.background="#fff";d=document.createElement("img");d.src=Ag;d.width=100;d.height=100;d.style["float"]="left";e.appendChild(d);d=document.createElement("div");d.style.width="10px";d.style.height="100px";d.style["float"]="left";e.appendChild(d);d=document.createElement("h1");e.appendChild(d);Kd(d,"Web Go/Baduk Board");d=document.createElement("div");e.appendChild(d);Kd(d,"Version "+GoBoardApi.gh());d=document.createElement("div");d.style.paddingTop="40px";e.appendChild(d);Kd(d,"Visit our Github project for feedback and issue reports:");d=document.createElement("a");d.target="_blank";d.href="https://github.com/IlyaKirillov/GoProject";e.appendChild(d);Kd(d,"https://github.com/IlyaKirillov/GoProject");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Kd(d,"Our site:");d=document.createElement("a");d.target="_blank";d.href="http://webgoboard.com/";e.appendChild(d);Kd(d,"http://webgoboard.com/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Kd(d,"Discussions:");d=document.createElement("a");d.target="_blank";d.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";e.appendChild(d);Kd(d,"http://www.lifein19x19.com/");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="http://kido.com.ru/253-web-go-doska";e.appendChild(d);Kd(d,"http://kido.com.ru/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Kd(d,"Browsers extension:");d=document.createElement("a");d.target="_blank";d.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";e.appendChild(d);Kd(d,"Chrome and OperaNext");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";e.appendChild(d);Kd(d,"FireFox");d=document.createElement("div");d.style.paddingTop="30px";e.appendChild(d);Kd(d,"\u00a9 Ilya Kirillov, 2014-2016. All rights reserved.");e=c.Ec[1];e.style.overflowX="hidden";e.style.overflowY="scroll";c=document.createElement("div");e.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";e=document.createElement("h1");c.appendChild(e);Kd(e,"Keyboard Shortcuts");e.style.fontSize="16px";e.style.fontWeight="bold";e=document.createElement("table");c.appendChild(e);e.style.margin="20px 0";e.style.width="100%";c=document.createElement("tbody");e.appendChild(c);this.m=null;b.Q&&(this.m=b.Q.m);Bg(c,"Working with Files");Cg(this,c,{A:!0,K:79,B:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");Cg(this,c,{A:!0,K:79,B:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");Cg(this,c,{A:!0,K:67,B:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");Cg(this,c,{A:!0,K:83,B:!1},"Save Sgf","Ctrl+S","Save Sgf file.");Cg(this,c,{A:!0,K:72,B:!1},"Save png shot","Ctrl+H","Save board shot in png format.");Cg(this,c,{A:!0,K:72,B:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");Cg(this,c,{A:!0,K:73,B:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");Cg(this,c,{A:!0,K:73,B:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");Bg(c,"Navigation");Cg(this,c,{A:!1,K:39,B:!1},"Next node","Right arrow","Jump to next node.");Cg(this,c,{A:!0,K:39,B:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");Cg(this,c,{A:!0,K:39,B:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");Cg(this,c,{A:!1,K:37,B:!1},"Previous node","Left arrow","Jump to previous node.");Cg(this,c,{A:!0,K:37,B:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");Cg(this,c,{A:!0,K:37,B:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");Cg(this,c,{A:!1,K:38,B:!1},"Previous variant","Up arrow","Jump to previous variant.");Cg(this,c,{A:!1,K:40,B:!1},"Next variant","Down arrow","Jump to next variant.");Cg(this,c,{A:!0,K:36,B:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');Dg(this,c,{A:!1,K:112,B:!1},"Play mode","F1");Cg(this,c,{},"Add move","Left mouse click","Set sequentially stones.");Cg(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");Cg(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");Cg(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");Cg(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");Dg(this,c,{A:!1,K:113,B:!1},"Count scores","F2");Cg(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");Cg(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");Dg(this,c,{A:!1,K:114,B:!1},"Set up a board position","F3");Cg(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");Cg(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");Eg(this,c,{A:!1,K:115,B:!1},"Triangles","F4","Add triangles.");Eg(this,c,{A:!1,K:116,B:!1},"Squares","F5","Add squares.");Eg(this,c,{A:!1,K:117,B:!1},"Circles","F6","Add circles.");Eg(this,c,{A:!1,K:118,B:!1},"X mark","F7",'Add "X" mark.');Dg(this,c,{A:!1,K:119,B:!1},"Text label","F8");Cg(this,c,{},"Letter","Left mouse click","Add letter.");Cg(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");Dg(this,c,{A:!1,K:120,B:!1},"Numeric label","F9");Cg(this,c,{},"Number","Left mouse click","Add the smallest positive number.");Cg(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");Dg(this,c,{A:!1,K:121,B:!1},"Color mode","F10");Cg(this,c,{},"Blue region","Left mouse click","Add blue region.");Cg(this,c,{},"Green region","Shift+Left mouse click","Add green region.");Cg(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");Cg(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");Cg(this,c,{},"Clear region","Right mouse click","Clear region.");Cg(this,c,{A:!0,K:67,B:!1},"Continue","Ctrl+C","Copy all colors from previous node.");Cg(this,c,{A:!0,K:79,B:!1},"Count colors","Ctrl+O","Count all colors with depth.");Cg(this,c,{A:!0,K:82,B:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");Bg(c,"Miscellaneous");Cg(this,c,{A:!1,K:8,B:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");Cg(this,c,{A:!0,K:69,B:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");Cg(this,c,{A:!0,K:86,B:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");Cg(this,c,{A:!0,K:82,B:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");Cg(this,c,{A:!0,K:77,B:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");Cg(this,c,{A:!0,K:85,B:!0},"Lift up the current variant","Ctrl+Shift+U","Lift up the current variant.");Cg(this,c,{A:!0,K:68,B:!0},"Lower down the current variant","Ctrl+Shift+D","Lower down the current variant.");Cg(this,c,{A:!0,K:86,B:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");Cg(this,c,{A:!0,K:68,B:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};zg.prototype.Tc=function(){if(this.f){var a=this.f.Sb(),b=this.f.Ka(),a=Math.max(100,Math.min(700,.9*a)),b=Math.max(100,Math.min(600,.9*b));return{M:a,I:b}}return null};function Fg(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function Gg(a,b){var c=document.createElement("td");a.appendChild(c);Kd(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function Hg(a,b,c){var d=a.m;d&&c.K&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){ua(d,c)},!1))}function Bg(a,b){var c=Fg(a),c=Gg(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function Dg(a,b,c,d,e){b=Fg(b);Gg(b,d).style.fontWeight="bold";d=Gg(b,e);Hg(a,d,c);d.colSpan="2"}function Eg(a,b,c,d,e,f){b=Fg(b);Gg(b,d).style.fontWeight="bold";d=Gg(b,e);Hg(a,d,c);Gg(b,f)}function Cg(a,b,c,d,e,f){b=Fg(b);Gg(b,d).style.width="35%";d=Gg(b,e);d.style.width="15%";Hg(a,d,c);Gg(b,f).style.width="50%"}function Ig(){Ig.t.constructor.call(this);this.cc=null}Yc(Ig,Vf);Ig.prototype.p=function(a,b){Ig.t.p.call(this,a,!0);Xf(this,window.i?window.i.u.window.Aq.caption:"ASCII diagram");var c=this.a.Ya,d=this.a.Wc,e=this.a.Ya.id;this.b=b.Q;this.Kg(c,d,e);this.Qg(b.Q);this.cc.select()};Ig.prototype.Ca=function(a){Ig.t.Ca.call(this,a);this.Qg(a.Q);this.cc.select()};Ig.prototype.Kg=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.cc=d;a.appendChild(d);a=H(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.o=M|L|Q|O;b.l(a);return d};Ig.prototype.Qg=function(a){this.cc.value="";if(void 0!==a){var b=a.m;a=a.pa;if(b&&a){for(var c="",d=b.q,e=d.aa,f=d.ba,g=d.fa,d=d.ga,h=0==e?!0:!1,k=a.na().h-1==g?!0:!1,l=0==f?!0:!1,n=a.na().g-1==d?!0:!1,p=[],q=f;q<d;q++)for(var r=e;r<g;r++){var u=La(b,r+1,q+1),t=null!=u?u.T:Ha,u=null!=u?u.Oc:"";t==xb&&$a(u)&&(t=parseInt(u),u={Number:t,kc:a.N(r+1,q+1)},S!=u.kc&&p.push(u))}var q=!0,t=b.Vb,z=-1;if(0<p.length){for(var r=-1,B=S,w=-1,C=0,v=p.length;C<v;C++){u=p[C];if(-1==r||u.Number<r)r=u.Number,B=u.kc;if(-1==w||u.Number>w)w=u.Number}if(10>w-r){w=!0;C=0;for(v=p.length;C<v;C++){var u=p[C],G=(u.Number-r)%2;if(0==G&&B!=u.kc||1==G&&B==u.kc){w=!1;break}}!0===w&&(z=r,q=I===B?!0:!1)}}p=h?"$$  --":"$$ -";for(r=e+1;r<=g;r++)p+="--";p+=k?"- \n":"\n";h=h?"$$ |":"$$";k=k?" |\n":"\n";c=q?c+"$$B":c+"$$W";t&&(c+="c");-1!=z&&(c+="m"+z);c+="\n";l&&(c+=p);for(q=f;q<=d;q++){c+=h;for(r=e;r<=g;r++)if(u=La(b,r+1,q+1),t=null!=u?u.T:Ha,u=null!=u?u.Oc:"",f=a.N(r+1,q+1),S==f)if(Fb===t)c=c+" T";else if(Db===t)c=c+" C";else if(Eb===t)c=c+" S";else if(Gb===t)c=c+" M";else if(xb===t&&1===u.length&&97<=u.charCodeAt(0)&&122>=u.charCodeAt(0))c=c+String.fromCharCode(32,u.charCodeAt(0));else if(xb===t&&1===u.length&&65<=u.charCodeAt(0)&&90>=u.charCodeAt(0))c=c+String.fromCharCode(32,u.charCodeAt(0)+32);else{a:{f=r+1;l=q+1;if(a.v===a.J)for(t=Xa(a),u=0,B=t.length;u<B;u++)if(f-1===t[u][0]&&l-1===t[u][1]){f=!0;break a}f=!1}c=f?c+" ,":c+" ."}else-1!==z&&t==xb&&$a(u)?(t=parseInt(u)-z+1,c=10==t?c+" 0":c+(" "+t)):I==f?c=Fb===t?c+" Y":Db===t?c+" B":Eb===t?c+" #":Gb===t?c+" Z":c+" X":J==f&&(c=Fb===t?c+" Q":Db===t?c+" W":Eb===t?c+" @":Gb===t?c+" P":c+" O");c+=k}n&&(c+=p);this.cc.value=c}}};function Jg(){Jg.t.constructor.call(this);this.Qk=null}Yc(Jg,Zf);Jg.prototype.p=function(a,b){Jg.t.p.call(this,a,!0);Yf(this,b.S);this.b=b.Q;this.f=b.S;Xf(this,window.i?window.i.u.window.on.caption:"Crop the board...");var c=this.a.tb,d=this.a.Nf,e=this.a.tb.id;c.style.background="url('"+Ie+"')";var f=new ca;d.Za(2,f);var g=e+"B",c=Wf(c,g),h=H(g);h.j.n(0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);h.o=L|M|O|Q;d.l(h);this.jd=c;this.Eg=h;f.p(g,tg(this.b));Qa(f,11);this.m=f;g=this.a.lm;d=window.i?window.i.u.window.on.Gq:"Reset";f=100;window.P&&(window.P.Ze("16px 'Segoe UI', Helvetica, Tahoma, Geneva, Verdana, sans-serif"),f=window.P.oa(d)+10);e=e+"R";g=Wf(g,e);g=fe(g);g.j.n(0,9,159,1E3,!1,!0,!0,!1,f+10,21);g.o=L|Q;this.a.Wc.l(g);var k=this,d=new Xd(d,function(){var a=k.b.m;a&&(Ea(a),k.f.r(!0),k.hb())},"");d.p(e,this);this.Qk=d;Kg(this)};Jg.prototype.r=function(a){Jg.t.r.call(this,a);this.m&&this.m.r(a);this.Qk&&this.Qk.r(a)};Jg.prototype.Ca=function(a){for(;this.jd.firstChild;)this.jd.removeChild(this.jd.firstChild);this.Eg&&this.Eg.Pa();var b=new ca;b.p(this.jd.id,tg(a.Q));Qa(b,11);this.m=b;Jg.t.Ca.apply(this,arguments);this.r(!0);Kg(this)};Jg.prototype.Ue=function(){if(this.b){var a=this.b.m;if(a){var b=this.m,c=Math.min(b.ia.ie,b.ia.Rc),d=Math.max(b.ia.ie,b.ia.Rc),e=Math.min(b.ia.je,b.ia.Sc),b=Math.max(b.ia.je,b.ia.Sc);if(d===c&&b===e)Ea(a);else{if(3>d-c||3>b-e){a=this.b;(c=this.f)&&dc(c.Y.id,ec,{Q:a,S:c,vc:window.i?window.i.u.window.on.$q:"Sorry, the cropped part can't be so small.",M:270,I:80});return}Da(a,c-1,e-1,d-1,b-1)}this.f.r(!0)}}this.hb()};function Kg(a){var b=a.b.m;if(b&&a.m){var b=b.q,c=a.b.pa.na();if(0!==b.aa||0!==b.ba||c.h-1!==b.fa||c.g-1!==b.ga){a=a.m;var c=b.ba,d=b.fa,e=b.ga;a.ia.ie=b.aa+1;a.ia.je=c+1;a.ia.Rc=d+1;a.ia.Sc=e+1;ma(a)}else b=a.m,b.ia.ie=0,b.ia.je=0,b.ia.Rc=0,b.ia.Sc=0,ma(b)}}function Lg(){Lg.t.constructor.call(this)}Yc(Lg,Zf);m=Lg.prototype;m.p=function(a,b){Jg.t.p.call(this,a,!1);Yf(this,b.S);this.b=b.Q;this.f=b.S;Xf(this,"Create new");var c=this.a.tb,d=this.a.Nf,e=this.a.tb.id,f=5;this.Eo=this.ua(c,d,e,"Black","Black",f,20);f+=50;this.fp=this.ua(c,d,e,"White","White",f,20);f+=50;this.Go=this.ua(c,d,e,"Board size","19",f,20);f+=50;this.ih=this.ua(c,d,e,"Handicap","0",f,20);this.jh=this.ua(c,d,e,"Komi","6.5",f+50,20)};m.Aa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};m.Lg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};m.ua=function(a,b,c,d,e,f,g){c+=d;var h=this.Aa(a,c,g),k=H(c);k.j.n(20,f,10,1E3,!0,!0,!1,!1,-1,g);k.o=M|L|Q;b.l(k);Kd(h,d);f+=g;d=c+"Value";a=this.Lg(a,d);d=H(d);d.j.n(10,f+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.o=M|L|Q;b.l(d);a.value=e;return a};m.Tc=function(){return{M:195,I:340}};m.Ue=function(){var a=this.Go.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)dc(this.f.Y.id,ec,{Q:this.b,S:this.f,vc:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",M:300,I:115});else{var e=parseInt(this.ih.value);if(isNaN(e)||0>e||9<e)dc(this.f.Y.id,ec,{Q:this.b,S:this.f,vc:"Handicap value must be an integer number from 0 to 9.",M:300,I:95});else if(0!=e&&(6>=c||6>=b||b!==c))dc(this.f.Y.id,ec,{Q:this.b,S:this.f,vc:"Handicap value must be 0 for this board size.",M:300,I:95});else if(5<e&&(10>=b||10>=c))dc(this.f.Y.id,ec,{Q:this.b,S:this.f,vc:"Handicap value must be an integer number from 0 to 5 for this board size.",M:300,I:95});else if(a=parseFloat(this.jh.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))dc(this.f.Y.id,ec,{Q:this.b,S:this.f,vc:"Invalid komi value.",M:175,I:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.Eo.value+"]";a+="PW["+this.fp.value+"]";a+="HA["+e+"]";d=[];if(b===c){var f=b,b=10>f?2:3,c=((f+1)/2|0)-1,f=10>f?f-3:f-4;switch(e){case 2:d.push([f,b]);d.push([b,f]);break;case 3:d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 4:d.push([b,b]);d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 5:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);break;case 7:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,b]);d.push([c,f]);break;case 9:d.push([b,b]),d.push([b,f]),d.push([f,b]),d.push([f,f]),d.push([b,c]),d.push([f,c]),d.push([c,b]),d.push([c,f]),d.push([c,c])}}if(0<d.length)for(a+="AB",e=0,b=d.length;e<b;e++)c=d[e][0],f=d[e][1],c+=25>=c?97:39,f+=25>=f?97:39,a+=String.fromCharCode(91,c,f,93);a+=")";this.b.Xc(a,null,null,"sgf")}this.hb()}}};function Mg(){Mg.t.constructor.call(this);this.cc=null}Yc(Mg,Zf);m=Mg.prototype;m.p=function(a,b){Mg.t.p.call(this,a,!0);Yf(this,b.S);Xf(this,"Load file from clipboard");var c=this.a.tb,d=this.a.Nf,e=this.a.tb.id;this.b=b.Q;this.Kg(c,d,e);this.Qg(b.Q);this.cc.select()};m.Ca=function(a){Mg.t.Ca.call(this,a);this.Qg();this.cc.select()};m.Kg=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.cc=d;a.appendChild(d);a=H(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.o=M|L|Q|O;b.l(a);return d};m.Qg=function(){this.cc.value="";window.clipboardData&&(this.cc.value=window.clipboardData.getData("Text"))};m.Ue=function(){var a=this.cc.value;a&&""!==a&&this.b.Xc(a,null,null,null);this.hb()};m.Tc=function(){return{M:300,I:200}};function Ng(){Ng.t.constructor.call(this);this.Rn=this.On=this.Pn=-1;this.Gk=72}Yc(Ng,Vf);m=Ng.prototype;m.p=function(a,b){Ng.t.p.call(this,a,b);Yf(this,b.S);Xf(this,window.i?window.i.u.window.pn.caption:"Kifu");this.a.td=this.Wa(this.a.Ya,this.a.Wc,a);this.b=b.Q;(this.f=b.S)&&this.f.tm&&this.f.tm(this)};m.Tc=function(){return{M:650,I:730}};m.Wa=function(a,b,c){var d=document.createElement("canvas");c=c+"C";d.setAttribute("style","position:absolute;padding:0;margin:0;");d.id=c;a.appendChild(d);a=H(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.o=M|L|Q|O;b.l(a);return d};function Og(a,b,c,d,e){b.clearRect(0,0,c,d);b.strokeStyle="rgba(0, 0, 0, 1)";b.fillStyle="rgba(0, 0, 0, 1)";var f=Pg(b,0,c,e,!1),g=Math.max(50,Math.min(c,d-30-f)),h=e.na(),k=(h.h-1)*Ta+2*Ua,l=g/k*Ua|0,k=g/k*Ta|0,g=l+((c-g)/2|0),l=l+30;b.lineWidth=2;b.beginPath();b.moveTo(g,l);b.lineTo(g+(h.h-1)*k,l);b.lineTo(g+(h.h-1)*k,l+(h.g-1)*k);b.lineTo(g,l+(h.g-1)*k);b.closePath();b.stroke();b.lineWidth=1;b.beginPath();for(var n=0;n<h.h;++n)b.moveTo(g+n*k+.5,l+.5),b.lineTo(g+n*k+.5,l+(h.g-1)*k+.5);for(var p=0;p<h.g;++p)b.moveTo(g+.5,l+p*k+.5),b.lineTo(g+(h.h-1)*k+.5,l+p*k+.5);b.stroke();b.beginPath();for(var n=Xa(e),p=0,q=n.length;p<q;++p)b.rect(n[p][0]*k+g-3,n[p][1]*k+l-3,7,7);b.fill();for(var q=k/2|0,r=-1,u=-1,p=0;p<h.g;++p)for(n=0;n<h.h;++n){var t=e.N(n+1,p+1),z=e.Yd(n+1,p+1),B=n*k+g,w=p*k+l;Qg(b,t,B,w,q);if(-1!==z){Rg(b,t,B,w,q,z);if(-1===r||r>z)r=z;if(-1===u||u<z)u=z}}a.Rn=u;h="("+r+" ~ "+u+")";b.fillStyle="rgb(0,0,0)";b.font="16px Arial";b.fillText(h,(c-b.measureText(h).width)/2,20);Pg(b,d-f,c,e,!0);ef(a,b)}m.Ca=function(a){Ng.t.Ca.call(this,a);a=this.a.Ya.clientWidth;var b=this.a.Ya.clientHeight;Og(this,this.a.td.getContext("2d"),a,b,Sg(this.b))};m.r=function(a){Ng.t.r.call(this,a);var b=this.a.Ya.clientWidth,c=this.a.Ya.clientHeight;if(!0===a||.001<Math.abs(b-this.Pn)||.001<Math.abs(c-this.On))this.Pn=b,this.On=c,Og(this,this.a.td.getContext("2d"),b,c,Sg(this.b))};function Qg(a,b,c,d,e){I===b?(a.fillStyle="rgb(0, 0, 0)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill()):J===b&&(a.fillStyle="rgb(255, 255, 255)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill(),a.stroke())}function Rg(a,b,c,d,e,f){if(-1!==f){f=""+f;var g=e+"px "+($a(f)?"Arial":"Helvetica, Arial, Verdana");a.fillStyle=b===J?"rgb(0,0,0)":"rgb(255,255,255)";a.font=g;b=e/3+.15*e;e=2<f.length?(2*e-a.measureText(f).width)/2-e:(2*e-1.4*a.measureText(f).width)/2-e;2<f.length?a.setTransform(1,0,0,1.4,c+e,d+b):a.setTransform(1.4,0,0,1.4,c+e,d+b);a.fillText(f,0,0);a.setTransform(1,0,0,1,0,0)}}function Pg(a,b,c,d,e){function f(){k+30<g||!0===l?l=!1:(k=15,l=!1,h+=35)}var g=c-15,h=5+b,k=15;if(d.Fc){var h=h+15,l=!0;b=0;for(c=d.Fc.length;b<c;++b){var n=d.Fc[b];if(!(0>=n.Ch.length)){for(var p=0,q=n.Ch.length;p<q;++p){var r=n.Ch[p];f();!0===e&&(Qg(a,r.Ff,k+15,h,15),Rg(a,r.Ff,k+15,h,15,r.si));k+=30}f();!0===e&&Tg(a,k+15,h);k+=30;f();!0===e&&(Qg(a,n.Ff,k+15,h,15),Rg(a,n.Ff,k+15,h,15,n.si));k+=45}}h+=15}return h+=5}function Tg(a,b,c){b=b-15|0;a.fillStyle="rgb(0,0,0)";a.beginPath();a.arc(b+6,c,2,0,2*Math.PI);a.arc(b+6+9,c,2,0,2*Math.PI);a.arc(b+6+18,c,2,0,2*Math.PI);a.fill()}function ef(a,b){if(a.b){var c=a.b.ze+1,d=a.b.lb;b.clearRect(0,0,a.Gk,30);if(0<c&&c<=a.Rn){var e=window.i?window.i.u.window.pn.next:"Next";b.fillStyle="rgb(0,0,0)";b.font="16px Arial";b.fillText(e,20,20);var f=20;window.P?(window.P.Ze("16px Arial"),f+=window.P.oa(e)+5):f+=50;Qg(b,d,f+12,16,12);Rg(b,d,f+12,16,12,c);a.Gk=f+24+2}else 0<c&&(e=window.i?window.i.u.window.pn.end:"End",b.fillStyle="rgb(0,0,0)",b.font="16px Arial",b.fillText(e,20,20),a.Gk=100)}}var ec=2,rd=3,wd=4,yc=5,Fc=6,Ug=7,zd=8,wc=9,Lc=10,vc=11,Hc=12,Ec=13,we={};function dc(a,b,c){we[a]||(we[a]={});var d=we[a];if(d[b]){var e=d[b];e.Ca(c);return e}e="unknownwindow";switch(b){case rd:e="Info";break;case wd:e="Settings";break;case ec:e="Error";break;case yc:e="ScoreEstimate";break;case Fc:e="CountColors";break;case Ug:e="GifWriter";break;case zd:e="About";break;case wc:e="DiagramSL";break;case Lc:e="ViewPort";break;case vc:e="CreateNew";break;case Hc:e="Clipboard";break;case Ec:e="Kifu"}a=a+e+GoBoardApi.gh();e=document.createElement("div");e.setAttribute("id",a);e.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");e.setAttribute("oncontextmenu","return false;");if(c.S){c.S.Y.appendChild(e);e=null;switch(b){case rd:e=new $f;break;case wd:e=new jg;break;case ec:e=new ig;break;case yc:e=new sg;break;case Fc:e=new ug;break;case Ug:e=new vg;break;case zd:e=new zg;break;case wc:e=new Ig;break;case Lc:e=new Jg;break;case vc:e=new Lg;break;case Hc:e=new Mg;break;case Ec:e=new Ng}d[b]=e;null!==e&&(e.p(a,c),e.r(!0));return e}return null};function Z(){}m=Z.prototype;m.Gl=function(){return new Vg};m.dh=function(a,b){(new oe(a)).dh(b)};m.eh=function(a,b,c){a=new oe(a);if(!0===c){a.Ld=2;ze(a,b);a.Y.style.background="";a.Lc=295;b=a.b;c=a.Ce;var d=a.Y.id;a.Mk=25;a.Nk=36;var e=d+"I";a.L(c.a,e);var f=H(e);f.j.n(0,0,1E3,0,!1,!1,!1,!1,-1,25);f.o=L|M|Q;c.l(f);e+="S";a.L(f.a,e);var g=H(e);g.j.n(159,0,1E3,1E3,!0,!1,!1,!1,122,-1);g.o=L|M|O;f.l(g);a.rc=new $d(a);a.rc.p(e,b);a.rc.a.d.a.style.backgroundColor="";a.V.push(a.rc);f=d+"T";a.L(c.a,f);e=H(f);e.j.n(109,0,1E3,0,!0,!1,!1,!0,221,36);e.o=O|M;c.l(e);e=new Fd(a);U(e,new Xc(a),36,W);U(e,new $c(a),36,W);U(e,new ad(a),36,W);U(e,new bd(a),36,W);U(e,new cd(a),36,W);U(e,new dd(a),36,W);e.p(f,b);e.a.d.a.style.backgroundColor="";a.V.push(e);e=d+"B";f=a.L(c.a,e);d=H(e);d.j.n(0,25,1E3,36,!1,!0,!1,!0,-1,-1);d.o=M|Q|L|O;c.l(d);c=e+"B";a.L(f,c);g=H(c);d.l(g);e+="N";a.L(f,e);f=H(e);d.l(f);f=new ca(a);f.p(c,a.b);f.Ia();a.V.push(f);d.Za(3,f,{Db:0});a.r();Be(b)}else a.eh(b)};m.Fl=function(a,b){var c=new oe(a);c.Oh=!1;ze(c,b);Ge(c);c.Ld=3};m.El=function(a,b){var c=new oe(a);c.Oh=!1;ze(c,b);Ce(c);c.Ld=4};m.$i=function(a,b){(new oe(a)).$i(b)};m.Ho=function(a,b){var c=new oe(a);c.Oh=!0;c.Nd=400;c.ye=200;ze(c,b);c.Vg(!0)};m.Lo=function(a,b,c){(new wf(a)).p(b,c)};m.bh=function(a,b,c){(new oe(a)).bh(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?Wg(a,!1,I,b):c.TutorColor&&"White"===c.TutorColor?Wg(a,!1,J,b):Wg(a,!0,S,b);a.G=0;void 0!==c.NewNode&&(Vd(a,{oh:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.Zk=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.Wk=void 0!==c.RightCallback?c.RightCallback:null;a.Xk=b;a.Vk=d};m.dj=function(a){return a.dj()};m.bg=function(a){a.bg(!0)};m.af=function(a){a.af()};m.Am=function(a,b){var c={};c.oh=b.NewNode;c.um=b.RemoveNodes;c.Vf=b.Move;c.Ui=b.ChangeBoardMode;c.pj=b.LoadFile;c.xd=b.GameInfo;c.gn=b.ViewPort;Vd(a,c)};m.Xc=function(a,b,c,d,e){var f={};c&&!0===c.Auto?f.ql=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(f.ql=!1,f.aa=c.X0,f.fa=c.X1,f.ba=c.Y0,f.ga=c.Y1):f=null;c=a.G;a.G=4294967295;a.Xc(b,f,d,e);a.G=c};m.Wf=function(a){return a.Wf()};m.Oo=function(a,b,c){var d=1===c?a.gi:a.k;a=a.k;Cc(d);a:{var e=d,f=e;c=new Xg;Yg(c,"GBMR");if(!1!==b){for(;!e.Nh;){b=e.qa;if(null===b){c="";break a}e=b}Zg(c,1);b=e.jj();$g(c,b.length);Yg(c,b);if(e!==f){ah(c,1);b=[];for(d=f;d!==e;)b.splice(0,0,d),d=d.qa;$g(c,b.length);e=0;for(d=b.length;e<d;e++){var g=b[e];Zg(c,1);f=c.e;c.e+=4;for(var h=0,k=0,l=g.Ma.length;k<l;k++){var n=g.Ma[k],p=n.T,q=n.Ea(),n=n.bb;switch(p){case 1:Zg(c,16);$g(c,4);$g(c,q);h++;break;case 2:Zg(c,17);$g(c,4);$g(c,q);h++;break;case 257:case 258:case 259:switch(p){case 257:Zg(c,32);break;case 258:Zg(c,33);break;case 259:Zg(c,34)}$g(c,4*(n+1));$g(c,n);for(p=0;p<n;p++)$g(c,q[p]);h++}}g=c.e;c.e=f;$g(c,h);c.e=g;Zg(c,0)}}else ah(c,0)}else{Zg(c,2);b=c.e;c.e+=4;e=d.Cb();for(d=0;e!==f&&0<rc(e);)d++,$g(c,e.ra),e=e.U();g=c.e;c.e=b;$g(c,d);c.e=g}c=bh(c);c=ch(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");c=c.replace(RegExp("=","g"),"_")}a.kh();return c};m.ap=function(a,b){if(a&&b){var c=a.k;dh(a,b);a.gi=a.k;a.ea(c,!0)}};m.kj=function(a){return a.kj()};m.r=function(a){a.r()};m.Se=function(a){return a?a.Se():"White vs. Black"};m.$f=function(a,b){a.$f(b)};m.Ia=function(a){a&&a.Ia()};m.gh=function(){return"0.10.11"};m.zh=function(a){a&&a.zh()};m.$o=function(a,b){a&&b&&(a.W=b)};m.ea=function(a,b){if(a){var c=eh(a.Cb(),b);null!==c&&a.ea(c)}};m.Qf=function(a,b){a&&a.Qf(b)};m.Yc=function(a,b){a&&a.Yc(b,!0)};m.zm=function(a,b){if(a){var c=null;"TrueColor"===b?c=1:"BookStyle"===b?c=2:"Simple"===b?c=3:"Dark"===b&&(c=4);c&&(c=a.ya.uh(c),!0===c.ma&&a.m&&a.m.r(!0),a.R&&!0===c.Navigator&&pf(a.R))}};m.Re=function(a,b){if(a)return a.Re(b)};m.Lj=function(a,b){b&&a&&a.Lj(b)};m.Bj=function(a,b){a&&a.Bj(b)};m.Dj=function(a,b){a&&a.Dj(b)};m.Mo=function(a,b){function c(a){a=decodeURIComponent(a);var b=new XMLHttpRequest;b.open("GET",a+"?_="+(new Date).getTime(),!0);b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(g=b.responseText,d())};b.send(null)}function d(){var c=document.getElementById(a);if(c){var d={LoadFile:!1,GameInfo:!1,ChangeBoardMode:!1,NewNode:!1,Move:!1,ViewPort:!1};n.zm(q,l);var t=400;"image"===h?(n.dh(q,a),n.Yc(q,!1),t=600):"viewer"==h?(n.eh(q,a,p),d.Move=!0,t=600):"vereditor"===h?(n.Fl(q,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,t=600):"horeditor"===h?(n.El(q,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,t=900):"problems"==h&&(d={},b.problemsTime&&(d.TutorTime=b.problemsTime),b.problemsColor&&(d.TutorColor=b.problemsColor),b.problemsNewNode&&(d.NewNode=b.problemsNewNode),n.bh(q,a,d),d=null,t=400,null===f&&(f={Auto:!0}));n.Xc(q,g,f);null!==k&&(t=k);var z=n.Re(q,t);c.style.width=t+"px";c.style.height=z+"px";-1!==e?n.Qf(q,e):n.Qf(q,0);n.r(q);d&&n.Am(q,d)}}var e=-1,f=null,g=null,h=null,k=null,l="TrueColor",n=this,p=!1,q=this.Gl();q.ya.Lh=!0;b.viewPort&&(f={},"auto"===b.viewPort?f.Auto=!0:(f.Auto=!1,f.X0=parseInt(b.viewPort.X0),f.X1=parseInt(b.viewPort.X1),f.Y0=parseInt(b.viewPort.Y0),f.Y1=parseInt(b.viewPort.Y1)));b.moveNumber&&(e=parseInt(b.moveNumber));b.boardMode?h=b.boardMode:h="viewer";b.width&&(k=b.width);b.boardTheme&&(l=b.boardTheme);!0===b.booklet&&(p=!0);null!=b.sgfUrl?c(b.sgfUrl):(null!==b.sgfData?g=b.sgfData:g="(;FF[4]GM[1]SZ[19])",d());return q};window.GoBoardApi=new Z;Z.prototype.Embed=Z.prototype.Mo;Z.prototype.Create_GameTree=Z.prototype.Gl;Z.prototype.Create_SimpleBoard=Z.prototype.dh;Z.prototype.Create_Viewer=Z.prototype.eh;Z.prototype.Create_EditorHor=Z.prototype.El;Z.prototype.Create_EditorVer=Z.prototype.Fl;Z.prototype.Create_BoardWithNavigateButtons=Z.prototype.$i;Z.prototype.Create_BoardCommentsButtonsNavigator=Z.prototype.Ho;Z.prototype.Create_Presentation=Z.prototype.Lo;Z.prototype.Create_Problems=Z.prototype.bh;Z.prototype.Set_Permissions=Z.prototype.Am;Z.prototype.Load_Sgf=Z.prototype.Xc;Z.prototype.Save_Sgf=Z.prototype.Wf;Z.prototype.Get_MoveReference=Z.prototype.Oo;Z.prototype.Set_StartNodeByReference=Z.prototype.ap;Z.prototype.Is_Modified=Z.prototype.kj;Z.prototype.Update_Size=Z.prototype.r;Z.prototype.Set_Sound=Z.prototype.$f;Z.prototype.Find_ProblemRightVariant=Z.prototype.dj;Z.prototype.Start_AutoPlay=Z.prototype.bg;Z.prototype.Stop_AutoPlay=Z.prototype.af;Z.prototype.Focus=Z.prototype.Ia;Z.prototype.Get_MatchName=Z.prototype.Se;Z.prototype.Get_Version=Z.prototype.gh;Z.prototype.Toggle_Rulers=Z.prototype.zh;Z.prototype.Set_GameTreeHandler=Z.prototype.$o;Z.prototype.GoTo_Node=Z.prototype.ea;Z.prototype.GoTo_NodeByMoveNumber=Z.prototype.Qf;Z.prototype.Set_ShowTarget=Z.prototype.Yc;Z.prototype.Get_DivHeightByWidth=Z.prototype.Re;Z.prototype.Set_BoardTheme=Z.prototype.zm;Z.prototype.Set_OnGameTreeModifiedCallback=Z.prototype.Lj;Z.prototype.Set_CapturingMode=Z.prototype.Bj;Z.prototype.Set_DrawHandicapMarks=Z.prototype.Dj;function fh(a,b,c){this.T=void 0===a?0:a;this.ji=void 0===b?null:b;this.bb=void 0===c?0:c}fh.prototype.Ea=function(){return this.ji};fh.prototype.Za=function(a){this.T=a};fh.prototype.xh=function(a){this.ji=a};function gh(){var a=Command;return JSON.stringify({Zc:a.T,kc:a.ji,Xi:a.bb})}fh.prototype.ud=function(){return new fh(this.T,this.ji,this.bb)};function hh(){Y=X=0}function A(a,b,c,d){this.C=a;this.F=b;this.D=c;this.Sa="undefined"===typeof d?255:d}function R(a){return"rgba("+a.C+","+a.F+","+a.D+","+a.Sa/255+")"}function Od(a,b){return a.C!==b.C||a.F!==b.F||a.D!==b.D||a.Sa!==b.Sa?!1:!0}A.prototype.ud=function(){return new A(this.C,this.F,this.D,this.Sa)};function ih(a){return a.C<<24&4278190080|a.F<<16&16711680|a.D<<8&65280|a.Sa&255}A.prototype.Set=function(a,b,c){this.C=a;this.F=b;this.D=c};function yb(a){var b=new hh;b.h=a&255;b.g=a>>8&255;return b}function jh(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Wa(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{h:b,g:c}}return{h:a.x,g:a.y}}function Za(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function $a(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function fc(a,b){return a>b?1:b>a?-1:0}var kh=null;function qf(a,b,c,d,e){a.onmousedown=lh;a.Dc=!0;a.Qc=!0;a.root=a;a.Dc&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Qc&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.Dc&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Qc&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.Rd="undefined"!=typeof b?b:null;a.Sd="undefined"!=typeof d?d:null;a.Le="undefined"!=typeof c?c:null;a.Me="undefined"!=typeof e?e:null;a.Ao=null;a.Bo=null;a.root.Qb=function(){};a.root.Pb=function(){};a.root.Ob=function(){}}function lh(a){var b=kh=this;a=mh(a);var c=parseInt(b.Qc?b.root.style.top:b.root.style.bottom),d=parseInt(b.Dc?b.root.style.left:b.root.style.right);b.root.Qb(d,c);b.qn=a.clientX;b.rn=a.clientY;b.Dc?(null!=b.Rd&&(b.qi=a.clientX-d+b.Rd),null!=b.Le&&(b.$k=b.qi+b.Le-b.Rd)):(null!=b.Rd&&(b.$k=-b.Rd+a.clientX+d),null!=b.Le&&(b.qi=-b.Le+a.clientX+d));b.Qc?(null!=b.Sd&&(b.ri=a.clientY-c+b.Sd),null!=b.Me&&(b.al=b.ri+b.Me-b.Sd)):(null!=b.Sd&&(b.al=-b.Sd+a.clientY+c),null!=b.Me&&(b.ri=-b.Me+a.clientY+c));document.onmousemove=nh;document.onmouseup=oh;return!1}function nh(a){fa(a);a=mh(a);var b=kh,c=a.clientY;a=a.clientX;var d=parseInt(b.Qc?b.root.style.top:b.root.style.bottom),e=parseInt(b.Dc?b.root.style.left:b.root.style.right),f,g;null!=b.Rd&&(a=b.Dc?Math.max(a,b.qi):Math.min(a,b.$k));null!=b.Le&&(a=b.Dc?Math.min(a,b.$k):Math.max(a,b.qi));null!=b.Sd&&(c=b.Qc?Math.max(c,b.ri):Math.min(c,b.al));null!=b.Me&&(c=b.Qc?Math.min(c,b.al):Math.max(c,b.ri));f=e+(a-b.qn)*(b.Dc?1:-1);g=d+(c-b.rn)*(b.Qc?1:-1);b.Ao?f=b.Ao(d):b.Bo&&(g=b.Bo(e));null!=b.Rd&&(f=Math.max(f,b.Rd));null!=b.Le&&(f=Math.min(f,b.Le));null!=b.Sd&&(g=Math.max(g,b.Sd));null!=b.Me&&(g=Math.min(g,b.Me));kh.root.style[b.Dc?"left":"right"]=f+"px";kh.root.style[b.Qc?"top":"bottom"]=g+"px";kh.qn=a;kh.rn=c;kh.root.Ob(f,g);return!1}function oh(){document.onmousemove=null;document.onmouseup=null;kh.root.Pb(parseInt(kh.root.style[kh.Dc?"left":"right"]),parseInt(kh.root.style[kh.Qc?"top":"bottom"]));kh=null}function mh(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function Yc(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.t=b.prototype}var qe=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)},pe=window.cancelAnimationFrame?window.cancelAnimationFrame:window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){window.clearTimeout(a)};function Jc(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);ph(d)}}function Ic(a){var b=document.getElementsByTagName("body");if(0<b.length){var b=b[0],c=document.createElement("input");b.appendChild(c);c.type="file";c.multiple=!1;c.accept=".sgf,.gib,.ngf";c.style.display="none";c.addEventListener("change",function(b){b=b.target.files;if(0<b.length){b=b[0];var c=b.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(b){a.Xc(b.target.result,null,null,c);a.Ia()};f.readAsText(b);a.Ia()}},!1);ph(c);b.removeChild(c)}}function ph(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function le(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function me(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function ch(a){var b="",c,d,e=0,f,g,h=0,k=0;do c=a[k++],d=a[k++],e=a[k++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+qh.charAt(f)+qh.charAt(c)+qh.charAt(g)+qh.charAt(h);while(k<a.length);return b}function rh(a){var b,c,d=0,e="",f=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=qh.indexOf(g.charAt(f++)),d=qh.indexOf(g.charAt(f++)),a=qh.indexOf(g.charAt(f++)),e=qh.indexOf(g.charAt(f++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|e,h.push(b),64!=a&&h.push(c),64!=e&&h.push(d);while(f<g.length);return h}function Kd(a,b){a.innerText?a.innerText=b:a.textContent=b}function Nf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function Sd(a){for(;a.firstChild;)a.removeChild(a.firstChild)}var qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var S=0,I=1,J=2,sh=0,Nc=0,Mc=2,Ta=23.61,Ua=17.51,Va=Ta/2,Ie="data:image/png;base64,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",Ag="data:image/png;base64,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";var Ra=4,Gc=8,Kc=32,xc=128,th=4294967295^Ra,uh=4294967295^Gc,vh=4294967295^Kc,wh=4294967295^xc;function Vg(a){this.ya=new ne(this);this.qb=new Hf;this.f=a;this.xp=new jf;this.pa=new xh;this.R=this.m=null;this.gi=this.k=this.Ja=new yh(this);this.up=null;this.gd=this.cd=0;this.lb=I;this.Jc=this.ze=this.Zn=this.Fn=this.Wb=this.dd=0;this.Je=this.zf=this.ni=this.pd=this.He=this.mi=this.xf=this.ro=this.wf=this.yf="";this.od="Black";this.Ie="";this.qd="White";this.Bf=this.Df=this.Af=this.Ke="";this.of=0;this.to=this.Ef=this.Cf="";this.xe=sh;this.G=4294967295;this.bd=null;this.og=.75;this.En=-1;this.wk=!1;this.Od=S;this.Vn=300;this.Zk="";this.W=this.kf=this.Vk=this.Xk=this.Wk=this.Lk=null;this.Gc=this.pk=!1;this.Nn=0;this.Ck=null;this.mk=!0}function tg(a){var b=new Vg;b.pa=a.pa.ud();b.Ja=zh(a.Ja,a.k);b.k=b.Ja;b.dd=a.dd;tc(b);return b}function Wg(a,b,c,d){!0===b?(a.wk=!0,a.Od=S):(a.wk=!1,a.Od=c);void 0!==d&&(a.Vn=1E3*d)}m=Vg.prototype;m.dj=function(){var a=[];Bc(this.Ja,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));Cc(a[b]);return!0}return!1};m.bg=function(a){if(2&this.G||!0===a){this.af();this.f&&this.f.mm();var b=this,c=function(){0<rc(b.k)&&(b.bd=0,pa(b,1,a));0<rc(b.k)?(b.En=(new Date).getTime(),b.bd=setTimeout(c,100+6900*(1-b.og))):(b.bd=null,b.f&&b.f.wj())},d=100+6900*(1-this.og)-((new Date).getTime()-this.En);0>=d?c():this.bd=setTimeout(c,d)}};m.af=function(){this.f&&this.f.wj();null!==this.bd&&(clearTimeout(this.bd),this.bd=null)};function Be(a){a.R&&a.R.fc();if(a.f){a.jc();var b=a.f;b.Cg&&(b=b.Cg,!0!==b.mg&&df(b,a.og,!0))}}m.r=function(){this.f&&this.f.r()};m.Ia=function(){this.m&&this.m.Ia()};m.Xc=function(a,b,c,d){if(this.G&Gc){Ah.Ed();var e=this.G;this.G=4294967295;var f=null,f="gib"===d?new Bh(this):"ngf"===d?new Ch(this):new Dh(this);f.oj(a);this.wk&&(this.Od=this.lb===I?J:I);a=this.pa.na().h;d=this.pa.na().g;this.m&&b?!0===b.ql?Da(this.m,4>=f.q.aa?0:f.q.aa-2,4>=f.q.ba?0:f.q.ba-2,3>=a-f.q.fa?a-1:f.q.fa,3>=d-f.q.ga?d-1:f.q.ga):void 0!==b.aa&&void 0!==b.fa&&void 0!==b.ba&&void 0!==b.ga&&Da(this.m,b.aa,b.ba,b.fa,b.ga):this.m&&Da(this.m,0,0,a-1,d-1);this.R&&(this.R.fc(),this.R.Qa());c?dh(this,c):(this.gi=b=!this.Rf()||""!==this.Ke&&null!==this.Ke&&void 0!==this.Ke?this.Ja:vf(this.Ja),this.ea(b));b=this.Xd();3!==this.Xd()&&(this.xe=b);this.G=e;this.m&&(e=this.m,e.c.th=null,null!==e.Ee&&Pb(e.b.k)>=Qb(e.Ee)&&Rb(e.Ee));this.f&&this.f.r(!0);T(this,!1)}};m.Wf=function(){var a=new Eh;a.b=this;a.Qd="";a.Xb=null;Fh(a,this.Cb());return a.Qd};m.Ed=function(){this.Ja=new yh(this);this.pd="";T(this,!0);ag(this,"");this.Df="";T(this,!0);bg(this,0);this.Wb="0";T(this,!0);this.of="";T(this,!0);this.Je="";T(this,!0);cg(this,"Black");dg(this,"");eg(this,"White");fg(this,"");this.xf="";T(this,!0);gg(this,"");hg(this,"");this.He="";T(this,!0);this.Af="";T(this,!0);this.Ie="";T(this,!0);this.yf="";T(this,!0);this.zf="";T(this,!0);this.Bf="";T(this,!0);this.Cf="";T(this,!0);this.xe=2;Gh(this)};function Ob(a){var b=a.G;S!==a.Od&&Vd(a,{Vf:!0});a.ea(a.Ja);a.G=b;S!==a.Od&&a.Vk&&Hh(a,a.Vk)}function qa(a,b){for(var c=a.k;null!=c.qa&&0<b&&!(c=c.qa,b--,1<rc(c)););a.ea(c)}function pa(a,b,c){var d=a.k,e=a.Jc;if(1===b)Ih(a,c)&&(a.W&&a.W.GoToNode?(a.W.GoToNode(a.k),a.Jc=e,a.k=d):ac(a));else{for(c=0;c<b&&!(Ih(a),1<rc(a.k));c++);a.W&&a.W.GoToNode?(a.W.GoToNode(a.k),a.Jc=e,a.k=d):a.ea(a.k)}}function tc(a){for(var b=a.k,c=a.Jc;Ih(a););a.W&&a.W.GoToNode?(a.W.GoToNode(a.k),a.Jc=c,a.k=b):a.ea(a.k)}m.nm=function(){this.W&&this.W.Pass?this.W.Pass(this.lb):!0===oc(this,0,0,this.lb)&&ac(this)};function sc(a){var b=a.k.qa;if(null!==b){var c=b.ra,d=rc(b);1<d&&(a.ce()?(b=0<c?b.U(c-1):b.U(d-1),a.ea(b)):0<c&&(b=b.U(c-1),a.ea(b)))}}function uc(a){var b=a.k.qa;if(null!==b){var c=b.ra,d=rc(b);1<d&&(a.ce()?(b=c<d-1?b.U(c+1):b.U(0),a.ea(b)):c<d-1&&(b=b.U(c+1),a.ea(b)))}}m.hh=function(){for(var a=this.k;!Jh(a);){var b=a.qa;if(null===b&&a!==this.Ja)return;a=b}a.hh();this.ea(a);this.R&&this.R.Qa()};m.Zf=function(a){this.lb=a;this.k.Zf(a)};m.Cb=function(){return this.Ja};m.ec=function(a,b,c){this.k.ec(a,b,c)};function $b(a,b,c){if(!(a.G&1))return!1;var d=new yh(a),e=a.k,f;d.qa=e;if(void 0===f&&!0===e.sk&&!0===d.sk)for(f=0;f<e.va.length&&!0===e.va[f].sk;)f++;if(void 0===f){if(e.va.push(d),!0===c||-1===e.ra)e.ra=e.va.length-1}else f=Math.max(0,Math.min(e.va.length,f)),e.va.splice(f,0,d),!0===c||-1===e.ra?e.ra=f:e.ra>=f&&e.ra++;e.b&&T(e.b,!0);a.k=d;a.Jc++;!0===b&&a.R&&(a.R.fc(),a.R.Qa());return!0}function oc(a,b,c,d){for(var e=(c<<8)+b,f=0,g=rc(a.k);f<g;f++){var h=a.k.U(f),k=h.ac,l=k.T;if(!0===a.Gc&&0!==f)return!1;if(e===k.Ea()&&d===l&&(I===d||J===d))return b=a.k.ra,Kh(a.k,f),a.k=h,a.Jc++,a.R&&b!==f&&a.R.Qa(),!0}if(!(a.G&1))return!1;$b(a,!1,!0);a.k.ec(b,c,d);a.R&&(a.R.fc(),a.R.Qa());S!==a.Od&&""!==a.Zk&&a.k.vh(a.Zk);return!0}m.Pe=function(a,b){this.k.Pe(a,b)};m.Xg=function(a){var b=this.k.sb;this.k.Xg(a);this.f&&this.f.Fd(this.k.sb);this.R&&""===b&&""!==a&&this.R.Qa()};m.vh=function(a){var b=this.k.sb;this.k.vh(a);this.R&&(""===b&&""!==a||""!==b&&""===a)&&this.R.Qa()};m.Oa=function(a,b){this.k.Oa(a,b)};m.hc=function(a){this.k.Oa(513,a)};m.Qe=function(a,b){this.k.Qe(a,b)};m.Bi=function(a,b){Lh(this.k)||(this.k.qc.ff=!0);for(var c=0,d=b.length;c<d;c++)this.k.Bi(b[c],a)};m.zi=function(a){this.k.zi(a)};m.Ci=function(a){this.k.Ci(a)};m.Vi=function(){this.pa.ne=[];!0===Lh(this.k)&&(this.k.qc.ff=!1,this.k.Vi());if(this.m){this.m.eb={};for(var a=0,b=this.k.Ma.length;a<b;a++){var c=this.k.Ma[a],d=c.Ea(),e=c.bb;switch(c.T){case 529:for(c=0;c<e;c++){var f=yb(d[c]);this.m.Oa(new Ga(f.h,f.g,Db,""))}break;case 530:for(c=0;c<e;c++)f=yb(d[c]),this.m.Oa(new Ga(f.h,f.g,Gb,""));break;case 531:for(c=0;c<e;c++)f=yb(d[c]),this.m.Oa(new Ga(f.h,f.g,Eb,""));break;case 532:for(c=0;c<e;c++)f=yb(d[c]),this.m.Oa(new Ga(f.h,f.g,Fb,""));break;case 533:f=yb(d.xj);this.m.Oa(new Ga(f.h,f.g,xb,d.Text));break;case 513:for(c=0;c<e;c++)f=yb(d[c]),this.m.hc(f.h,f.g)}}this.k.Vc()?(b=this.k.ac,a=b.Zd(),b=b.$d(),vb(this.m,a,b)):vb(this.m,-1,-1);fb(this.m)}};m.Vc=function(){return this.k.Vc()};function ac(a){a.pa.ne=[];a.m&&(1===a.m.xa&&Qa(a.m,0),a.m.eb={},a.ag(),a.k.qc.kg&&Sa(a.pa,!0));for(var b=0,c=a.k.Ma.length;b<c;b++){var d=a.k.Ma[b],e=d.Ea(),f=d.bb;switch(d.T){case 1:d=yb(e);Mh(a,d.h,d.g,I,!1);break;case 2:d=yb(e);Mh(a,d.h,d.g,J,!1);break;case 257:for(var g=0;g<f;g++)d=yb(e[g]),Nh(a,d.h,d.g,I,-1);break;case 258:for(g=0;g<f;g++)d=yb(e[g]),Nh(a,d.h,d.g,J,-1);break;case 259:for(g=0;g<f;g++)d=yb(e[g]),Nh(a,d.h,d.g,S,-1);break;case 260:a.lb=e;break;case 529:if(a.m)for(g=0;g<f;g++)d=yb(e[g]),a.m.Oa(new Ga(d.h,d.g,Db,""));break;case 530:if(a.m)for(g=0;g<f;g++)d=yb(e[g]),a.m.Oa(new Ga(d.h,d.g,Gb,""));break;case 531:if(a.m)for(g=0;g<f;g++)d=yb(e[g]),a.m.Oa(new Ga(d.h,d.g,Eb,""));break;case 532:if(a.m)for(g=0;g<f;g++)d=yb(e[g]),a.m.Oa(new Ga(d.h,d.g,Fb,""));break;case 533:a.m&&(d=yb(e.xj),a.m.Oa(new Ga(d.h,d.g,xb,e.Text)));break;case 513:if(a.m)for(g=0;g<f;g++)d=yb(e[g]),a.m.hc(d.h,d.g)}}a.m&&(a.k.Vc()?(c=a.k.ac,b=c.Zd(),c=c.$d(),vb(a.m,b,c)):vb(a.m,-1,-1),a.k.qc.kg?(Oh(a.k.qc,a.pa),a.Of(),a.f.xa=1,a.jc()):Lh(a.k)&&Qa(a.m,1),fb(a.m),Ph(a.k,a.m));a.f&&(b=a.k.sb,c=!0,S!==a.Od?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=rc(a.k)&&(-1!==b.indexOf("RIGHT")&&null!==a.Wk?(a.f.Fd(b.replace("RIGHT","")),Hh(a,a.Wk),c=!1):-1===b.indexOf("RIGHT")&&null!==a.Xk&&(a.f.Fd(b),Hh(a,a.Xk),c=!1)),c&&a.f.Fd(b)):a.f.Fd(b));a.R&&rf(a.R,!0);a.jc();if(a.lb===a.Od&&null===a.Lk&&null===a.bd&&null===a.kf&&0<=rc(a.k)){var h=a.G;a.Lk=setTimeout(function(){a.G=4294967295;for(var b=a.k,c=[],d=0,e=rc(b);d<e;d++)-1!==b.U(d).sb.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),Kh(b,c[d])):0<rc(b)&&Kh(b,0);pa(a,1);a.G=h;a.Lk=null},a.Vn);a.G=0}}function Mh(a,b,c,d,e){if(0!=b||0!=c){if(a.qb&&!0!==e){var f=a.qb;Kf(f,f.pm)}Nh(a,b,c,d,a.ze+1,e);f=null;if(!0===a.mk&&null!==(f=pc(a.pa,b,c,d,!1))&&0<f.na()){b=f.na();for(c=0;c<b;c++){var g=yb(f.Ea(c));Nh(a,g.h,g.g,S,-1)}a.qb&&!0!==e&&Jf(a.qb,f.na());I===d?a.cd+=b:a.gd+=b}else if(!0===a.mk&&null!==(f=qc(a.pa,b,c,d))&&0<f.na()){b=f.na();for(c=0;c<b;c++)g=yb(f.Ea(c)),Nh(a,g.h,g.g,S,-1);a.qb&&!0!==e&&Jf(a.qb,f.na());I===d?a.gd+=b:a.cd+=b}else a.pa.md.Ed()}a.lb=I===d?J:I;a.ze++}function Ih(a,b){if(!(a.G&2)&&!0!==b||!0===a.Gc&&!0!==b||0===rc(a.k)||-1===a.k.ra)return!1;a.k=a.k.U(a.k.ra);a.Jc++;return!0}m.ag=function(){this.m&&this.k.ag(this.xe,this.m)};m.Of=function(){if(this.m){var a=this.pa.Of(this.m);fb(this.m);Lh(this.k)||(this.k.qc.ff=!0);var b=this.pa,c=this.k.qc;c.ab={};for(var d=b.na(),e=1;e<=d.g;e++)for(var f=1;f<=d.h;f++){var g=Sb(b,f,e),h=(e<<8)+f;if(I===g||J===g)c.ab[""+h]=g}this.Fn=a.Kf+this.cd;this.Zn=a.dg+this.gd+this.dd;this.jc()}};m.$f=function(a){this.qb.p(a)};m.ea=function(a,b){if((this.G&2||!0===b)&&!0!==this.Gc)if(this.W&&this.W.GoToNode)this.W.GoToNode(a);else{this.af();Gh(this);this.pa.Pa();this.qb&&(this.qb.ef=!1);var c=Cc(a);for(this.k=this.Ja;this.k!=a&&0<rc(this.k);){for(var d=this.k.Ma.length,e=0;e<d;e++){var f=this.k.Ma[e],g=f.Ea(),h=f.bb;switch(f.T){case 1:f=yb(g);Mh(this,f.h,f.g,I,!0);break;case 2:f=yb(g);Mh(this,f.h,f.g,J,!0);break;case 257:for(var k=0;k<h;k++)f=yb(g[k]),this.pa.Set(f.h,f.g,I,-1);break;case 258:for(k=0;k<h;k++)f=yb(g[k]),this.pa.Set(f.h,f.g,J,-1);break;case 259:for(k=0;k<h;k++)f=yb(g[k]),this.pa.Set(f.h,f.g,S,-1)}}if(!Ih(this,b))break}this.m&&bb(this.m);ac(this);this.R&&!0===c&&this.R.Qa();this.qb&&(this.qb.ef=!0)}};function bg(a,b){a.dd=b;T(a,!0)}function Oc(a,b){b!==a.xe&&(a.xe=b,a.ag())}function dg(a,b){a.wf=b;a.f&&a.f.ck(a.wf);T(a,!0)}function hg(a,b){a.mi=b;T(a,!0)}m.Se=function(){var a=this.pd;""===a&&(a=this.qd+" vs. "+this.od);""===a&&(a="White vs. Black");return a};function gg(a,b){a.ni=b;T(a,!0)}function cg(a,b){a.od=b;a.f&&a.f.bk(a.od);T(a,!0)}function eg(a,b){a.qd=b;a.f&&a.f.dk(a.qd);T(a,!0)}function ag(a,b){a.Ke=b;T(a,!0)}function fg(a,b){a.Ef=b;a.f&&a.f.ek(a.Ef);T(a,!0)}function Qh(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.pa.na();if(b!==d.h||c!==d.g)d=a.pa,d.v=b,d.J=c,Rh(d),d.md.Ed(),a.m&&(a=a.m,Ba(a),a.tc(!0))}function Gh(a){a.k=a.Ja;a.cd=0;a.gd=0;a.ze=0;a.Jc=0;a.lb=I}function Nh(a,b,c,d,e,f){a.pa.Set(b,c,d,e);a.m&&!0!==f&&Fa(a.m,b,c,d)}m.jc=function(a){if(this.f){var b=this.xp,c=this.k.qa;b.sd=null===this.k.qa?!1:!0;b.wd=0>=rc(this.k)?!1:!0;if(null!==c){var d=c.ra,c=rc(c);this.ce()?(b.Cd=1<c?!0:!1,b.Dd=1<c?!0:!1):(b.Cd=d<c-1?!0:!1,b.Dd=0<d?!0:!1)}else b.Cd=!1,b.Dd=!1;this.m&&(b.Rb=this.m.xa);for(var d=this.Ja,e=c=1;0<rc(d);)c++,d=d.U(),d===this.k&&(e=c);b.Nm=0<c?(e-1)/(c-1):1;this.f.jc(b);this.m&&1===this.m.xa?this.f.Gd(this.W&&this.W.GetBlackScores?this.W.GetBlackScores():this.Fn,this.W&&this.W.GetWhiteScores?this.W.GetWhiteScores:this.Zn):this.f.cg(this.cd,this.gd);a&&(this.f.ck(this.wf),this.f.ek(this.Ef),this.f.bk(this.od),this.f.dk(this.qd))}};function Vd(a,b){b&&(!0===b.oh?a.G|=1:!1===b.oh&&(a.G&=-2),!0===b.Vf?a.G|=2:!1===b.Vf&&(a.G&=-3),!0===b.Ui?a.G|=Ra:!1===b.Ui&&(a.G&=th),!0===b.pj?a.G|=Gc:!1===b.pj&&(a.G&=uh),!0===b.xd?a.G|=16:!1===b.xd&&(a.G&=-17),!0===b.gn?a.G|=Kc:!1===b.gn&&(a.G&=vh),!0===b.um?a.G|=64:!1===b.um&&(a.G&=-65),!0===b.Zo?a.G|=xc:!1===b.Zo&&(a.G&=wh))}function Ac(a){if(a=a.m){a=za(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;ph(b)}}function Dc(a){var b=[],c=a.Ja;for(b.push(c);0<rc(c);)c=c.U(c.ra),b.push(c);zc(a,b)}function zc(a,b){var c=a.m;if(c){var d=a.k,e=c.c.M,f=c.c.I,g=b.length,h=Math.max(1,Math.ceil(2E6/e/f)),k=0,l=null,n=null,p=5<Math.ceil(g/h)?!0:!1,q=!0===p?dc(a.f.Y.id,Ug,{S:a.f,Q:a}):null;c.Kh=!0;var r=new Sh;r.Jn=Math.floor(150);r.$e();f=e=0;null!==q&&xg(q);a.kf=!0;var u=function(){var t,z;if(null===a.kf)c.Kh=!1,a.ea(d,!0);else{for(var B=Math.min(k+h,g);k<B;k++){a.ea(b[k],!0);oCanvas=za(c,!1);oContext=oCanvas.getContext("2d");t=c;var w={};z={};var C=void 0;for(C in t.Fg)w[C]=t.Fg[C];var v=void 0;for(v in t.eb){var C=parseInt(v),G=t.eb[v];xb===G.T&&S===t.X.N(G.Zd(),G.$d())?z[C]=!1:z[C]=!0}w=t=w;v=z;if(0===e||0===f)e=oCanvas.width,f=oCanvas.height;if(null===l||null===n)Th(r,0,0,e,f,[{aa:0,ba:0,fa:e,ga:f}]);else{var C={},ba;for(ba in v)C[ba]=v[ba];for(ba in n)C[ba]=void 0===C[ba]||!1!==C[ba]&&!1!==n[ba]?n[ba]:!1;for(ba in l)l[ba]!==w[ba]&&!1!==C[ba]&&(C[ba]=!0);w=[];for(ba in C){v=yb(ba);var V=v.h,G=v.g;if(!0!==ia(c,V-1,G-1))v=null;else if(v=c.c.ka,!0===C[ba])var D=c.c.Tb,K=(D-1)/2,aa=c.ui()?c.c.wb:0,V=v[V-1].h-K,v=v[G-1].g-K,v={aa:V,ba:v,fa:V+D+aa,ga:v+D+aa};else D=v[V-1].Hd,G=v[G-1].Id,v={aa:D,ba:G,fa:D+(v[1].h-v[0].h+2),ga:G+(v[1].g-v[0].g+2)};null!==v&&w.push(v)}if(0<w.length){C=e;G=f;V=aa=D=0;for(K=w.length;V<K;V++)v=w[V],v.aa<C&&(C=v.aa),v.ba<G&&(G=v.ba),v.fa>D&&(D=v.fa),v.ga>aa&&(aa=v.ga);Th(r,C,G,D-C,aa-G,w)}else Th(r,0,0,e,f,[])}l=t;n=z}null!==q&&wg(q,Math.min(100,k/g*100));k<g?!0===p?setTimeout(u,10):u():(q&&yg(q),ah(r.ca,59),B=a.pd,""===B&&(B=a.qd+" vs. "+a.od),""===B&&(B="download"),B+=".gif",ba=new Blob([bh(r.ca)],{type:"image/gif"}),Jc(ba,B),a.kf=null,c.Kh=!1,a.ea(d,!0))}};!0===p?setTimeout(u,10):u()}}function Hh(a,b){null===a.kf&&b&&b()}m.Tf=function(){return x.Tf()};m.Ij=function(a){x.Ij(a)};m.Rf=function(){return this.f&&5===this.f.Ld?!1:x.Rf()};m.ee=function(){return x.ee()};m.Yc=function(a,b){!0===b?this.ya.Yc(a):x.Yc(a);this.m&&la(this.m)};m.ce=function(){return x.ce()};m.Cj=function(a){x.Cj(a);this.jc()};m.Te=function(){return x.Te()};m.Kj=function(a){a!==this.Te()&&(x.Kj(a),this.R&&this.R.Qa())};m.Xd=function(){return x.Xd()};m.Hj=function(a){a!==this.Xd()&&x.Hj(a)};m.Ai=function(a,b,c){this.k.Ai(a,b,c);this.f&&ff()};m.zj=function(a,b){this.k.zj(a,b);this.f&&ff()};m.yj=function(){this.k.yj();this.f&&ff()};m.Wi=function(){this.k.Wi();this.m&&Ph(this.k,this.m);this.f&&ff()};function dh(a,b){var c=a.Cb(),d;d=b.replace(RegExp("~","g"),"+");d=d.replace(RegExp("-","g"),"/");d=d.replace(RegExp("_","g"),"=");d=rh(d);d=new Uh(d,d.length);if("GBMR"!==Vh(d,4))a.ea(c);else{var e=Wh(d);if(1===e){var e=Xh(d),e=Vh(d,e),f=eh(c,e);if(null!==f){c=d.e>=d.Ua?0:d.za[d.e++];a.k=f;if(1===c)for(e=Xh(d),c=0;c<e&&1===Wh(d);c++){$b(a,!1,!1);for(var f=Xh(d),g=0;g<f;g++){var h=Wh(d),k=Xh(d);switch(h){case 16:k=yb(Xh(d));a.ec(k.h,k.g,I);break;case 17:k=yb(Xh(d));a.ec(k.h,k.g,J);break;case 32:case 33:case 34:k=I;switch(h){case 32:k=I;break;case 33:k=J;break;case 34:k=S}for(var h=Xh(d),l=[],n=0;n<h;n++)l.push(Xh(d));a.Pe(k,l);break;default:d.e+=k}}Wh(d);f=a.k;a.R&&(a.R.fc(),a.R.Qa())}a.ea(f,!0)}else a.ea(c,!0)}else if(2===e){e=Xh(d);f=c;for(c=0;c<e;c++){g=Xh(d);if(0>g||g>=rc(f)||0>=rc(f))break;f=f.U(g)}a.ea(f,!0)}}}m.kh=function(){this.Ja.kh();this.R&&(this.R.fc(),this.R.Qa(),rf(this.R,!0))};m.mh=function(a){this.k.mh(a);this.R&&(this.R.fc(),this.R.Qa(),rf(this.R,!0))};m.zh=function(){this.m&&this.m.wh(!this.m.Vb)};m.Qf=function(a){var b=this.Cb();if(0!==a)for(var c=0;c!==a&&!(0>=rc(b));){b=b.U(b.ra);if(!b)break;b.Vc()&&c++}a=b;null!==a&&this.ea(a)};m.Re=function(a){return this.f?this.f.Re(a):0};function T(a,b){a.pk=b;a.pk&&a.Ck&&a.Ck()}m.kj=function(){return this.pk};function Sg(a){var b=a.Gc;!0===b&&(a.Gc=!1);var c=a.k,d=a.Cb();a.ea(d);var e=new Yh,f=a.pa;e.v=f.v;e.J=f.J;e.$a=null;Rh(e);for(var g=0,h=0,k=e.$a.length;h<k;h++)e.$a[h].Vd(f.$a[h]),g<e.$a[h].Yd()&&(g=e.$a[h].Yd()),e.$a[h].nf=-1;for(;0<rc(d);)for(d=d.U(d.ra),f=d.Ma.length,k=0;k<f;k++){var h=d.Ma[k],l=h.Ea(),n=h.bb;switch(h.T){case 1:Zh(e,l,I,++g);break;case 2:Zh(e,l,J,++g);break;case 257:for(h=0;h<n;h++)Zh(e,l[h],I,-1);break;case 258:for(h=0;h<n;h++)Zh(e,l[h],J,-1);break;case 259:for(h=0;h<n;h++)Zh(e,l[h],S,-1)}}a.ea(c);!0===b&&(a.Gc=!0);return e}m.Lj=function(a){a&&(this.Ck=a)};m.Bj=function(a){this.mk=a};m.Dj=function(a){this.pa.wn=a};function Sh(){this.ca=null;this.Mh=!0;this.Ge=this.qo=null;this.nb={};this.Un=0;this.sb=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.Jn=0;this.li=null;this.Kn=this.sp=this.J=this.v=0}function Th(a,b,c,d,e,f){var g=oContext;a.Mh&&(a.v=g.canvas.width,a.J=g.canvas.height);a.qo=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.Mh){a.Ge=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.Ge[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.Ge[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.Ge[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.li=[];for(var g=a.nb,h=a.qo,k=c;k<c+e;k++)for(var l=b;l<b+d;l++){var n=l-b+(k-c)*d,p;a:{p=0;for(var q=f.length;p<q;p++){var r=f[p];if(l>=r.aa&&l<=r.fa&&k>=r.ba&&k<=r.ga){p=!0;break a}}p=!1}if(!0===p){r=4*(l+k*a.v);p=h[r+0]&255;var q=h[r+1]&255,r=h[r+2]&255,u=p<<16|q<<8|r;if(void 0===g[u]){for(var t=a.Ge,z=0,B=16777216,w=1;256>w;w++){var C=3*w,v=p-(t[C+0]&255),G=q-(t[C+1]&255),C=r-(t[C+2]&255),v=v*v+G*G+C*C;v<B&&(B=v,z=w)}g[u]=z}a.li[n]=g[u]}else a.li[n]=a.Un}a.Mh&&(Zg(a.ca,a.v),Zg(a.ca,a.J),ah(a.ca,247),ah(a.ca,0),ah(a.ca,0),a.ll(),ah(a.ca,33),ah(a.ca,255),ah(a.ca,11),Yg(a.ca,"NETSCAPE2.0"),ah(a.ca,3),ah(a.ca,1),Zg(a.ca,a.sp),ah(a.ca,0),ah(a.ca,33),ah(a.ca,254),ah(a.ca,a.sb.length),Yg(a.ca,a.sb),ah(a.ca,0));ah(a.ca,33);ah(a.ca,249);ah(a.ca,4);ah(a.ca,5);Zg(a.ca,a.Jn);ah(a.ca,a.Un);ah(a.ca,0);ah(a.ca,44);Zg(a.ca,void 0!==b?b:0);Zg(a.ca,void 0!==c?c:0);Zg(a.ca,void 0!==d?d:a.v);Zg(a.ca,void 0!==e?e:a.J);ah(a.ca,0);b=new $h(a.v,a.J,a.li);c=a.ca;ah(c,b.Mn);b.Hk=b.v*b.J;b.In=0;d=b.Mn+1;b.Ln=d;b.jg=!1;b.Md=d;b.wg=(1<<b.Md)-1;d=1<<d-1;b.Dk=d+1;b.sg=d+2;b.bb=0;e=ai(b);f=0;for(g=5003;65536>g;g*=2)++f;f=8-f;bi(b);ci(b,d,c);for(k=[];-1!==(h=ai(b));)if(g=(h<<12)+e,l=h<<f^e,g===b.cf[l])e=k[l];else{if(0<=b.cf[l]){n=5003-l;p=!1;0===l&&(n=1);do if(0>(l-=n)&&(l+=5003),g===b.cf[l]){e=k[l];p=!0;break}while(0<=b.cf[l]);if(p)continue}ci(b,e,c);e=h;4096>b.sg?(k[l]=b.sg++,b.cf[l]=g):(bi(b),b.sg=d+2,b.jg=!0,ci(b,d,c))}ci(b,e,c);ci(b,b.Dk,c);ah(c,0);a.Mh=!1;console.log("Frame "+a.Kn);a.Kn++}Sh.prototype.$e=function(){this.ca=new Xg;Yg(this.ca,"GIF89a")};Sh.prototype.ll=function(){di(this.ca,this.Ge);for(var a=768-this.Ge.length,b=0;b<a;b++)ah(this.ca,0)};function $h(a,b,c){this.v=a;this.J=b;this.za=c;this.Mn=Math.max(2,8);this.In=this.Hk=0;this.cf=[];this.Ln=0;this.jg=!1;this.lc=this.Ic=this.sg=this.Dk=this.wg=this.Md=0;this.mp=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.bb=0;this.jk=[]}function ai(a){if(0===a.Hk)return-1;--a.Hk;return a.za[a.In++]&255}function bi(a){for(var b=0;5003>b;b++)a.cf[b]=-1}function ci(a,b,c){a.Ic&=a.mp[a.lc];a.Ic=0<a.lc?a.Ic|b<<a.lc:b;for(a.lc+=a.Md;8<=a.lc;){var d=a,e=a.Ic&255,f=c;d.jk[d.bb++]=e;254<=d.bb&&ei(d,f);a.Ic>>=8;a.lc-=8}if(a.sg>a.wg||a.jg)a.jg?(a.Md=a.Ln,a.wg=(1<<a.Md)-1,a.jg=!1):(a.Md++,12==a.Md?a.wg=4096:a.wg=(1<<a.Md)-1);if(b===a.Dk){for(;0<a.lc;)b=a,d=a.Ic&255,e=c,b.jk[b.bb++]=d,254<=b.bb&&ei(b,e),a.Ic>>=8,a.lc-=8;ei(a,c)}}function ei(a,b){0<a.bb&&(ah(b,a.bb),di(b,a.jk,0,a.bb),a.bb=0)};"use strict;";function fi(){this.rg=this.Jb=0}fi.prototype.Ed=function(){this.rg=this.Jb=0};fi.prototype.ud=function(){var a=new fi;a.Vd(this);return a};fi.prototype.Vd=function(a){this.Jb=a.Jb;this.rg=a.rg};fi.prototype.Set=function(a,b){this.Jb=a;this.rg=b};function si(a,b){this.qg=void 0===a?S:a;this.nf=void 0===b?-1:b}m=si.prototype;m.Vd=function(a){this.qg=a.qg;this.nf=a.nf};m.Pa=function(){this.qg=S;this.nf=-1};m.xh=function(a){this.qg=a};m.Ea=function(){return this.qg};m.Yd=function(){return this.nf};function vi(){this.hg=[];this.df=[]}vi.prototype.na=function(){return this.df.length};vi.prototype.Ea=function(a){return this.df[a]};function wi(a,b,c){b=(c<<8)+b;c=0;for(var d=a.df.length;c<d;c++)if(a.df[c]==b)return!0;return!1}function xi(){this.ab={}}xi.prototype.Pa=function(){this.ab={}};xi.prototype.de=function(a,b){var c=(b<<8)+a;if(void 0!==this.ab[c])return!0;this.ab[c]=1;return!1};function gc(){this.hi={};this.Nc=null}gc.prototype.de=function(a,b,c){if(S===c)return null;a=(b<<8)+a;if(null===this.Nc)return this.Nc=c,this.hi[a]=1,!1;if(c!==this.Nc)return null;if(void 0!==this.hi[a])return!0;this.hi[a]=1;return!1};gc.prototype.Ea=function(){return this.Nc};function yi(){this.Na={};this.xg=S}yi.prototype.Pa=function(){this.Na={};this.xg=S};yi.prototype.de=function(a,b){var c=(b<<8)+a;if(void 0!==this.Na[c])return!0;this.Na[c]=1;return!1};function Yb(a,b,c){c=void 0===c?a.xg:c;for(var d in a.Na)a=yb(d|0),b.ne[(a.g-1)*b.v+(a.h-1)]=c}function xh(a,b){this.v=void 0===a?19:a;this.J=void 0===b?19:b;this.$a=null;Rh(this);this.md=new fi;this.ne=[];this.Na=new yi;this.Vh=new xi;this.wn=!0}m=xh.prototype;m.ud=function(){for(var a=new xh(this.v,this.J),b=0,c=this.$a.length;b<c;b++)a.$a[b].Vd(this.$a[b]);a.md.Vd(this.md);return a};m.Pa=function(){for(var a=this.v*this.J,b=0;b<a;b++)this.$a[b].Pa()};m.na=function(){return{h:this.v,g:this.J}};m.Set=function(a,b,c,d){a=(b-1)*this.v+(a-1);this.$a[a].xh(c);void 0!==d&&null!==d&&-1!==d&&(this.$a[a].nf=d)};m.N=function(a,b){return this.$a[(b-1)*this.v+(a-1)].Ea()};m.Yd=function(a,b){return this.$a[(b-1)*this.v+(a-1)].Yd()};function Xa(a){if(!0!==a.wn)return[];for(var b=[],c=zi(a.v),d=zi(a.J),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b.push([c[e],d[f]]);(9!=a.v&&11!=a.v||1!=a.J%2)&&(9!=a.J&&11!=a.J||1!=a.v%2)||b.push([(a.v-1)/2,(a.J-1)/2]);return b}function zi(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function qc(a,b,c,d){var e=new vi;Ai(a,b,c,d,e);return 0<e.na()?e:null}function pc(a,b,c,d,e){var f;switch(d){case I:f=J;break;case J:f=I;break;default:return null}d=new vi;!0!==wi(d,b+1,c)&&Ai(a,b+1,c,f,d);!0!==wi(d,b-1,c)&&Ai(a,b-1,c,f,d);!0!==wi(d,b,c+1)&&Ai(a,b,c+1,f,d);!0!==wi(d,b,c-1)&&Ai(a,b,c-1,f,d);f=d.na();if(1==f){b=(c<<8)+b;c=d.Ea(0);f=a.md;if(c===f.Jb&&b===f.rg&&1==e)return null;a.md.Set(b,c)}else if(1<f)a.md.Ed();else if(0>=f)return null;return d}function Rh(a){var b=a.v*a.J;a.$a=Array(b);for(var c=0;c<b;c++)a.$a[c]=new si}function Bi(a,b,c,d,e){if(b>a.v||1>b||c>a.J||1>c)return!1;var f=a.N(b,c);return S===f?!0:d===f?Ci(a,b,c,d,e):!1}function Ci(a,b,c,d,e){var f;a:{f=(c<<8)+b;for(var g=0,h=e.hg.length;g<h;g++)if(e.hg[g]==f){f=!0;break a}e.hg.push(f);f=!1}return!0===f?!1:!0===Bi(a,b+1,c,d,e)||!0===Bi(a,b-1,c,d,e)||!0===Bi(a,b,c+1,d,e)||!0===Bi(a,b,c-1,d,e)?!0:!1}function Ai(a,b,c,d,e){b>a.v||1>b||c>a.J||1>c||d!==a.N(b,c)||(!0!==Ci(a,b,c,d,e)&&(e.df=e.df.concat(e.hg)),e.hg=[])}function Sa(a,b){a.ne=[];for(var c=1;c<=a.J;c++)for(var d=1;d<=a.v;d++)a.ne[(c-1)*a.v+(d-1)]=S;!0!==b&&Zb(a,!1)}function Sb(a,b,c){return a.ne[(c-1)*a.v+(b-1)]}m.Of=function(a){for(var b=0,c=0,d=1;d<=this.J;d++)for(var e=1;e<=this.v;e++){var f=null,g=Sb(this,e,d);I===g?(f=new Ga(e,d,zb,""),J===this.N(e,d)?b+=2:b++):J===g&&(f=new Ga(e,d,Ab,""),I===this.N(e,d)?c+=2:c++);null===f?a.hc(e,d):a.Oa(f)}return{Kf:b,dg:c}};function Di(a,b,c){if(!(b>a.v||1>b||c>a.J||1>c)){var d=a.N(b,c);if(S!==a.N(b,c))switch(b=a.Na.xg,b){case S:a.Na.xg=d;break;case I:case J:b!==d&&(a.Na.xg=3)}else!1===a.Na.de(b,c)&&(Di(a,b+1,c),Di(a,b-1,c),Di(a,b,c+1),Di(a,b,c-1))}}function Tb(a,b,c,d){b>a.v||1>b||c>a.J||1>c||(3-d===a.N(b,c)?d===Sb(a,b,c)&&a.Vh.de(b,c):!0!==a.Na.de(b,c)&&(Tb(a,b+1,c,d),Tb(a,b-1,c,d),Tb(a,b,c+1,d),Tb(a,b,c-1,d)))}function Ub(a,b,c,d){if(!(b>a.v||1>b||c>a.J||1>c)&&3-d!==a.N(b,c)){if(d===a.N(b,c)){var e=a.Vh,f=(c<<8)+b;void 0!==e.ab[f]&&delete e.ab[f]}!0!==a.Na.de(b,c)&&(Ub(a,b+1,c,d),Ub(a,b-1,c,d),Ub(a,b,c+1,d),Ub(a,b,c-1,d))}}function Zb(a,b){for(var c=1;c<=a.J;c++)for(var d=1;d<=a.v;d++)S===a.N(d,c)&&(S===Sb(a,d,c)||!0===b&&3===Sb(a,d,c))&&(a.Na.Pa(),Di(a,d,c),Yb(a.Na,a))}m.fh=function(a){var b;this.Ta=[];for(var c=0;c<=this.J+1;c++){this.Ta[c]=[];for(var d=0;d<=this.v+1;d++)if(0===d||this.v+1===d||0===c||this.J+1===c){this.Ta[c][d]=0;b=d;for(var e=c,f=100,g=[],h=b-4;h<=b+4;h++)for(var k=e-4;k<=e+4;k++)if(!(1>h||h>this.v||1>k||k>this.J||4<Math.abs(b-h)+Math.abs(e-k))){var l=lb(this,h,k);if(S!==l){var n=Math.abs(b-h)+Math.abs(e-k);n<f?(f=n,g=[],g.push({h:h,g:k,kc:l})):n===f&&g.push({h:h,g:k,kc:l})}}b=g;e=b.length;if(0<e){g=f=!1;for(h=0;h<e;h++)I===b[h].kc&&(g=!0),J===b[h].kc&&(f=!0);if(!0!==f||!0!==g)this.Ta[c][d]=f?-128:128}}else b=lb(this,d,c),this.Ta[c][d]=I===b?128:J===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.J+1;b++)for(d[b]=[],e=0;e<=this.v+1;e++){k=[];k[0]=0<e?this.Ta[b][e-1]:0;k[1]=e<this.v+1?this.Ta[b][e+1]:0;k[2]=0<b?this.Ta[b-1][e]:0;k[3]=b<this.J+1?this.Ta[b+1][e]:0;f=0;h=g=!1;for(l=0;4>l;l++)0<k[l]?(g=!0,f++):0>k[l]&&(h=!0,f--);k=this.Ta[b][e];d[b][e]=0<=k&&!1===h||0>=k&&!1===g?k+f:k}this.Ta=d}for(c=0;3>c;c++)Ei(this);b=d=0;for(c=1;c<=this.J;c++)for(e=1;e<=this.v;e++)f=null,g=this.Ta[c][e],0<g&&I!==this.N(e,c)?(f=new Ga(e,c,zb,""),J===this.N(e,c)?d+=2:d++):0>g&&J!==this.N(e,c)&&(f=new Ga(e,c,Ab,""),I===this.N(e,c)?b+=2:b++),null===f?a.hc(e,c):a.Oa(f);for(c=0;23>c;c++)Ei(this);k=h=0;for(c=1;c<=this.J;c++)for(e=1;e<=this.v;e++)f=null,g=this.Ta[c][e],0<g&&I!==this.N(e,c)?(f=new Ga(e,c,Bb,""),J===this.N(e,c)?h+=2:h++):0>g&&J!==this.N(e,c)&&(f=new Ga(e,c,Cb,""),I===this.N(e,c)?k+=2:k++),null!==f&&a.Oa(f);return{Zg:h,ul:d,Bh:k,kn:b}};function hc(a,b,c,d){1>b||b>a.v||1>c||c>a.J||!1!==d.de(b,c,a.N(b,c))||(hc(a,b+1,c,d),hc(a,b-1,c,d),hc(a,b,c+1,d),hc(a,b,c-1,d),1<b&&1<c&&S===a.N(b-1,c)&&S===a.N(b,c-1)&&hc(a,b-1,c-1,d),b<a.v&&1<c&&S===a.N(b+1,c)&&S===a.N(b,c-1)&&hc(a,b+1,c-1,d),b<a.v&&c<a.J&&S===a.N(b+1,c)&&S===a.N(b,c+1)&&hc(a,b+1,c+1,d),1<b&&c<a.J&&S===a.N(b-1,c)&&S===a.N(b,c+1)&&hc(a,b-1,c+1,d))}function lb(a,b,c){return void 0===a.Kd||void 0===a.Kd[c]||void 0===a.Kd[c][b]?S:a.Kd[c][b]}function Na(a,b,c,d){void 0===a.Kd&&(a.Kd=[]);void 0===a.Kd[c]&&(a.Kd[c]=[]);a.Kd[c][b]=d}function Ei(a){for(var b=[],c=0;c<=a.J+1;c++){b[c]=[];for(var d=0;d<=a.v+1;d++){var e=[];e[0]=0<d?a.Ta[c][d-1]:null;e[1]=d<a.v+1?a.Ta[c][d+1]:null;e[2]=0<c?a.Ta[c-1][d]:null;e[3]=c<a.J+1?a.Ta[c+1][d]:null;for(var f=0,g=0,h=0;4>h;h++)null!==e[h]&&(0<=e[h]&&f++,0>=e[h]&&g--);e=a.Ta[c][d];b[c][d]=0<e&&0!==g?Math.max(e+g,0):0>e&&0!==f?Math.min(e+f,0):e}}a.Ta=b}function Yh(){Yh.t.constructor.call(this,1,1);this.Fc=null}Yc(Yh,xh);function Zh(a,b,c,d){if(!(0>=b)){b=yb(b);var e=a.N(b.h,b.g);if(S!==e){if(-1!==d){var f=(b.g-1)*a.v+(b.h-1);a.Fc&&void 0!==a.Fc.length||(a.Fc=[]);for(var g=0,h=a.Fc.length;g<h;++g)if(f===a.Fc[g].Jp){a.Fc[g].Ch.push({Ff:c,si:d});return}a.Fc.push({Jp:f,Ff:e,si:a.Yd(b.h,b.g),Ch:[{Ff:c,si:d}]})}}else a.Set(b.h,b.g,c,d)}};function Xg(){this.ki=this.za=null;this.e=this.Ib=0;this.p()}Xg.prototype.p=function(){var a=document.createElement("canvas").getContext("2d");this.Ib=5242880;this.ki=a.createImageData(this.Ib/4,1);this.za=this.ki.data;this.e=0};function Fi(a,b){if(a.e+b>=a.Ib){var c=document.createElement("canvas").getContext("2d"),d=a.za;a.Ib*=2;a.ki=c.createImageData(a.Ib/4,1);a.za=a.ki.data;for(var c=a.za,e=0;e<a.rr;e++)c[e]=d[e]}}function bh(a){for(var b=new Uint8Array(a.e),c=0;c<a.e;c++)b[c]=a.za[c];return b}function ah(a,b){Fi(a,1);a.za[a.e++]=b}function Yg(a,b){var c=b.length;Fi(a,c);for(var d=0;d<c;d++)a.za[a.e++]=b.charCodeAt(d)}function di(a,b,c,d){c=c||0;d=d||b.length;for(Fi(a,d-c);c<d;c++)a.za[a.e++]=b[c]}function Zg(a,b){Fi(a,2);a.za[a.e++]=b&255;a.za[a.e++]=b>>8&255}function $g(a,b){Fi(a,4);a.za[a.e++]=b&255;a.za[a.e++]=b>>8&255;a.za[a.e++]=b>>16&255;a.za[a.e++]=b>>24&255}function Uh(a,b){this.za=a;this.Ua=b;this.e=0}function Wh(a){return a.e+1>=a.Ua?0:a.za[a.e++]|a.za[a.e++]<<8}function Xh(a){return a.e+3>=a.Ua?0:a.za[a.e++]|a.za[a.e++]<<8|a.za[a.e++]<<16|a.za[a.e++]<<24}function Vh(a,b){if(a.e+b>a.Ua)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.za[a.e+d]));a.e+=b;return c.join("")};function Gi(a,b){this.Nc=a;this.T=b}m=Gi.prototype;m.Zd=function(){return yb(this.Nc).h};m.$d=function(){return yb(this.Nc).g};m.Ea=function(){return this.Nc};m.xh=function(a){this.Nc=a};m.Za=function(a){this.T=a};m.ud=function(){return new Gi(this.Nc,this.T)};function Hi(){this.Hn=0}Hi.prototype.Ed=function(){this.Hn=0};var Ah=new Hi;function yh(a){this.so=++Ah.Hn+"";this.W=(this.b=a)?a.W:null;this.va=[];this.ra=-1;this.qa=null;this.Ma=[];this.ac=new Gi(0,S);this.sb="";this.qc=new Ii(!1,{});this.pb={h:-1,g:-1,qh:-1};this.Nh=!1;this.nb={};this.sk=!1}m=yh.prototype;m.jj=function(){return this.so};function eh(a,b){if(b===a.so)return a;for(var c=0,d=rc(a);c<d;c++){var e=eh(a.va[c],b);if(null!==e)return e}return null}function zh(a,b){var c=new yh;c.Ma=a.Ma;0<a.va.length&&a!==b&&(c.va[0]=zh(a.va[a.ra],b),c.ra=0,c.va[0].qa=c);return c}m.Sf=function(){return!0};m.Pa=function(){this.va=[];this.ra=-1;this.Ma=[];this.ac=new Gi(0,S);this.sb="";this.qc=new Ii(!1,{})};m.U=function(a){return void 0!==this.va[a]?this.va[a]:this.va[this.ra]};function Kh(a,b){a.ra=b>=a.va.length?a.va.length-1:b}function rc(a){return a.va.length}function Ji(a,b){a.Ma.push(b);a.W&&a.W.Do&&a.W.Do(a.jj(),gh());a.b&&T(a.b,!0)}m.Vc=function(){return S===this.ac.T?!1:!0};m.Xg=function(a){this.sb+=a;this.b&&T(this.b,!0)};m.vh=function(a){this.sb=a;this.b&&T(this.b,!0)};function Lh(a){a=a.qc;return!0===a.kg?!0:a.ff}m.Bi=function(a,b){this.qc.ab[""+a]=b};m.Vi=function(){this.qc.ab={}};m.hh=function(){for(var a=this;0<rc(a);)Kh(a,0),a=a.U(0)};function vf(a){for(;0<rc(a);)a=a.U(0);return a}function Cc(a){for(var b=!1,c=a.qa;null!=c;){for(var d=!1,e=0,f=rc(c);e<f;e++)if(a===c.U(e)){e!==c.ra&&(b=!0);Kh(c,e);d=!0;break}if(!d)return!1;a=c;c=c.qa}return b}function Jh(a){for(var b=null;null!==(b=a.qa);){if(0!=b.ra)return!1;a=b}return!0}m.Xe=function(){for(var a=this,b=null;null!=(b=a.qa);){if(b.U(b.ra)!=a)return!1;a=b}return!0};m.ec=function(a,b,c){a=(b<<8)+a;Ji(this,new fh(I===c?1:2,a));S===this.ac.T&&(this.ac.xh(a),this.ac.Za(c))};m.Pe=function(a,b){Ji(this,new fh(I===a?257:J===a?258:259,jh(b),b.length))};m.Oa=function(a,b){var c=0;switch(a){case Db:c=529;break;case Ha:return;case Eb:c=531;break;case Fb:c=532;break;case xb:c=533;break;case Gb:c=530;break;case 513:c=513}Ji(this,new fh(c,jh(b),b.length))};m.Qe=function(a,b){Ji(this,new fh(533,{Text:a,xj:b}))};m.Zf=function(a){Ji(this,new fh(260,a))};m.zi=function(a){Ji(this,new fh(769,a))};m.Ci=function(a){Ji(this,new fh(770,a))};m.ag=function(a,b){b.a.Ah.d.a.getContext("2d").clearRect(0,0,b.c.M,b.c.I);switch(a){case sh:Ki(this,b,-1);break;case 1:var c=this.qa;null!==c&&Ki(c,b,this.ac.Ea())}};function Pb(a){for(var b=1,c=null;null!==(c=a.qa);)b++,a=c;return b}function Ki(a,b,c){if(b)for(var d=0,e=rc(a);d<e;d++){var f=a.U(d).ac;if(S!==f.T&&c!==f.Ea()){var g=yb(f.Ea()),f=b,h=g.h,k=g.g;if(f.c.ka){var g=(f.c.Tb/2-1)/2,l=f.c.ka;!0===ia(f,h-1,k-1)&&(h=l[h-1].h,k=l[k-1].g,l=f.a.Ah.d.a.getContext("2d"),l.fillStyle=R(f.Hp),l.beginPath(),l.arc(h,k,g,0,2*Math.PI,!1),l.fill())}}}}function Bc(a,b){-1!==a.sb.indexOf("RIGHT")&&b.push(a);for(var c=0,d=rc(a);c<d;c++)Bc(a.U(c),b)}m.Ai=function(a,b,c){this.nb[(b<<8)+a]=c;this.b&&T(this.b,!0)};m.zj=function(a,b){delete this.nb[(b<<8)+a];this.b&&T(this.b,!0)};m.yj=function(){this.nb={};this.b&&T(this.b,!0)};function Ph(a,b){Ib(b);for(var c in a.nb)b.ob[c]=a.nb[c];eb(b)}m.Wi=function(){this.nb={};if(null!==this.qa){var a=this.qa.nb,b;for(b in a)this.nb[b]=a[b].ud()}this.b&&T(this.b,!0)};function Li(a,b){for(var c in a.nb)b[ih(a.nb[c])]=!0;c=0;for(var d=rc(a);c<d;c++)Li(a.va[c],b)}m.kh=function(){for(var a=this,b=this.ra,c=this.U(b);null!==c&&void 0!==c;)0!==b&&(a.va.splice(b,1),a.va.splice(0,0,c),Kh(a,0)),a=c,b=a.ra,c=a.U(b)};m.mh=function(a){for(var b=this,c=this.qa;null!==c&&void 0!==c;){var d=rc(c);if(1<rc(c)){for(var e=0;e<d;++e)if(b===c.U(e)){0<a?0<e&&(c.va.splice(e,1),c.va.splice(e-1,0,b),Kh(c,e-1)):e<d-1&&(c.va.splice(e,1),c.va.splice(e+1,0,b),Kh(c,e+1));break}break}b=c;c=c.qa}};m.Cb=function(){for(var a=this;null!==a.qa;)a=a.qa;return a};function Mb(a,b,c,d){if(d!==I&&d!==J)return-1;b=(c<<8)+b;c=0;for(var e=rc(a);c<e;++c){var f=a.U(c).ac;if(b===f.Ea()&&d==f.T)return c}return-1};var Mi=0;function Dh(a){this.b=a;this.H=[];this.qf=this.e=0;this.lk=[];this.Hc=!0;this.Ib=0;this.q={aa:100,ba:100,fa:-1,ga:-1};this.qp=Mi;this.Xb=null}Dh.prototype.oj=function(a){if(void 0!==a&&""!==a&&(this.H=[],this.qf=this.e=0,this.lk=[],this.Hc=!0,this.Ib=0,this.wi(a),!Ni(this)&&this.b&&this.b.f)){a=this.b;var b=a.f;dc(b.Y.id,ec,{Q:a,S:b,vc:"File cannot be read. Invalid SGF file.",M:275,I:80})}};Dh.prototype.wi=function(a){for(var b=0,c=a.length,d=[],e=!1;b<c;){(e||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var f=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=f||"AN"==f||"BR"==f||"BT"==f||"CP"==f||"DT"==f||"EV"==f||"GN"==f||"GC"==f||"ON"==f||"OT"==f||"PB"==f||"PC"==f||"PW"==f||"RE"==f||"RO"==f||"RU"==f||"SO"==f||"TM"==f||"US"==f||"WR"==f||"WT"==f)e=!0}else e&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(e=!1);b++}this.H=d;this.Ib=this.H.length};function Ni(a){a.b.Ed();if("("===a.H[0]&&";"===a.H[1])for(a.e++;a.e<a.Ib&&(")"!==a.H[a.e]||0!==a.qf);){var b=a.H[a.e];if(";"===b){1!=a.e?$b(a.b,!1,!1):a.b.k=a.b.Cb();a.b.k.Nh=!0;var c;a:{var d=a;d.e++;for(var e=d.H[d.e],f=d.H[d.e+1];void 0!==e&&")"!==e&&";"!==e&&"("!==e;){switch(e){case "A":switch(f){case "B":Oi(d,I);break;case "E":Oi(d,S);break;case "W":Oi(d,J);break;case "N":var g=d;g.e+=3;var h=g.b,k=Pi(g);h.yf=k;T(h,!0);break;case "P":var l=d;l.e+=3;Pi(l);T(l.b,!0);break;default:Qi(d)}break;case "B":switch(f){case "[":Ri(d,I);break;case "R":var n=d;n.e+=3;dg(n.b,Pi(n));break;case "T":var p=d;p.e+=3;var q=p.b,r=Pi(p);q.ro=r;T(q,!0);break;case "L":var u=d;u.e+=3;u.b.zi(Si(u));break;default:Qi(d)}break;case "C":switch(f){case "[":var t=d;t.e+=2;for(var z="";"]"!==t.H[t.e]||"\\"===t.H[t.e-1];)"]"===t.H[t.e+1]&&"\\"===t.H[t.e]?(z+="]",t.e++):z+=t.H[t.e],t.e++;t.e++;switch(t.qp){case 1:for(var B="",w=0,C=0,v=0,G=0,ba=z.length;w<ba;)C=z.charCodeAt(w),128>C?(B+=String.fromCharCode(C),w++):191<C&&224>C?(v=z.charCodeAt(w+1),B+=String.fromCharCode((C&31)<<6|v&63),w+=2):(v=z.charCodeAt(w+1),G=z.charCodeAt(w+2),B+=String.fromCharCode((C&15)<<12|(v&63)<<6|G&63),w+=3);z=B}var V=t.b.k;V&&V.Xg(z);break;case "A":var D=d;D.e+=3;Pi(D);T(D.b,!0);break;case "P":var K=d;K.e+=3;var aa=K.b,N=Pi(K);aa.xf=N;T(aa,!0);break;case "R":Ti(d,Db);break;case "T":var ka=d;ka.e+=3;var ob=Pi(ka);if(""!==ob){var na=rh(ob),Ia=new Uh(na,na.length);if("SGFCT"===Vh(Ia,5)){Wh(Ia);var cb=Xh(Ia);ka.Xb=[];for(var pb=0;pb<cb;pb++){var mc=Xh(Ia);ka.Xb[pb]=new A(0,0,0,0);var Ja=ka.Xb[pb],Pa=mc;Ja.C=Pa>>24&255;Ja.F=Pa>>16&255;Ja.D=Pa>>8&255;Ja.Sa=Pa&255}}}break;case "M":var Ka=d;Ka.e+=3;var Vb=Pi(Ka);if(""!==Vb){var Wb=rh(Vb),Ca=new Uh(Wb,Wb.length);if("SGFCM"===Vh(Ca,5)){Wh(Ca);var db=Wh(Ca),nc=Wh(Ca),Xb=Ka.b.k;Xb.nb={};for(var qb=0;qb<nc;qb++)for(var F=0;F<db;F++){var ea=Ca.e>=Ca.Ua?0:Ca.za[Ca.e++];void 0!==Ka.Xb[ea]&&0!==Ka.Xb[ea].Sa&&(Xb.nb[(qb+1<<8)+(F+1)]=Ka.Xb[ea].ud())}}}break;default:Qi(d)}break;case "D":switch(f){case "T":var ga=d;ga.e+=3;hg(ga.b,Pi(ga));break;default:Qi(d)}break;case "E":switch(f){case "V":var y=d;y.e+=3;var gi=y.b,kj=Pi(y);gi.He=kj;T(gi,!0);break;default:Qi(d)}break;case "F":switch(f){case "F":Qi(d);break;default:Qi(d)}break;case "G":switch(f){case "N":var Je=d;Je.e+=3;var hi=Je.b,lj=Pi(Je);hi.pd=lj;T(hi,!0);break;case "C":var Ke=d;Ke.e+=3;gg(Ke.b,Pi(Ke));break;case "M":var Le=d;Le.e+=3;1!==Ui(Le)&&(Le.Hc=!1);break;default:Qi(d)}break;case "H":switch(f){case "A":var Me=d;Me.e+=3;var ii=Me.b,mj=Ui(Me);ii.Wb=mj;T(ii,!0);break;default:Qi(d)}break;case "K":switch(f){case "M":var Ne=d;Ne.e+=3;bg(Ne.b,Si(Ne));break;default:Qi(d)}break;case "L":switch(f){case "B":var ra=d;for(ra.e+=3;;){var nj=ra.H[ra.e];ra.e++;var oj=ra.H[ra.e];ra.e++;var ji=Vi(ra,nj),ki=Vi(ra,oj);ra.e++;for(var og="";"]"!==ra.H[ra.e]&&ra.e<ra.Ib;)og+=ra.H[ra.e],ra.e++;Wi(ra,ji,ki);ra.b.Qe(og,(ki<<8)+ji);if("]"!==ra.H[ra.e]){ra.Hc=!1;break}ra.e++;if("["!==ra.H[ra.e])break;ra.e++}break;default:Qi(d)}break;case "M":switch(f){case "A":Ti(d,Gb);break;default:Qi(d)}break;case "O":switch(f){case "N":var Oe=d;Oe.e+=3;var li=Oe.b,pj=Pi(Oe);li.zf=pj;T(li,!0);break;case "T":var Pe=d;Pe.e+=3;var mi=Pe.b,qj=Pi(Pe);mi.Je=qj;T(mi,!0);break;default:Qi(d)}break;case "P":switch(f){case "B":var Qe=d;Qe.e+=3;cg(Qe.b,Pi(Qe));break;case "C":var Re=d;Re.e+=3;var ni=Re.b,rj=Pi(Re);ni.Ie=rj;T(ni,!0);break;case "W":var Se=d;Se.e+=3;eg(Se.b,Pi(Se));break;case "L":var Id=d;Id.e+=3;"W"===Pi(Id)?Id.b.Zf(J):Id.b.Zf(I);break;default:Qi(d)}break;case "R":switch(f){case "E":var Te=d;Te.e+=3;ag(Te.b,Pi(Te));break;case "O":var Ue=d;Ue.e+=3;var oi=Ue.b,sj=Pi(Ue);oi.Af=sj;T(oi,!0);break;case "U":var Ve=d;Ve.e+=3;var pi=Ve.b,tj=Pi(Ve);pi.Df=tj;T(pi,!0);break;default:Qi(d)}break;case "S":switch(f){case "Q":Ti(d,Eb);break;case "T":var Zc=d;Zc.e+=3;switch(Ui(Zc)){case 0:Oc(Zc.b,sh);break;case 1:Oc(Zc.b,1);break;default:Oc(Zc.b,2)}break;case "Z":var We=d;We.e+=3;var Jd=Pi(We),pg=19,qg=19,Xe=-1;-1==(Xe=Jd.indexOf(":"))?qg=pg=Math.min(52,Math.max(parseInt(Jd),2)):(pg=parseInt(Jd.substr(0,Xe)),qg=parseInt(Jd.substr(Xe+1,Jd.length-Xe-1)));Qh(We.b,pg,qg);break;case "O":var Ye=d;Ye.e+=3;var qi=Ye.b,uj=Pi(Ye);qi.Bf=uj;T(qi,!0);break;default:Qi(d)}break;case "T":switch(f){case "R":Ti(d,Fb);break;case "M":var Ze=d;Ze.e+=3;var ri=Ze.b,vj=Pi(Ze);ri.of=vj;T(ri,!0);break;case "B":Xi(d,I);break;case "W":Xi(d,J);break;default:Qi(d)}break;case "U":switch(f){case "S":var $e=d;$e.e+=3;var ti=$e.b,wj=Pi($e);ti.Cf=wj;T(ti,!0);break;default:Qi(d)}break;case "W":switch(f){case "[":Ri(d,J);break;case "R":var af=d;af.e+=3;fg(af.b,Pi(af));break;case "T":var bf=d;bf.e+=3;var ui=bf.b,xj=Pi(bf);ui.to=xj;T(ui,!0);break;case "L":var cf=d;cf.e+=3;cf.b.Ci(Si(cf));break;default:Qi(d)}break;default:Qi(d)}if(!d.Hc){c=!1;break a}e=d.H[d.e];f=d.H[d.e+1]}c=!0}if(!c)return!1}else if("("===b)a.lk[a.qf]=a.b.k,a.qf++,a.e++;else if(")"===b)a.qf--,a.b.k=a.lk[a.qf],a.e++;else return!1}else return!1;return!0}function Pi(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.H[a.e]&&b!==a.H[a.e];)c+=a.H[a.e],a.e++;void 0===a.H[a.e]&&(a.Hc=!1);a.e++;return c}function Si(a){a=parseFloat(Pi(a,void 0));return isNaN(a)?0:a}function Ui(a){a=parseInt(Pi(a,void 0));return isNaN(a)?0:a}function Qi(a){for(;;){for(;void 0!==a.H[a.e]&&"]"!==a.H[a.e]&&a.e<a.Ib;)for(a.e++;"]"===a.H[a.e]&&"\\"===a.H[a.e-1];)a.e++;a.e++;if("["!==a.H[a.e])break}}function Vi(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.Hc=!1;return 0}function Oi(a,b){a.e+=3;var c=[];if("]"!==a.H[a.e]){for(;;){var d=a.H[a.e];a.e++;var e=a.H[a.e];a.e++;var f=Vi(a,d),g=Vi(a,e);if(":"===a.H[a.e])for(a.e++,d=a.H[a.e],a.e++,e=a.H[a.e],a.e++,d=Vi(a,d),e=Vi(a,e);g<=e;g++)for(var h=f;h<=d;h++)Wi(a,h,g),c.push((g<<8)+h);else Wi(a,f,g),c.push((g<<8)+f);if("]"!==a.H[a.e]){a.Hc=!1;return}a.e++;if("["!==a.H[a.e])break;a.e++}a.b.Pe(b,c)}}function Ri(a,b){a.e+=2;if("]"==a.H[a.e])a.b.ec(0,0,b);else{var c=a.H[a.e];a.e++;var d=a.H[a.e];a.e++;var e=a.b.pa.na();if("t"===c&&"t"===d&&19>=e.h&&19>=e.g)a.b.ec(0,0,b);else for(c=Vi(a,c),d=Vi(a,d),Wi(a,c,d),a.b.ec(c,d,b);"]"!==a.H[a.e];)if(a.e++,a.e>=a.Ib){a.Hc=!1;break}}a.e++}function Ti(a,b){a.e+=3;var c=[];if("]"!==a.H[a.e]){for(;;){var d=a.H[a.e];a.e++;var e=a.H[a.e];a.e++;var f=Vi(a,d),g=Vi(a,e);if(":"===a.H[a.e])for(a.e++,d=a.H[a.e],a.e++,e=a.H[a.e],a.e++,d=Vi(a,d),e=Vi(a,e);g<=e;g++)for(var h=f;h<=d;h++)Wi(a,h,g),c.push((g<<8)+h);else Wi(a,f,g),c.push((g<<8)+f);if("]"!==a.H[a.e]){a.Hc=!1;return}a.e++;if("["!==a.H[a.e])break;a.e++}a.b.Oa(b,c)}}function Xi(a,b){a.e+=3;var c=[];if("]"!==a.H[a.e]){for(;;){var d=a.H[a.e];a.e++;var e=a.H[a.e];a.e++;var f=Vi(a,d),g=Vi(a,e);if(":"===a.H[a.e])for(a.e++,d=a.H[a.e],a.e++,e=a.H[a.e],a.e++,d=Vi(a,d),e=Vi(a,e);g<=e;g++)for(var h=f;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+f);if("]"!==a.H[a.e]){a.Hc=!1;return}a.e++;if("["!==a.H[a.e])break;a.e++}a.b.Bi(b,c)}}function Wi(a,b,c){b<a.q.aa&&(a.q.aa=b);b>a.q.fa&&(a.q.fa=b);c<a.q.ba&&(a.q.ba=c);c>a.q.ga&&(a.q.ga=c)}function Yi(a){this.b=a;this.Qd=[];this.Ua=this.e=0}Yi.prototype.wi=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.e=0;this.Qd=c;this.Ua=this.Qd.length};function Zi(a){a.b.Ed();a.b.k=a.b.Cb();a.b.k.Nh=!0}function $i(a){return a.e>=a.Ua?-1:a.Qd[a.e++]}function aj(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=$i(a),b+=c;return b}function bj(a){return a.e>=a.Ua?!0:!1}function Ch(a){Ch.t.constructor.call(this,a);this.ze=this.Wb=0;this.jf=19}Yc(Ch,Yi);Ch.prototype.oj=function(a){this.wi(a);Zi(this);this.jl();if(!(1>=this.Wb)){a=[];var b=[];19===this.jf?b=[4,10,16]:13===this.jf?b=[4,7,10]:9===this.jf&&(b=[3,5,7]);if(3===b.length)switch(this.Wb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.Pe(I,b)}}this.il()};Ch.prototype.jl=function(){gg(this.b,aj(this));this.jf=aj(this)|0;Qh(this.b,this.jf,this.jf);cj(this,!1);cj(this,!0);aj(this);var a=aj(this);this.Wb=Math.min(9,Math.max(a|0,0));a=this.b;a.Wb=this.Wb;T(a,!0);aj(this);a=aj(this);bg(this.b,parseFloat(a));a=aj(this);hg(this.b,a);aj(this);a=aj(this);ag(this.b,a);this.ze=aj(this)|0};Ch.prototype.il=function(){if(!bj(this))for(var a=0;a<this.ze;a++){$b(this.b,!1,!1);this.b.k.Nh=!0;if("PM"===$i(this)+$i(this)){$i(this);$i(this);var b="B"===$i(this)?I:J,c=$i(this),d=$i(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.ec(0,0,b):this.b.ec(c,d,b)}aj(this);if(bj(this))break}};function cj(a,b){var c=aj(a),d=c.indexOf(" "),e="",f="";-1!==d?(e=c.substr(0,d).replace(/\s+/g,""),f=c.substr(d).replace(/\s+/g,"")):e=c.replace(/\s+/g,"");!0===b?(cg(a.b,e),dg(a.b,f)):(eg(a.b,e),fg(a.b,f))}function Bh(a){Bh.t.constructor.call(this,a)}Yc(Bh,Yi);Bh.prototype.oj=function(a){this.wi(a);Zi(this);!1!==this.jl()&&this.il()};Bh.prototype.jl=function(){for(var a=-1;"\\"!==a;){if(bj(this))return!1;a=$i(this)}a=$i(this)+$i(this);if("GS"===a)return this.e-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(bj(this))return!1;a=$i(this)}a=$i(this);if("H"===a){if("E"!==$i(this))break;return!0}if("["!==a)break;for(var b="";;){if(bj(this))return!1;a=$i(this);if("="===a)break;b+=a}for(var c="";;){if(bj(this))return!1;a=$i(this);if("\\"===a){if("]"===$i(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],e=-1;-1!==(e=c.indexOf(","));){var f=c.substr(0,e),g=f,h="",k=-1;-1!==(k=f.indexOf(":"))&&(g=f.substr(0,k),h=f.substr(k+1));d.push({nh:g,kc:h});c=c.substr(e+1)}e=0;for(c=d.length;e<c;e++)switch(f=d[e].kc,d[e].nh){case "WNICK":eg(this.b,f);break;case "BNICK":cg(this.b,f);break;case "WLV":fg(this.b,dj(f));break;case "BLV":dg(this.b,dj(f));break;case "GNAME":g=this.b;g.He=f;T(g,!0);break;case "GDATE":hg(this.b,f);break;case "GPLC":g=this.b;g.Ie=f;T(g,!0);break;case "GCMT":gg(this.b,f);break;case "GONGJE":bg(this.b,(f|0)/10);break;case "GRLT":a=f;break;case "ZIPSU":b=f}if(null!==a)switch(a){case "0":ag(this.b,"Black "+(b|0)/10+" win");break;case "1":ag(this.b,"White "+(b|0)/10+" win");break;case "3":ag(this.b,"Black wins by resignation");break;case "4":ag(this.b,"White wins by resignation");break;case "255":ag(this.b,"Unfinished")}}}return!1};Bh.prototype.il=function(){for(var a=-1;"\\"!==a;){if(bj(this))return!1;a=$i(this)}a=$i(this)+$i(this);if("GS"!==a)return!1;aj(this);aj(this);for(aj(this);!bj(this);){var b=aj(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&gg(this.b,c[4]);else if("STO"===a){if(6!==c.length)return!1;$b(this.b,!1,!1);this.b.k.qr=!0;this.b.ec((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?I:J)}}};function dj(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Eh(){this.Xb=this.b=this.Qd=null}function ej(a,b){a.Qd+=b}function fj(a){return 26>=a?96+a:64+a-26}function gj(a,b){var c=yb(b);ej(a,String.fromCharCode(91,fj(c.h),fj(c.g),93))}function hj(a,b){for(var c=0,d=b.length;c<d;c++)gj(a,b[c])}function ij(a,b,c){ej(a,b);ej(a,"["+c+"]")}function jj(a,b,c){c&&""!==c&&ij(a,b,c)}function Fh(a,b){var c=b.qa,d=!1;if(null===c||1<rc(c))d=!0;d&&ej(a,"(");ej(a,";");if(b===a.b.Cb()){var c=a.b,e=c.pa.na();ij(a,"GM",1);ij(a,"FF",4);ij(a,"CA","UTF-8");ij(a,"AP","WebGoBoard:"+GoBoardApi.gh());ij(a,"ST",c.xe);jj(a,"RU",c.Df);ij(a,"SZ",e.h==e.g?e.h:e.h+":"+e.g);ij(a,"KM",c.dd);ij(a,"HA",c.Wb);jj(a,"TM",c.of);jj(a,"OT",c.Je);jj(a,"RE",c.Ke);jj(a,"GN",c.pd);jj(a,"DT",c.mi);jj(a,"CP",c.xf);jj(a,"GC",c.ni);jj(a,"PB",c.od);jj(a,"BR",c.wf);jj(a,"BT",c.ro);jj(a,"PW",c.qd);jj(a,"WR",c.Ef);jj(a,"WT",c.to);jj(a,"EV",c.He);jj(a,"RO",c.Af);jj(a,"PC",c.Ie);jj(a,"AN",c.yf);jj(a,"ON",c.zf);jj(a,"SO",c.Bf);jj(a,"US",c.Cf);c={};Li(a.b.Cb(),c);var e=1,f=[],g;for(g in c)c[g]=e,f[e++]=g|0;1<e&&(c[0]=0,f[0]=0,a.Xb=c,a.ll(f))}g=[];for(var c=[],e=[],f=0,h=b.Ma.length;f<h;f++){var k=b.Ma[f],l=k.T,k=k.Ea();switch(l){case 257:case 258:case 259:for(var n=0,p=k.length;n<p;n++){for(var q=k[n],r=0,u=g.length;r<u;r++)q===g[r]&&(g.splice(r,1),u--,r--);r=0;for(u=c.length;r<u;r++)q===c[r]&&(c.splice(r,1),u--,r--);r=0;for(u=e.length;r<u;r++)q===e[r]&&(e.splice(r,1),u--,r--);257===l?g.push(q):258===l?c.push(q):259===l&&e.push(q)}}}0<g.length&&(ej(a,"AB"),hj(a,g));0<c.length&&(ej(a,"AW"),hj(a,c));0<e.length&&(ej(a,"AE"),hj(a,e));g=[[],[],[],[],[],[]];c=[];h=0;for(e=b.Ma.length;h<e;h++){l=b.Ma[h];k=l.Ea();n=-1;switch(l.T){case 533:n=0;k=[k.xj];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}f=0;for(p=k.length;f<p;f++)for(q=k[f],r=0,u=g.length;r<u;r++)if(r===n)g[r].push(q),0==r&&c.push(l.Ea().Text);else for(var t=0,z=g[r].length;t<z;t++)q===g[r][t]&&(g[r].splice(t,1),0===r&&c.splice(t,1),z--,t--)}if(0<g[0].length)for(ej(a,"LB"),f=0,e=g[0].length;f<e;f++)ej(a,"["),h=a,l=yb(g[0][f]),ej(h,String.fromCharCode(fj(l.h),fj(l.g))),ej(a,":"+c[f]+"]");0<g[1].length&&(ej(a,"CR"),hj(a,g[1]));0<g[2].length&&(ej(a,"MA"),hj(a,g[2]));0<g[3].length&&(ej(a,"SQ"),hj(a,g[3]));0<g[4].length&&(ej(a,"TR"),hj(a,g[4]));g=0;for(c=b.Ma.length;g<c;g++)switch(f=b.Ma[g],e=f.Ea(),f.T){case 1:ej(a,"B");f=a;0!=e?gj(f,e):ej(f,String.fromCharCode(91,93));break;case 2:ej(a,"W");f=a;0!=e?gj(f,e):ej(f,String.fromCharCode(91,93));break;case 769:ej(a,"BL");ej(a,"["+e+"]");break;case 770:ej(a,"WL");ej(a,"["+e+"]");break;case 260:ej(a,"PL"),ej(a,"["+(e===J?"W":"B")+"]")}g=b.sb;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),ej(a,"C"),ej(a,"["),ej(a,g),ej(a,"]"));if(null!==a.Xb){g=new Xg;Yg(g,"SGFCM");Zg(g,1);e=a.b.pa.na();c=e.h;e=e.g;Zg(g,c);Zg(g,e);f=!1;for(h=0;h<e;h++)for(l=0;l<c;l++)(k=b.nb[(h+1<<8)+(l+1)])?(k=ih(k),void 0!==a.Xb[k]?(ah(g,a.Xb[k]),f=!0):ah(g,0)):ah(g,0);!0===f&&(g=ch(bh(g)),ij(a,"CM",g))}g=0;for(c=rc(b);g<c;g++)Fh(a,b.U(g));d&&ej(a,")")}Eh.prototype.ll=function(a){var b=new Xg;Yg(b,"SGFCT");Zg(b,1);$g(b,a.length);for(var c=0,d=a.length;c<d;c++)$g(b,a[c]);a=ch(bh(b));ij(this,"CT",a)};function Ii(a,b){this.ff=a;this.ab=b;this.kg=!1}Ii.prototype.Vd=function(a){this.ff=a.ff;this.kg=a.kg;this.ab={};for(var b in a.ab)this.ab[b]=a.ab[b]};function Oh(a,b){for(var c in a.ab){var d=yb(parseInt(c));b.ne[(d.g-1)*b.v+(d.h-1)]=a.ab[c]}};}());